(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();function Ur(t,e){const n=Object.create(null),s=t.split(",");for(let i=0;i<s.length;i++)n[s[i]]=!0;return e?i=>!!n[i.toLowerCase()]:i=>!!n[i]}const le={},fn=[],Ye=()=>{},Eh=()=>!1,wh=/^on[^a-z]/,mi=t=>wh.test(t),jr=t=>t.startsWith("onUpdate:"),me=Object.assign,Vr=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},xh=Object.prototype.hasOwnProperty,G=(t,e)=>xh.call(t,e),$=Array.isArray,pn=t=>yi(t)==="[object Map]",Ma=t=>yi(t)==="[object Set]",U=t=>typeof t=="function",de=t=>typeof t=="string",zr=t=>typeof t=="symbol",ae=t=>t!==null&&typeof t=="object",Da=t=>ae(t)&&U(t.then)&&U(t.catch),La=Object.prototype.toString,yi=t=>La.call(t),Ih=t=>yi(t).slice(8,-1),Fa=t=>yi(t)==="[object Object]",qr=t=>de(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Ws=Ur(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),vi=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},Sh=/-(\w)/g,lt=vi(t=>t.replace(Sh,(e,n)=>n?n.toUpperCase():"")),Th=/\B([A-Z])/g,kn=vi(t=>t.replace(Th,"-$1").toLowerCase()),bi=vi(t=>t.charAt(0).toUpperCase()+t.slice(1)),Hi=vi(t=>t?`on${bi(t)}`:""),os=(t,e)=>!Object.is(t,e),$i=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},qs=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},Rh=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let Go;const or=()=>Go||(Go=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Pt(t){if($(t)){const e={};for(let n=0;n<t.length;n++){const s=t[n],i=de(s)?kh(s):Pt(s);if(i)for(const r in i)e[r]=i[r]}return e}else{if(de(t))return t;if(ae(t))return t}}const Nh=/;(?![^(]*\))/g,Ah=/:([^]+)/,Ph=/\/\*[^]*?\*\//g;function kh(t){const e={};return t.replace(Ph,"").split(Nh).forEach(n=>{if(n){const s=n.split(Ah);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function Gt(t){let e="";if(de(t))e=t;else if($(t))for(let n=0;n<t.length;n++){const s=Gt(t[n]);s&&(e+=s+" ")}else if(ae(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const Oh="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Mh=Ur(Oh);function Ba(t){return!!t||t===""}const Ce=t=>de(t)?t:t==null?"":$(t)||ae(t)&&(t.toString===La||!U(t.toString))?JSON.stringify(t,Ha,2):String(t),Ha=(t,e)=>e&&e.__v_isRef?Ha(t,e.value):pn(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[s,i])=>(n[`${s} =>`]=i,n),{})}:Ma(e)?{[`Set(${e.size})`]:[...e.values()]}:ae(e)&&!$(e)&&!Fa(e)?String(e):e;let Ue;class $a{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Ue,!e&&Ue&&(this.index=(Ue.scopes||(Ue.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=Ue;try{return Ue=this,e()}finally{Ue=n}}}on(){Ue=this}off(){Ue=this.parent}stop(e){if(this._active){let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.scopes)for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function Dh(t){return new $a(t)}function Lh(t,e=Ue){e&&e.active&&e.effects.push(t)}function Fh(){return Ue}const Kr=t=>{const e=new Set(t);return e.w=0,e.n=0,e},Wa=t=>(t.w&kt)>0,Ua=t=>(t.n&kt)>0,Bh=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=kt},Hh=t=>{const{deps:e}=t;if(e.length){let n=0;for(let s=0;s<e.length;s++){const i=e[s];Wa(i)&&!Ua(i)?i.delete(t):e[n++]=i,i.w&=~kt,i.n&=~kt}e.length=n}},lr=new WeakMap;let Gn=0,kt=1;const ar=30;let Ve;const zt=Symbol(""),cr=Symbol("");class Gr{constructor(e,n=null,s){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,Lh(this,s)}run(){if(!this.active)return this.fn();let e=Ve,n=St;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=Ve,Ve=this,St=!0,kt=1<<++Gn,Gn<=ar?Bh(this):Yo(this),this.fn()}finally{Gn<=ar&&Hh(this),kt=1<<--Gn,Ve=this.parent,St=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Ve===this?this.deferStop=!0:this.active&&(Yo(this),this.onStop&&this.onStop(),this.active=!1)}}function Yo(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let St=!0;const ja=[];function On(){ja.push(St),St=!1}function Mn(){const t=ja.pop();St=t===void 0?!0:t}function Le(t,e,n){if(St&&Ve){let s=lr.get(t);s||lr.set(t,s=new Map);let i=s.get(n);i||s.set(n,i=Kr()),Va(i)}}function Va(t,e){let n=!1;Gn<=ar?Ua(t)||(t.n|=kt,n=!Wa(t)):n=!t.has(Ve),n&&(t.add(Ve),Ve.deps.push(t))}function _t(t,e,n,s,i,r){const o=lr.get(t);if(!o)return;let l=[];if(e==="clear")l=[...o.values()];else if(n==="length"&&$(t)){const a=Number(s);o.forEach((c,u)=>{(u==="length"||u>=a)&&l.push(c)})}else switch(n!==void 0&&l.push(o.get(n)),e){case"add":$(t)?qr(n)&&l.push(o.get("length")):(l.push(o.get(zt)),pn(t)&&l.push(o.get(cr)));break;case"delete":$(t)||(l.push(o.get(zt)),pn(t)&&l.push(o.get(cr)));break;case"set":pn(t)&&l.push(o.get(zt));break}if(l.length===1)l[0]&&ur(l[0]);else{const a=[];for(const c of l)c&&a.push(...c);ur(Kr(a))}}function ur(t,e){const n=$(t)?t:[...t];for(const s of n)s.computed&&Qo(s);for(const s of n)s.computed||Qo(s)}function Qo(t,e){(t!==Ve||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}const $h=Ur("__proto__,__v_isRef,__isVue"),za=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(zr)),Wh=Yr(),Uh=Yr(!1,!0),jh=Yr(!0),Xo=Vh();function Vh(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const s=Q(this);for(let r=0,o=this.length;r<o;r++)Le(s,"get",r+"");const i=s[e](...n);return i===-1||i===!1?s[e](...n.map(Q)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){On();const s=Q(this)[e].apply(this,n);return Mn(),s}}),t}function zh(t){const e=Q(this);return Le(e,"has",t),e.hasOwnProperty(t)}function Yr(t=!1,e=!1){return function(s,i,r){if(i==="__v_isReactive")return!t;if(i==="__v_isReadonly")return t;if(i==="__v_isShallow")return e;if(i==="__v_raw"&&r===(t?e?ld:Qa:e?Ya:Ga).get(s))return s;const o=$(s);if(!t){if(o&&G(Xo,i))return Reflect.get(Xo,i,r);if(i==="hasOwnProperty")return zh}const l=Reflect.get(s,i,r);return(zr(i)?za.has(i):$h(i))||(t||Le(s,"get",i),e)?l:Se(l)?o&&qr(i)?l:l.value:ae(l)?t?Xa(l):ws(l):l}}const qh=qa(),Kh=qa(!0);function qa(t=!1){return function(n,s,i,r){let o=n[s];if(wn(o)&&Se(o)&&!Se(i))return!1;if(!t&&(!Ks(i)&&!wn(i)&&(o=Q(o),i=Q(i)),!$(n)&&Se(o)&&!Se(i)))return o.value=i,!0;const l=$(n)&&qr(s)?Number(s)<n.length:G(n,s),a=Reflect.set(n,s,i,r);return n===Q(r)&&(l?os(i,o)&&_t(n,"set",s,i):_t(n,"add",s,i)),a}}function Gh(t,e){const n=G(t,e);t[e];const s=Reflect.deleteProperty(t,e);return s&&n&&_t(t,"delete",e,void 0),s}function Yh(t,e){const n=Reflect.has(t,e);return(!zr(e)||!za.has(e))&&Le(t,"has",e),n}function Qh(t){return Le(t,"iterate",$(t)?"length":zt),Reflect.ownKeys(t)}const Ka={get:Wh,set:qh,deleteProperty:Gh,has:Yh,ownKeys:Qh},Xh={get:jh,set(t,e){return!0},deleteProperty(t,e){return!0}},Jh=me({},Ka,{get:Uh,set:Kh}),Qr=t=>t,Ci=t=>Reflect.getPrototypeOf(t);function Os(t,e,n=!1,s=!1){t=t.__v_raw;const i=Q(t),r=Q(e);n||(e!==r&&Le(i,"get",e),Le(i,"get",r));const{has:o}=Ci(i),l=s?Qr:n?eo:ls;if(o.call(i,e))return l(t.get(e));if(o.call(i,r))return l(t.get(r));t!==i&&t.get(e)}function Ms(t,e=!1){const n=this.__v_raw,s=Q(n),i=Q(t);return e||(t!==i&&Le(s,"has",t),Le(s,"has",i)),t===i?n.has(t):n.has(t)||n.has(i)}function Ds(t,e=!1){return t=t.__v_raw,!e&&Le(Q(t),"iterate",zt),Reflect.get(t,"size",t)}function Jo(t){t=Q(t);const e=Q(this);return Ci(e).has.call(e,t)||(e.add(t),_t(e,"add",t,t)),this}function Zo(t,e){e=Q(e);const n=Q(this),{has:s,get:i}=Ci(n);let r=s.call(n,t);r||(t=Q(t),r=s.call(n,t));const o=i.call(n,t);return n.set(t,e),r?os(e,o)&&_t(n,"set",t,e):_t(n,"add",t,e),this}function el(t){const e=Q(this),{has:n,get:s}=Ci(e);let i=n.call(e,t);i||(t=Q(t),i=n.call(e,t)),s&&s.call(e,t);const r=e.delete(t);return i&&_t(e,"delete",t,void 0),r}function tl(){const t=Q(this),e=t.size!==0,n=t.clear();return e&&_t(t,"clear",void 0,void 0),n}function Ls(t,e){return function(s,i){const r=this,o=r.__v_raw,l=Q(o),a=e?Qr:t?eo:ls;return!t&&Le(l,"iterate",zt),o.forEach((c,u)=>s.call(i,a(c),a(u),r))}}function Fs(t,e,n){return function(...s){const i=this.__v_raw,r=Q(i),o=pn(r),l=t==="entries"||t===Symbol.iterator&&o,a=t==="keys"&&o,c=i[t](...s),u=n?Qr:e?eo:ls;return!e&&Le(r,"iterate",a?cr:zt),{next(){const{value:h,done:d}=c.next();return d?{value:h,done:d}:{value:l?[u(h[0]),u(h[1])]:u(h),done:d}},[Symbol.iterator](){return this}}}}function Et(t){return function(...e){return t==="delete"?!1:this}}function Zh(){const t={get(r){return Os(this,r)},get size(){return Ds(this)},has:Ms,add:Jo,set:Zo,delete:el,clear:tl,forEach:Ls(!1,!1)},e={get(r){return Os(this,r,!1,!0)},get size(){return Ds(this)},has:Ms,add:Jo,set:Zo,delete:el,clear:tl,forEach:Ls(!1,!0)},n={get(r){return Os(this,r,!0)},get size(){return Ds(this,!0)},has(r){return Ms.call(this,r,!0)},add:Et("add"),set:Et("set"),delete:Et("delete"),clear:Et("clear"),forEach:Ls(!0,!1)},s={get(r){return Os(this,r,!0,!0)},get size(){return Ds(this,!0)},has(r){return Ms.call(this,r,!0)},add:Et("add"),set:Et("set"),delete:Et("delete"),clear:Et("clear"),forEach:Ls(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(r=>{t[r]=Fs(r,!1,!1),n[r]=Fs(r,!0,!1),e[r]=Fs(r,!1,!0),s[r]=Fs(r,!0,!0)}),[t,n,e,s]}const[ed,td,nd,sd]=Zh();function Xr(t,e){const n=e?t?sd:nd:t?td:ed;return(s,i,r)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?s:Reflect.get(G(n,i)&&i in s?n:s,i,r)}const id={get:Xr(!1,!1)},rd={get:Xr(!1,!0)},od={get:Xr(!0,!1)},Ga=new WeakMap,Ya=new WeakMap,Qa=new WeakMap,ld=new WeakMap;function ad(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function cd(t){return t.__v_skip||!Object.isExtensible(t)?0:ad(Ih(t))}function ws(t){return wn(t)?t:Jr(t,!1,Ka,id,Ga)}function ud(t){return Jr(t,!1,Jh,rd,Ya)}function Xa(t){return Jr(t,!0,Xh,od,Qa)}function Jr(t,e,n,s,i){if(!ae(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const r=i.get(t);if(r)return r;const o=cd(t);if(o===0)return t;const l=new Proxy(t,o===2?s:n);return i.set(t,l),l}function _n(t){return wn(t)?_n(t.__v_raw):!!(t&&t.__v_isReactive)}function wn(t){return!!(t&&t.__v_isReadonly)}function Ks(t){return!!(t&&t.__v_isShallow)}function Ja(t){return _n(t)||wn(t)}function Q(t){const e=t&&t.__v_raw;return e?Q(e):t}function Zr(t){return qs(t,"__v_skip",!0),t}const ls=t=>ae(t)?ws(t):t,eo=t=>ae(t)?Xa(t):t;function Za(t){St&&Ve&&(t=Q(t),Va(t.dep||(t.dep=Kr())))}function ec(t,e){t=Q(t);const n=t.dep;n&&ur(n)}function Se(t){return!!(t&&t.__v_isRef===!0)}function Qn(t){return tc(t,!1)}function hd(t){return tc(t,!0)}function tc(t,e){return Se(t)?t:new dd(t,e)}class dd{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:Q(e),this._value=n?e:ls(e)}get value(){return Za(this),this._value}set value(e){const n=this.__v_isShallow||Ks(e)||wn(e);e=n?e:Q(e),os(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:ls(e),ec(this))}}function gn(t){return Se(t)?t.value:t}const fd={get:(t,e,n)=>gn(Reflect.get(t,e,n)),set:(t,e,n,s)=>{const i=t[e];return Se(i)&&!Se(n)?(i.value=n,!0):Reflect.set(t,e,n,s)}};function nc(t){return _n(t)?t:new Proxy(t,fd)}class pd{constructor(e,n,s,i){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new Gr(e,()=>{this._dirty||(this._dirty=!0,ec(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=s}get value(){const e=Q(this);return Za(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function _d(t,e,n=!1){let s,i;const r=U(t);return r?(s=t,i=Ye):(s=t.get,i=t.set),new pd(s,i,r||!i,n)}function Tt(t,e,n,s){let i;try{i=s?t(...s):t()}catch(r){Ei(r,e,n)}return i}function Qe(t,e,n,s){if(U(t)){const r=Tt(t,e,n,s);return r&&Da(r)&&r.catch(o=>{Ei(o,e,n)}),r}const i=[];for(let r=0;r<t.length;r++)i.push(Qe(t[r],e,n,s));return i}function Ei(t,e,n,s=!0){const i=e?e.vnode:null;if(e){let r=e.parent;const o=e.proxy,l=n;for(;r;){const c=r.ec;if(c){for(let u=0;u<c.length;u++)if(c[u](t,o,l)===!1)return}r=r.parent}const a=e.appContext.config.errorHandler;if(a){Tt(a,null,10,[t,o,l]);return}}gd(t,n,i,s)}function gd(t,e,n,s=!0){console.error(t)}let as=!1,hr=!1;const Ie=[];let ot=0;const mn=[];let ht=null,Wt=0;const sc=Promise.resolve();let to=null;function ic(t){const e=to||sc;return t?e.then(this?t.bind(this):t):e}function md(t){let e=ot+1,n=Ie.length;for(;e<n;){const s=e+n>>>1;cs(Ie[s])<t?e=s+1:n=s}return e}function no(t){(!Ie.length||!Ie.includes(t,as&&t.allowRecurse?ot+1:ot))&&(t.id==null?Ie.push(t):Ie.splice(md(t.id),0,t),rc())}function rc(){!as&&!hr&&(hr=!0,to=sc.then(lc))}function yd(t){const e=Ie.indexOf(t);e>ot&&Ie.splice(e,1)}function vd(t){$(t)?mn.push(...t):(!ht||!ht.includes(t,t.allowRecurse?Wt+1:Wt))&&mn.push(t),rc()}function nl(t,e=as?ot+1:0){for(;e<Ie.length;e++){const n=Ie[e];n&&n.pre&&(Ie.splice(e,1),e--,n())}}function oc(t){if(mn.length){const e=[...new Set(mn)];if(mn.length=0,ht){ht.push(...e);return}for(ht=e,ht.sort((n,s)=>cs(n)-cs(s)),Wt=0;Wt<ht.length;Wt++)ht[Wt]();ht=null,Wt=0}}const cs=t=>t.id==null?1/0:t.id,bd=(t,e)=>{const n=cs(t)-cs(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function lc(t){hr=!1,as=!0,Ie.sort(bd);const e=Ye;try{for(ot=0;ot<Ie.length;ot++){const n=Ie[ot];n&&n.active!==!1&&Tt(n,null,14)}}finally{ot=0,Ie.length=0,oc(),as=!1,to=null,(Ie.length||mn.length)&&lc()}}function Cd(t,e,...n){if(t.isUnmounted)return;const s=t.vnode.props||le;let i=n;const r=e.startsWith("update:"),o=r&&e.slice(7);if(o&&o in s){const u=`${o==="modelValue"?"model":o}Modifiers`,{number:h,trim:d}=s[u]||le;d&&(i=n.map(g=>de(g)?g.trim():g)),h&&(i=n.map(Rh))}let l,a=s[l=Hi(e)]||s[l=Hi(lt(e))];!a&&r&&(a=s[l=Hi(kn(e))]),a&&Qe(a,t,6,i);const c=s[l+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[l])return;t.emitted[l]=!0,Qe(c,t,6,i)}}function ac(t,e,n=!1){const s=e.emitsCache,i=s.get(t);if(i!==void 0)return i;const r=t.emits;let o={},l=!1;if(!U(t)){const a=c=>{const u=ac(c,e,!0);u&&(l=!0,me(o,u))};!n&&e.mixins.length&&e.mixins.forEach(a),t.extends&&a(t.extends),t.mixins&&t.mixins.forEach(a)}return!r&&!l?(ae(t)&&s.set(t,null),null):($(r)?r.forEach(a=>o[a]=null):me(o,r),ae(t)&&s.set(t,o),o)}function wi(t,e){return!t||!mi(e)?!1:(e=e.slice(2).replace(/Once$/,""),G(t,e[0].toLowerCase()+e.slice(1))||G(t,kn(e))||G(t,e))}let Te=null,cc=null;function Gs(t){const e=Te;return Te=t,cc=t&&t.type.__scopeId||null,e}function dr(t,e=Te,n){if(!e||t._n)return t;const s=(...i)=>{s._d&&pl(-1);const r=Gs(e);let o;try{o=t(...i)}finally{Gs(r),s._d&&pl(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function Wi(t){const{type:e,vnode:n,proxy:s,withProxy:i,props:r,propsOptions:[o],slots:l,attrs:a,emit:c,render:u,renderCache:h,data:d,setupState:g,ctx:b,inheritAttrs:S}=t;let k,O;const D=Gs(t);try{if(n.shapeFlag&4){const B=i||s;k=rt(u.call(B,B,h,r,g,d,b)),O=a}else{const B=e;k=rt(B.length>1?B(r,{attrs:a,slots:l,emit:c}):B(r,null)),O=e.props?a:Ed(a)}}catch(B){Zn.length=0,Ei(B,t,1),k=Re(Ot)}let K=k;if(O&&S!==!1){const B=Object.keys(O),{shapeFlag:ve}=K;B.length&&ve&7&&(o&&B.some(jr)&&(O=wd(O,o)),K=xn(K,O))}return n.dirs&&(K=xn(K),K.dirs=K.dirs?K.dirs.concat(n.dirs):n.dirs),n.transition&&(K.transition=n.transition),k=K,Gs(D),k}const Ed=t=>{let e;for(const n in t)(n==="class"||n==="style"||mi(n))&&((e||(e={}))[n]=t[n]);return e},wd=(t,e)=>{const n={};for(const s in t)(!jr(s)||!(s.slice(9)in e))&&(n[s]=t[s]);return n};function xd(t,e,n){const{props:s,children:i,component:r}=t,{props:o,children:l,patchFlag:a}=e,c=r.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&a>=0){if(a&1024)return!0;if(a&16)return s?sl(s,o,c):!!o;if(a&8){const u=e.dynamicProps;for(let h=0;h<u.length;h++){const d=u[h];if(o[d]!==s[d]&&!wi(c,d))return!0}}}else return(i||l)&&(!l||!l.$stable)?!0:s===o?!1:s?o?sl(s,o,c):!0:!!o;return!1}function sl(t,e,n){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let i=0;i<s.length;i++){const r=s[i];if(e[r]!==t[r]&&!wi(n,r))return!0}return!1}function Id({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const Sd=t=>t.__isSuspense;function Td(t,e){e&&e.pendingBranch?$(t)?e.effects.push(...t):e.effects.push(t):vd(t)}const Bs={};function Us(t,e,n){return uc(t,e,n)}function uc(t,e,{immediate:n,deep:s,flush:i,onTrack:r,onTrigger:o}=le){var l;const a=Fh()===((l=ye)==null?void 0:l.scope)?ye:null;let c,u=!1,h=!1;if(Se(t)?(c=()=>t.value,u=Ks(t)):_n(t)?(c=()=>t,s=!0):$(t)?(h=!0,u=t.some(B=>_n(B)||Ks(B)),c=()=>t.map(B=>{if(Se(B))return B.value;if(_n(B))return jt(B);if(U(B))return Tt(B,a,2)})):U(t)?e?c=()=>Tt(t,a,2):c=()=>{if(!(a&&a.isUnmounted))return d&&d(),Qe(t,a,3,[g])}:c=Ye,e&&s){const B=c;c=()=>jt(B())}let d,g=B=>{d=D.onStop=()=>{Tt(B,a,4)}},b;if(hs)if(g=Ye,e?n&&Qe(e,a,3,[c(),h?[]:void 0,g]):c(),i==="sync"){const B=wf();b=B.__watcherHandles||(B.__watcherHandles=[])}else return Ye;let S=h?new Array(t.length).fill(Bs):Bs;const k=()=>{if(D.active)if(e){const B=D.run();(s||u||(h?B.some((ve,Ne)=>os(ve,S[Ne])):os(B,S)))&&(d&&d(),Qe(e,a,3,[B,S===Bs?void 0:h&&S[0]===Bs?[]:S,g]),S=B)}else D.run()};k.allowRecurse=!!e;let O;i==="sync"?O=k:i==="post"?O=()=>ke(k,a&&a.suspense):(k.pre=!0,a&&(k.id=a.uid),O=()=>no(k));const D=new Gr(c,O);e?n?k():S=D.run():i==="post"?ke(D.run.bind(D),a&&a.suspense):D.run();const K=()=>{D.stop(),a&&a.scope&&Vr(a.scope.effects,D)};return b&&b.push(K),K}function Rd(t,e,n){const s=this.proxy,i=de(t)?t.includes(".")?hc(s,t):()=>s[t]:t.bind(s,s);let r;U(e)?r=e:(r=e.handler,n=e);const o=ye;In(this);const l=uc(i,r.bind(s),n);return o?In(o):qt(),l}function hc(t,e){const n=e.split(".");return()=>{let s=t;for(let i=0;i<n.length&&s;i++)s=s[n[i]];return s}}function jt(t,e){if(!ae(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),Se(t))jt(t.value,e);else if($(t))for(let n=0;n<t.length;n++)jt(t[n],e);else if(Ma(t)||pn(t))t.forEach(n=>{jt(n,e)});else if(Fa(t))for(const n in t)jt(t[n],e);return t}function il(t,e){const n=Te;if(n===null)return t;const s=Ti(n)||n.proxy,i=t.dirs||(t.dirs=[]);for(let r=0;r<e.length;r++){let[o,l,a,c=le]=e[r];o&&(U(o)&&(o={mounted:o,updated:o}),o.deep&&jt(l),i.push({dir:o,instance:s,value:l,oldValue:void 0,arg:a,modifiers:c}))}return t}function Ft(t,e,n,s){const i=t.dirs,r=e&&e.dirs;for(let o=0;o<i.length;o++){const l=i[o];r&&(l.oldValue=r[o].value);let a=l.dir[s];a&&(On(),Qe(a,n,8,[t.el,l,t,e]),Mn())}}function so(t,e){return U(t)?(()=>me({name:t.name},e,{setup:t}))():t}const Xn=t=>!!t.type.__asyncLoader,dc=t=>t.type.__isKeepAlive;function Nd(t,e){fc(t,"a",e)}function Ad(t,e){fc(t,"da",e)}function fc(t,e,n=ye){const s=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(xi(e,s,n),n){let i=n.parent;for(;i&&i.parent;)dc(i.parent.vnode)&&Pd(s,e,n,i),i=i.parent}}function Pd(t,e,n,s){const i=xi(e,t,s,!0);pc(()=>{Vr(s[e],i)},n)}function xi(t,e,n=ye,s=!1){if(n){const i=n[t]||(n[t]=[]),r=e.__weh||(e.__weh=(...o)=>{if(n.isUnmounted)return;On(),In(n);const l=Qe(e,n,t,o);return qt(),Mn(),l});return s?i.unshift(r):i.push(r),r}}const mt=t=>(e,n=ye)=>(!hs||t==="sp")&&xi(t,(...s)=>e(...s),n),kd=mt("bm"),Od=mt("m"),Md=mt("bu"),Dd=mt("u"),Ld=mt("bum"),pc=mt("um"),Fd=mt("sp"),Bd=mt("rtg"),Hd=mt("rtc");function $d(t,e=ye){xi("ec",t,e)}const _c="components";function Ys(t,e){return Ud(_c,t,!0,e)||t}const Wd=Symbol.for("v-ndc");function Ud(t,e,n=!0,s=!1){const i=Te||ye;if(i){const r=i.type;if(t===_c){const l=bf(r,!1);if(l&&(l===e||l===lt(e)||l===bi(lt(e))))return r}const o=rl(i[t]||r[t],e)||rl(i.appContext[t],e);return!o&&s?r:o}}function rl(t,e){return t&&(t[e]||t[lt(e)]||t[bi(lt(e))])}function Ui(t,e,n,s){let i;const r=n&&n[s];if($(t)||de(t)){i=new Array(t.length);for(let o=0,l=t.length;o<l;o++)i[o]=e(t[o],o,void 0,r&&r[o])}else if(typeof t=="number"){i=new Array(t);for(let o=0;o<t;o++)i[o]=e(o+1,o,void 0,r&&r[o])}else if(ae(t))if(t[Symbol.iterator])i=Array.from(t,(o,l)=>e(o,l,void 0,r&&r[l]));else{const o=Object.keys(t);i=new Array(o.length);for(let l=0,a=o.length;l<a;l++){const c=o[l];i[l]=e(t[c],c,l,r&&r[l])}}else i=[];return n&&(n[s]=i),i}function gc(t,e,n={},s,i){if(Te.isCE||Te.parent&&Xn(Te.parent)&&Te.parent.isCE)return e!=="default"&&(n.name=e),Re("slot",n,s&&s());let r=t[e];r&&r._c&&(r._d=!1),Ee();const o=r&&mc(r(n)),l=xs(Oe,{key:n.key||o&&o.key||`_${e}`},o||(s?s():[]),o&&t._===1?64:-2);return!i&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),r&&r._c&&(r._d=!0),l}function mc(t){return t.some(e=>Js(e)?!(e.type===Ot||e.type===Oe&&!mc(e.children)):!0)?t:null}const fr=t=>t?Nc(t)?Ti(t)||t.proxy:fr(t.parent):null,Jn=me(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>fr(t.parent),$root:t=>fr(t.root),$emit:t=>t.emit,$options:t=>io(t),$forceUpdate:t=>t.f||(t.f=()=>no(t.update)),$nextTick:t=>t.n||(t.n=ic.bind(t.proxy)),$watch:t=>Rd.bind(t)}),ji=(t,e)=>t!==le&&!t.__isScriptSetup&&G(t,e),jd={get({_:t},e){const{ctx:n,setupState:s,data:i,props:r,accessCache:o,type:l,appContext:a}=t;let c;if(e[0]!=="$"){const g=o[e];if(g!==void 0)switch(g){case 1:return s[e];case 2:return i[e];case 4:return n[e];case 3:return r[e]}else{if(ji(s,e))return o[e]=1,s[e];if(i!==le&&G(i,e))return o[e]=2,i[e];if((c=t.propsOptions[0])&&G(c,e))return o[e]=3,r[e];if(n!==le&&G(n,e))return o[e]=4,n[e];pr&&(o[e]=0)}}const u=Jn[e];let h,d;if(u)return e==="$attrs"&&Le(t,"get",e),u(t);if((h=l.__cssModules)&&(h=h[e]))return h;if(n!==le&&G(n,e))return o[e]=4,n[e];if(d=a.config.globalProperties,G(d,e))return d[e]},set({_:t},e,n){const{data:s,setupState:i,ctx:r}=t;return ji(i,e)?(i[e]=n,!0):s!==le&&G(s,e)?(s[e]=n,!0):G(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(r[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:s,appContext:i,propsOptions:r}},o){let l;return!!n[o]||t!==le&&G(t,o)||ji(e,o)||(l=r[0])&&G(l,o)||G(s,o)||G(Jn,o)||G(i.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:G(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function ol(t){return $(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let pr=!0;function Vd(t){const e=io(t),n=t.proxy,s=t.ctx;pr=!1,e.beforeCreate&&ll(e.beforeCreate,t,"bc");const{data:i,computed:r,methods:o,watch:l,provide:a,inject:c,created:u,beforeMount:h,mounted:d,beforeUpdate:g,updated:b,activated:S,deactivated:k,beforeDestroy:O,beforeUnmount:D,destroyed:K,unmounted:B,render:ve,renderTracked:Ne,renderTriggered:Ze,errorCaptured:at,serverPrefetch:nn,expose:et,inheritAttrs:bt,components:Lt,directives:tt,filters:Bn}=e;if(c&&zd(c,s,null),o)for(const te in o){const X=o[te];U(X)&&(s[te]=X.bind(n))}if(i){const te=i.call(n,n);ae(te)&&(t.data=ws(te))}if(pr=!0,r)for(const te in r){const X=r[te],ct=U(X)?X.bind(n,n):U(X.get)?X.get.bind(n,n):Ye,Ct=!U(X)&&U(X.set)?X.set.bind(n):Ye,nt=$e({get:ct,set:Ct});Object.defineProperty(s,te,{enumerable:!0,configurable:!0,get:()=>nt.value,set:Pe=>nt.value=Pe})}if(l)for(const te in l)yc(l[te],s,n,te);if(a){const te=U(a)?a.call(n):a;Reflect.ownKeys(te).forEach(X=>{js(X,te[X])})}u&&ll(u,t,"c");function fe(te,X){$(X)?X.forEach(ct=>te(ct.bind(n))):X&&te(X.bind(n))}if(fe(kd,h),fe(Od,d),fe(Md,g),fe(Dd,b),fe(Nd,S),fe(Ad,k),fe($d,at),fe(Hd,Ne),fe(Bd,Ze),fe(Ld,D),fe(pc,B),fe(Fd,nn),$(et))if(et.length){const te=t.exposed||(t.exposed={});et.forEach(X=>{Object.defineProperty(te,X,{get:()=>n[X],set:ct=>n[X]=ct})})}else t.exposed||(t.exposed={});ve&&t.render===Ye&&(t.render=ve),bt!=null&&(t.inheritAttrs=bt),Lt&&(t.components=Lt),tt&&(t.directives=tt)}function zd(t,e,n=Ye){$(t)&&(t=_r(t));for(const s in t){const i=t[s];let r;ae(i)?"default"in i?r=ft(i.from||s,i.default,!0):r=ft(i.from||s):r=ft(i),Se(r)?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):e[s]=r}}function ll(t,e,n){Qe($(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,n)}function yc(t,e,n,s){const i=s.includes(".")?hc(n,s):()=>n[s];if(de(t)){const r=e[t];U(r)&&Us(i,r)}else if(U(t))Us(i,t.bind(n));else if(ae(t))if($(t))t.forEach(r=>yc(r,e,n,s));else{const r=U(t.handler)?t.handler.bind(n):e[t.handler];U(r)&&Us(i,r,t)}}function io(t){const e=t.type,{mixins:n,extends:s}=e,{mixins:i,optionsCache:r,config:{optionMergeStrategies:o}}=t.appContext,l=r.get(e);let a;return l?a=l:!i.length&&!n&&!s?a=e:(a={},i.length&&i.forEach(c=>Qs(a,c,o,!0)),Qs(a,e,o)),ae(e)&&r.set(e,a),a}function Qs(t,e,n,s=!1){const{mixins:i,extends:r}=e;r&&Qs(t,r,n,!0),i&&i.forEach(o=>Qs(t,o,n,!0));for(const o in e)if(!(s&&o==="expose")){const l=qd[o]||n&&n[o];t[o]=l?l(t[o],e[o]):e[o]}return t}const qd={data:al,props:cl,emits:cl,methods:Yn,computed:Yn,beforeCreate:Ae,created:Ae,beforeMount:Ae,mounted:Ae,beforeUpdate:Ae,updated:Ae,beforeDestroy:Ae,beforeUnmount:Ae,destroyed:Ae,unmounted:Ae,activated:Ae,deactivated:Ae,errorCaptured:Ae,serverPrefetch:Ae,components:Yn,directives:Yn,watch:Gd,provide:al,inject:Kd};function al(t,e){return e?t?function(){return me(U(t)?t.call(this,this):t,U(e)?e.call(this,this):e)}:e:t}function Kd(t,e){return Yn(_r(t),_r(e))}function _r(t){if($(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Ae(t,e){return t?[...new Set([].concat(t,e))]:e}function Yn(t,e){return t?me(Object.create(null),t,e):e}function cl(t,e){return t?$(t)&&$(e)?[...new Set([...t,...e])]:me(Object.create(null),ol(t),ol(e??{})):e}function Gd(t,e){if(!t)return e;if(!e)return t;const n=me(Object.create(null),t);for(const s in e)n[s]=Ae(t[s],e[s]);return n}function vc(){return{app:null,config:{isNativeTag:Eh,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Yd=0;function Qd(t,e){return function(s,i=null){U(s)||(s=me({},s)),i!=null&&!ae(i)&&(i=null);const r=vc(),o=new Set;let l=!1;const a=r.app={_uid:Yd++,_component:s,_props:i,_container:null,_context:r,_instance:null,version:xf,get config(){return r.config},set config(c){},use(c,...u){return o.has(c)||(c&&U(c.install)?(o.add(c),c.install(a,...u)):U(c)&&(o.add(c),c(a,...u))),a},mixin(c){return r.mixins.includes(c)||r.mixins.push(c),a},component(c,u){return u?(r.components[c]=u,a):r.components[c]},directive(c,u){return u?(r.directives[c]=u,a):r.directives[c]},mount(c,u,h){if(!l){const d=Re(s,i);return d.appContext=r,u&&e?e(d,c):t(d,c,h),l=!0,a._container=c,c.__vue_app__=a,Ti(d.component)||d.component.proxy}},unmount(){l&&(t(null,a._container),delete a._container.__vue_app__)},provide(c,u){return r.provides[c]=u,a},runWithContext(c){Xs=a;try{return c()}finally{Xs=null}}};return a}}let Xs=null;function js(t,e){if(ye){let n=ye.provides;const s=ye.parent&&ye.parent.provides;s===n&&(n=ye.provides=Object.create(s)),n[t]=e}}function ft(t,e,n=!1){const s=ye||Te;if(s||Xs){const i=s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:Xs._context.provides;if(i&&t in i)return i[t];if(arguments.length>1)return n&&U(e)?e.call(s&&s.proxy):e}}function Xd(t,e,n,s=!1){const i={},r={};qs(r,Si,1),t.propsDefaults=Object.create(null),bc(t,e,i,r);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);n?t.props=s?i:ud(i):t.type.props?t.props=i:t.props=r,t.attrs=r}function Jd(t,e,n,s){const{props:i,attrs:r,vnode:{patchFlag:o}}=t,l=Q(i),[a]=t.propsOptions;let c=!1;if((s||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let h=0;h<u.length;h++){let d=u[h];if(wi(t.emitsOptions,d))continue;const g=e[d];if(a)if(G(r,d))g!==r[d]&&(r[d]=g,c=!0);else{const b=lt(d);i[b]=gr(a,l,b,g,t,!1)}else g!==r[d]&&(r[d]=g,c=!0)}}}else{bc(t,e,i,r)&&(c=!0);let u;for(const h in l)(!e||!G(e,h)&&((u=kn(h))===h||!G(e,u)))&&(a?n&&(n[h]!==void 0||n[u]!==void 0)&&(i[h]=gr(a,l,h,void 0,t,!0)):delete i[h]);if(r!==l)for(const h in r)(!e||!G(e,h))&&(delete r[h],c=!0)}c&&_t(t,"set","$attrs")}function bc(t,e,n,s){const[i,r]=t.propsOptions;let o=!1,l;if(e)for(let a in e){if(Ws(a))continue;const c=e[a];let u;i&&G(i,u=lt(a))?!r||!r.includes(u)?n[u]=c:(l||(l={}))[u]=c:wi(t.emitsOptions,a)||(!(a in s)||c!==s[a])&&(s[a]=c,o=!0)}if(r){const a=Q(n),c=l||le;for(let u=0;u<r.length;u++){const h=r[u];n[h]=gr(i,a,h,c[h],t,!G(c,h))}}return o}function gr(t,e,n,s,i,r){const o=t[n];if(o!=null){const l=G(o,"default");if(l&&s===void 0){const a=o.default;if(o.type!==Function&&!o.skipFactory&&U(a)){const{propsDefaults:c}=i;n in c?s=c[n]:(In(i),s=c[n]=a.call(null,e),qt())}else s=a}o[0]&&(r&&!l?s=!1:o[1]&&(s===""||s===kn(n))&&(s=!0))}return s}function Cc(t,e,n=!1){const s=e.propsCache,i=s.get(t);if(i)return i;const r=t.props,o={},l=[];let a=!1;if(!U(t)){const u=h=>{a=!0;const[d,g]=Cc(h,e,!0);me(o,d),g&&l.push(...g)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!r&&!a)return ae(t)&&s.set(t,fn),fn;if($(r))for(let u=0;u<r.length;u++){const h=lt(r[u]);ul(h)&&(o[h]=le)}else if(r)for(const u in r){const h=lt(u);if(ul(h)){const d=r[u],g=o[h]=$(d)||U(d)?{type:d}:me({},d);if(g){const b=fl(Boolean,g.type),S=fl(String,g.type);g[0]=b>-1,g[1]=S<0||b<S,(b>-1||G(g,"default"))&&l.push(h)}}}const c=[o,l];return ae(t)&&s.set(t,c),c}function ul(t){return t[0]!=="$"}function hl(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function dl(t,e){return hl(t)===hl(e)}function fl(t,e){return $(e)?e.findIndex(n=>dl(n,t)):U(e)&&dl(e,t)?0:-1}const Ec=t=>t[0]==="_"||t==="$stable",ro=t=>$(t)?t.map(rt):[rt(t)],Zd=(t,e,n)=>{if(e._n)return e;const s=dr((...i)=>ro(e(...i)),n);return s._c=!1,s},wc=(t,e,n)=>{const s=t._ctx;for(const i in t){if(Ec(i))continue;const r=t[i];if(U(r))e[i]=Zd(i,r,s);else if(r!=null){const o=ro(r);e[i]=()=>o}}},xc=(t,e)=>{const n=ro(e);t.slots.default=()=>n},ef=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=Q(e),qs(e,"_",n)):wc(e,t.slots={})}else t.slots={},e&&xc(t,e);qs(t.slots,Si,1)},tf=(t,e,n)=>{const{vnode:s,slots:i}=t;let r=!0,o=le;if(s.shapeFlag&32){const l=e._;l?n&&l===1?r=!1:(me(i,e),!n&&l===1&&delete i._):(r=!e.$stable,wc(e,i)),o=e}else e&&(xc(t,e),o={default:1});if(r)for(const l in i)!Ec(l)&&!(l in o)&&delete i[l]};function mr(t,e,n,s,i=!1){if($(t)){t.forEach((d,g)=>mr(d,e&&($(e)?e[g]:e),n,s,i));return}if(Xn(s)&&!i)return;const r=s.shapeFlag&4?Ti(s.component)||s.component.proxy:s.el,o=i?null:r,{i:l,r:a}=t,c=e&&e.r,u=l.refs===le?l.refs={}:l.refs,h=l.setupState;if(c!=null&&c!==a&&(de(c)?(u[c]=null,G(h,c)&&(h[c]=null)):Se(c)&&(c.value=null)),U(a))Tt(a,l,12,[o,u]);else{const d=de(a),g=Se(a);if(d||g){const b=()=>{if(t.f){const S=d?G(h,a)?h[a]:u[a]:a.value;i?$(S)&&Vr(S,r):$(S)?S.includes(r)||S.push(r):d?(u[a]=[r],G(h,a)&&(h[a]=u[a])):(a.value=[r],t.k&&(u[t.k]=a.value))}else d?(u[a]=o,G(h,a)&&(h[a]=o)):g&&(a.value=o,t.k&&(u[t.k]=o))};o?(b.id=-1,ke(b,n)):b()}}}const ke=Td;function nf(t){return sf(t)}function sf(t,e){const n=or();n.__VUE__=!0;const{insert:s,remove:i,patchProp:r,createElement:o,createText:l,createComment:a,setText:c,setElementText:u,parentNode:h,nextSibling:d,setScopeId:g=Ye,insertStaticContent:b}=t,S=(f,p,_,m=null,v=null,C=null,N=!1,x=null,T=!!p.dynamicChildren)=>{if(f===p)return;f&&!$n(f,p)&&(m=y(f),Pe(f,v,C,!0),f=null),p.patchFlag===-2&&(T=!1,p.dynamicChildren=null);const{type:E,ref:L,shapeFlag:P}=p;switch(E){case Ii:k(f,p,_,m);break;case Ot:O(f,p,_,m);break;case Vs:f==null&&D(p,_,m,N);break;case Oe:Lt(f,p,_,m,v,C,N,x,T);break;default:P&1?ve(f,p,_,m,v,C,N,x,T):P&6?tt(f,p,_,m,v,C,N,x,T):(P&64||P&128)&&E.process(f,p,_,m,v,C,N,x,T,R)}L!=null&&v&&mr(L,f&&f.ref,C,p||f,!p)},k=(f,p,_,m)=>{if(f==null)s(p.el=l(p.children),_,m);else{const v=p.el=f.el;p.children!==f.children&&c(v,p.children)}},O=(f,p,_,m)=>{f==null?s(p.el=a(p.children||""),_,m):p.el=f.el},D=(f,p,_,m)=>{[f.el,f.anchor]=b(f.children,p,_,m,f.el,f.anchor)},K=({el:f,anchor:p},_,m)=>{let v;for(;f&&f!==p;)v=d(f),s(f,_,m),f=v;s(p,_,m)},B=({el:f,anchor:p})=>{let _;for(;f&&f!==p;)_=d(f),i(f),f=_;i(p)},ve=(f,p,_,m,v,C,N,x,T)=>{N=N||p.type==="svg",f==null?Ne(p,_,m,v,C,N,x,T):nn(f,p,v,C,N,x,T)},Ne=(f,p,_,m,v,C,N,x)=>{let T,E;const{type:L,props:P,shapeFlag:F,transition:W,dirs:q}=f;if(T=f.el=o(f.type,C,P&&P.is,P),F&8?u(T,f.children):F&16&&at(f.children,T,null,m,v,C&&L!=="foreignObject",N,x),q&&Ft(f,null,m,"created"),Ze(T,f,f.scopeId,N,m),P){for(const ee in P)ee!=="value"&&!Ws(ee)&&r(T,ee,null,P[ee],C,f.children,m,v,be);"value"in P&&r(T,"value",null,P.value),(E=P.onVnodeBeforeMount)&&it(E,m,f)}q&&Ft(f,null,m,"beforeMount");const se=(!v||v&&!v.pendingBranch)&&W&&!W.persisted;se&&W.beforeEnter(T),s(T,p,_),((E=P&&P.onVnodeMounted)||se||q)&&ke(()=>{E&&it(E,m,f),se&&W.enter(T),q&&Ft(f,null,m,"mounted")},v)},Ze=(f,p,_,m,v)=>{if(_&&g(f,_),m)for(let C=0;C<m.length;C++)g(f,m[C]);if(v){let C=v.subTree;if(p===C){const N=v.vnode;Ze(f,N,N.scopeId,N.slotScopeIds,v.parent)}}},at=(f,p,_,m,v,C,N,x,T=0)=>{for(let E=T;E<f.length;E++){const L=f[E]=x?xt(f[E]):rt(f[E]);S(null,L,p,_,m,v,C,N,x)}},nn=(f,p,_,m,v,C,N)=>{const x=p.el=f.el;let{patchFlag:T,dynamicChildren:E,dirs:L}=p;T|=f.patchFlag&16;const P=f.props||le,F=p.props||le;let W;_&&Bt(_,!1),(W=F.onVnodeBeforeUpdate)&&it(W,_,p,f),L&&Ft(p,f,_,"beforeUpdate"),_&&Bt(_,!0);const q=v&&p.type!=="foreignObject";if(E?et(f.dynamicChildren,E,x,_,m,q,C):N||X(f,p,x,null,_,m,q,C,!1),T>0){if(T&16)bt(x,p,P,F,_,m,v);else if(T&2&&P.class!==F.class&&r(x,"class",null,F.class,v),T&4&&r(x,"style",P.style,F.style,v),T&8){const se=p.dynamicProps;for(let ee=0;ee<se.length;ee++){const ue=se[ee],We=P[ue],ln=F[ue];(ln!==We||ue==="value")&&r(x,ue,We,ln,v,f.children,_,m,be)}}T&1&&f.children!==p.children&&u(x,p.children)}else!N&&E==null&&bt(x,p,P,F,_,m,v);((W=F.onVnodeUpdated)||L)&&ke(()=>{W&&it(W,_,p,f),L&&Ft(p,f,_,"updated")},m)},et=(f,p,_,m,v,C,N)=>{for(let x=0;x<p.length;x++){const T=f[x],E=p[x],L=T.el&&(T.type===Oe||!$n(T,E)||T.shapeFlag&70)?h(T.el):_;S(T,E,L,null,m,v,C,N,!0)}},bt=(f,p,_,m,v,C,N)=>{if(_!==m){if(_!==le)for(const x in _)!Ws(x)&&!(x in m)&&r(f,x,_[x],null,N,p.children,v,C,be);for(const x in m){if(Ws(x))continue;const T=m[x],E=_[x];T!==E&&x!=="value"&&r(f,x,E,T,N,p.children,v,C,be)}"value"in m&&r(f,"value",_.value,m.value)}},Lt=(f,p,_,m,v,C,N,x,T)=>{const E=p.el=f?f.el:l(""),L=p.anchor=f?f.anchor:l("");let{patchFlag:P,dynamicChildren:F,slotScopeIds:W}=p;W&&(x=x?x.concat(W):W),f==null?(s(E,_,m),s(L,_,m),at(p.children,_,L,v,C,N,x,T)):P>0&&P&64&&F&&f.dynamicChildren?(et(f.dynamicChildren,F,_,v,C,N,x),(p.key!=null||v&&p===v.subTree)&&Ic(f,p,!0)):X(f,p,_,L,v,C,N,x,T)},tt=(f,p,_,m,v,C,N,x,T)=>{p.slotScopeIds=x,f==null?p.shapeFlag&512?v.ctx.activate(p,_,m,N,T):Bn(p,_,m,v,C,N,T):sn(f,p,T)},Bn=(f,p,_,m,v,C,N)=>{const x=f.component=_f(f,m,v);if(dc(f)&&(x.ctx.renderer=R),gf(x),x.asyncDep){if(v&&v.registerDep(x,fe),!f.el){const T=x.subTree=Re(Ot);O(null,T,p,_)}return}fe(x,f,p,_,v,C,N)},sn=(f,p,_)=>{const m=p.component=f.component;if(xd(f,p,_))if(m.asyncDep&&!m.asyncResolved){te(m,p,_);return}else m.next=p,yd(m.update),m.update();else p.el=f.el,m.vnode=p},fe=(f,p,_,m,v,C,N)=>{const x=()=>{if(f.isMounted){let{next:L,bu:P,u:F,parent:W,vnode:q}=f,se=L,ee;Bt(f,!1),L?(L.el=q.el,te(f,L,N)):L=q,P&&$i(P),(ee=L.props&&L.props.onVnodeBeforeUpdate)&&it(ee,W,L,q),Bt(f,!0);const ue=Wi(f),We=f.subTree;f.subTree=ue,S(We,ue,h(We.el),y(We),f,v,C),L.el=ue.el,se===null&&Id(f,ue.el),F&&ke(F,v),(ee=L.props&&L.props.onVnodeUpdated)&&ke(()=>it(ee,W,L,q),v)}else{let L;const{el:P,props:F}=p,{bm:W,m:q,parent:se}=f,ee=Xn(p);if(Bt(f,!1),W&&$i(W),!ee&&(L=F&&F.onVnodeBeforeMount)&&it(L,se,p),Bt(f,!0),P&&J){const ue=()=>{f.subTree=Wi(f),J(P,f.subTree,f,v,null)};ee?p.type.__asyncLoader().then(()=>!f.isUnmounted&&ue()):ue()}else{const ue=f.subTree=Wi(f);S(null,ue,_,m,f,v,C),p.el=ue.el}if(q&&ke(q,v),!ee&&(L=F&&F.onVnodeMounted)){const ue=p;ke(()=>it(L,se,ue),v)}(p.shapeFlag&256||se&&Xn(se.vnode)&&se.vnode.shapeFlag&256)&&f.a&&ke(f.a,v),f.isMounted=!0,p=_=m=null}},T=f.effect=new Gr(x,()=>no(E),f.scope),E=f.update=()=>T.run();E.id=f.uid,Bt(f,!0),E()},te=(f,p,_)=>{p.component=f;const m=f.vnode.props;f.vnode=p,f.next=null,Jd(f,p.props,m,_),tf(f,p.children,_),On(),nl(),Mn()},X=(f,p,_,m,v,C,N,x,T=!1)=>{const E=f&&f.children,L=f?f.shapeFlag:0,P=p.children,{patchFlag:F,shapeFlag:W}=p;if(F>0){if(F&128){Ct(E,P,_,m,v,C,N,x,T);return}else if(F&256){ct(E,P,_,m,v,C,N,x,T);return}}W&8?(L&16&&be(E,v,C),P!==E&&u(_,P)):L&16?W&16?Ct(E,P,_,m,v,C,N,x,T):be(E,v,C,!0):(L&8&&u(_,""),W&16&&at(P,_,m,v,C,N,x,T))},ct=(f,p,_,m,v,C,N,x,T)=>{f=f||fn,p=p||fn;const E=f.length,L=p.length,P=Math.min(E,L);let F;for(F=0;F<P;F++){const W=p[F]=T?xt(p[F]):rt(p[F]);S(f[F],W,_,null,v,C,N,x,T)}E>L?be(f,v,C,!0,!1,P):at(p,_,m,v,C,N,x,T,P)},Ct=(f,p,_,m,v,C,N,x,T)=>{let E=0;const L=p.length;let P=f.length-1,F=L-1;for(;E<=P&&E<=F;){const W=f[E],q=p[E]=T?xt(p[E]):rt(p[E]);if($n(W,q))S(W,q,_,null,v,C,N,x,T);else break;E++}for(;E<=P&&E<=F;){const W=f[P],q=p[F]=T?xt(p[F]):rt(p[F]);if($n(W,q))S(W,q,_,null,v,C,N,x,T);else break;P--,F--}if(E>P){if(E<=F){const W=F+1,q=W<L?p[W].el:m;for(;E<=F;)S(null,p[E]=T?xt(p[E]):rt(p[E]),_,q,v,C,N,x,T),E++}}else if(E>F)for(;E<=P;)Pe(f[E],v,C,!0),E++;else{const W=E,q=E,se=new Map;for(E=q;E<=F;E++){const Be=p[E]=T?xt(p[E]):rt(p[E]);Be.key!=null&&se.set(Be.key,E)}let ee,ue=0;const We=F-q+1;let ln=!1,zo=0;const Hn=new Array(We);for(E=0;E<We;E++)Hn[E]=0;for(E=W;E<=P;E++){const Be=f[E];if(ue>=We){Pe(Be,v,C,!0);continue}let st;if(Be.key!=null)st=se.get(Be.key);else for(ee=q;ee<=F;ee++)if(Hn[ee-q]===0&&$n(Be,p[ee])){st=ee;break}st===void 0?Pe(Be,v,C,!0):(Hn[st-q]=E+1,st>=zo?zo=st:ln=!0,S(Be,p[st],_,null,v,C,N,x,T),ue++)}const qo=ln?rf(Hn):fn;for(ee=qo.length-1,E=We-1;E>=0;E--){const Be=q+E,st=p[Be],Ko=Be+1<L?p[Be+1].el:m;Hn[E]===0?S(null,st,_,Ko,v,C,N,x,T):ln&&(ee<0||E!==qo[ee]?nt(st,_,Ko,2):ee--)}}},nt=(f,p,_,m,v=null)=>{const{el:C,type:N,transition:x,children:T,shapeFlag:E}=f;if(E&6){nt(f.component.subTree,p,_,m);return}if(E&128){f.suspense.move(p,_,m);return}if(E&64){N.move(f,p,_,R);return}if(N===Oe){s(C,p,_);for(let P=0;P<T.length;P++)nt(T[P],p,_,m);s(f.anchor,p,_);return}if(N===Vs){K(f,p,_);return}if(m!==2&&E&1&&x)if(m===0)x.beforeEnter(C),s(C,p,_),ke(()=>x.enter(C),v);else{const{leave:P,delayLeave:F,afterLeave:W}=x,q=()=>s(C,p,_),se=()=>{P(C,()=>{q(),W&&W()})};F?F(C,q,se):se()}else s(C,p,_)},Pe=(f,p,_,m=!1,v=!1)=>{const{type:C,props:N,ref:x,children:T,dynamicChildren:E,shapeFlag:L,patchFlag:P,dirs:F}=f;if(x!=null&&mr(x,null,_,f,!0),L&256){p.ctx.deactivate(f);return}const W=L&1&&F,q=!Xn(f);let se;if(q&&(se=N&&N.onVnodeBeforeUnmount)&&it(se,p,f),L&6)ks(f.component,_,m);else{if(L&128){f.suspense.unmount(_,m);return}W&&Ft(f,null,p,"beforeUnmount"),L&64?f.type.remove(f,p,_,v,R,m):E&&(C!==Oe||P>0&&P&64)?be(E,p,_,!1,!0):(C===Oe&&P&384||!v&&L&16)&&be(T,p,_),m&&rn(f)}(q&&(se=N&&N.onVnodeUnmounted)||W)&&ke(()=>{se&&it(se,p,f),W&&Ft(f,null,p,"unmounted")},_)},rn=f=>{const{type:p,el:_,anchor:m,transition:v}=f;if(p===Oe){on(_,m);return}if(p===Vs){B(f);return}const C=()=>{i(_),v&&!v.persisted&&v.afterLeave&&v.afterLeave()};if(f.shapeFlag&1&&v&&!v.persisted){const{leave:N,delayLeave:x}=v,T=()=>N(_,C);x?x(f.el,C,T):T()}else C()},on=(f,p)=>{let _;for(;f!==p;)_=d(f),i(f),f=_;i(p)},ks=(f,p,_)=>{const{bum:m,scope:v,update:C,subTree:N,um:x}=f;m&&$i(m),v.stop(),C&&(C.active=!1,Pe(N,f,p,_)),x&&ke(x,p),ke(()=>{f.isUnmounted=!0},p),p&&p.pendingBranch&&!p.isUnmounted&&f.asyncDep&&!f.asyncResolved&&f.suspenseId===p.pendingId&&(p.deps--,p.deps===0&&p.resolve())},be=(f,p,_,m=!1,v=!1,C=0)=>{for(let N=C;N<f.length;N++)Pe(f[N],p,_,m,v)},y=f=>f.shapeFlag&6?y(f.component.subTree):f.shapeFlag&128?f.suspense.next():d(f.anchor||f.el),A=(f,p,_)=>{f==null?p._vnode&&Pe(p._vnode,null,null,!0):S(p._vnode||null,f,p,null,null,null,_),nl(),oc(),p._vnode=f},R={p:S,um:Pe,m:nt,r:rn,mt:Bn,mc:at,pc:X,pbc:et,n:y,o:t};let M,J;return e&&([M,J]=e(R)),{render:A,hydrate:M,createApp:Qd(A,M)}}function Bt({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function Ic(t,e,n=!1){const s=t.children,i=e.children;if($(s)&&$(i))for(let r=0;r<s.length;r++){const o=s[r];let l=i[r];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=i[r]=xt(i[r]),l.el=o.el),n||Ic(o,l)),l.type===Ii&&(l.el=o.el)}}function rf(t){const e=t.slice(),n=[0];let s,i,r,o,l;const a=t.length;for(s=0;s<a;s++){const c=t[s];if(c!==0){if(i=n[n.length-1],t[i]<c){e[s]=i,n.push(s);continue}for(r=0,o=n.length-1;r<o;)l=r+o>>1,t[n[l]]<c?r=l+1:o=l;c<t[n[r]]&&(r>0&&(e[s]=n[r-1]),n[r]=s)}}for(r=n.length,o=n[r-1];r-- >0;)n[r]=o,o=e[o];return n}const of=t=>t.__isTeleport,Oe=Symbol.for("v-fgt"),Ii=Symbol.for("v-txt"),Ot=Symbol.for("v-cmt"),Vs=Symbol.for("v-stc"),Zn=[];let qe=null;function Ee(t=!1){Zn.push(qe=t?null:[])}function lf(){Zn.pop(),qe=Zn[Zn.length-1]||null}let us=1;function pl(t){us+=t}function Sc(t){return t.dynamicChildren=us>0?qe||fn:null,lf(),us>0&&qe&&qe.push(t),t}function je(t,e,n,s,i,r){return Sc(I(t,e,n,s,i,r,!0))}function xs(t,e,n,s,i){return Sc(Re(t,e,n,s,i,!0))}function Js(t){return t?t.__v_isVNode===!0:!1}function $n(t,e){return t.type===e.type&&t.key===e.key}const Si="__vInternal",Tc=({key:t})=>t??null,zs=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?de(t)||Se(t)||U(t)?{i:Te,r:t,k:e,f:!!n}:t:null);function I(t,e=null,n=null,s=0,i=null,r=t===Oe?0:1,o=!1,l=!1){const a={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Tc(e),ref:e&&zs(e),scopeId:cc,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:s,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Te};return l?(oo(a,n),r&128&&t.normalize(a)):n&&(a.shapeFlag|=de(n)?8:16),us>0&&!o&&qe&&(a.patchFlag>0||r&6)&&a.patchFlag!==32&&qe.push(a),a}const Re=af;function af(t,e=null,n=null,s=0,i=null,r=!1){if((!t||t===Wd)&&(t=Ot),Js(t)){const l=xn(t,e,!0);return n&&oo(l,n),us>0&&!r&&qe&&(l.shapeFlag&6?qe[qe.indexOf(t)]=l:qe.push(l)),l.patchFlag|=-2,l}if(Cf(t)&&(t=t.__vccOpts),e){e=cf(e);let{class:l,style:a}=e;l&&!de(l)&&(e.class=Gt(l)),ae(a)&&(Ja(a)&&!$(a)&&(a=me({},a)),e.style=Pt(a))}const o=de(t)?1:Sd(t)?128:of(t)?64:ae(t)?4:U(t)?2:0;return I(t,e,n,s,i,o,r,!0)}function cf(t){return t?Ja(t)||Si in t?me({},t):t:null}function xn(t,e,n=!1){const{props:s,ref:i,patchFlag:r,children:o}=t,l=e?df(s||{},e):s;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:l,key:l&&Tc(l),ref:e&&e.ref?n&&i?$(i)?i.concat(zs(e)):[i,zs(e)]:zs(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Oe?r===-1?16:r|16:r,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&xn(t.ssContent),ssFallback:t.ssFallback&&xn(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function uf(t=" ",e=0){return Re(Ii,null,t,e)}function Rc(t,e){const n=Re(Vs,null,t);return n.staticCount=e,n}function hf(t="",e=!1){return e?(Ee(),xs(Ot,null,t)):Re(Ot,null,t)}function rt(t){return t==null||typeof t=="boolean"?Re(Ot):$(t)?Re(Oe,null,t.slice()):typeof t=="object"?xt(t):Re(Ii,null,String(t))}function xt(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:xn(t)}function oo(t,e){let n=0;const{shapeFlag:s}=t;if(e==null)e=null;else if($(e))n=16;else if(typeof e=="object")if(s&65){const i=e.default;i&&(i._c&&(i._d=!1),oo(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!(Si in e)?e._ctx=Te:i===3&&Te&&(Te.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else U(e)?(e={default:e,_ctx:Te},n=32):(e=String(e),s&64?(n=16,e=[uf(e)]):n=8);t.children=e,t.shapeFlag|=n}function df(...t){const e={};for(let n=0;n<t.length;n++){const s=t[n];for(const i in s)if(i==="class")e.class!==s.class&&(e.class=Gt([e.class,s.class]));else if(i==="style")e.style=Pt([e.style,s.style]);else if(mi(i)){const r=e[i],o=s[i];o&&r!==o&&!($(r)&&r.includes(o))&&(e[i]=r?[].concat(r,o):o)}else i!==""&&(e[i]=s[i])}return e}function it(t,e,n,s=null){Qe(t,e,7,[n,s])}const ff=vc();let pf=0;function _f(t,e,n){const s=t.type,i=(e?e.appContext:t.appContext)||ff,r={uid:pf++,vnode:t,type:s,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new $a(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Cc(s,i),emitsOptions:ac(s,i),emit:null,emitted:null,propsDefaults:le,inheritAttrs:s.inheritAttrs,ctx:le,data:le,props:le,attrs:le,slots:le,refs:le,setupState:le,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=e?e.root:r,r.emit=Cd.bind(null,r),t.ce&&t.ce(r),r}let ye=null,lo,an,_l="__VUE_INSTANCE_SETTERS__";(an=or()[_l])||(an=or()[_l]=[]),an.push(t=>ye=t),lo=t=>{an.length>1?an.forEach(e=>e(t)):an[0](t)};const In=t=>{lo(t),t.scope.on()},qt=()=>{ye&&ye.scope.off(),lo(null)};function Nc(t){return t.vnode.shapeFlag&4}let hs=!1;function gf(t,e=!1){hs=e;const{props:n,children:s}=t.vnode,i=Nc(t);Xd(t,n,i,e),ef(t,s);const r=i?mf(t,e):void 0;return hs=!1,r}function mf(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=Zr(new Proxy(t.ctx,jd));const{setup:s}=n;if(s){const i=t.setupContext=s.length>1?vf(t):null;In(t),On();const r=Tt(s,t,0,[t.props,i]);if(Mn(),qt(),Da(r)){if(r.then(qt,qt),e)return r.then(o=>{gl(t,o,e)}).catch(o=>{Ei(o,t,0)});t.asyncDep=r}else gl(t,r,e)}else Ac(t,e)}function gl(t,e,n){U(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:ae(e)&&(t.setupState=nc(e)),Ac(t,n)}let ml;function Ac(t,e,n){const s=t.type;if(!t.render){if(!e&&ml&&!s.render){const i=s.template||io(t).template;if(i){const{isCustomElement:r,compilerOptions:o}=t.appContext.config,{delimiters:l,compilerOptions:a}=s,c=me(me({isCustomElement:r,delimiters:l},o),a);s.render=ml(i,c)}}t.render=s.render||Ye}In(t),On(),Vd(t),Mn(),qt()}function yf(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,n){return Le(t,"get","$attrs"),e[n]}}))}function vf(t){const e=n=>{t.exposed=n||{}};return{get attrs(){return yf(t)},slots:t.slots,emit:t.emit,expose:e}}function Ti(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(nc(Zr(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Jn)return Jn[n](t)},has(e,n){return n in e||n in Jn}}))}function bf(t,e=!0){return U(t)?t.displayName||t.name:t.name||e&&t.__name}function Cf(t){return U(t)&&"__vccOpts"in t}const $e=(t,e)=>_d(t,e,hs);function Pc(t,e,n){const s=arguments.length;return s===2?ae(e)&&!$(e)?Js(e)?Re(t,null,[e]):Re(t,e):Re(t,null,e):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&Js(n)&&(n=[n]),Re(t,e,n))}const Ef=Symbol.for("v-scx"),wf=()=>ft(Ef),xf="3.3.4",If="http://www.w3.org/2000/svg",Ut=typeof document<"u"?document:null,yl=Ut&&Ut.createElement("template"),Sf={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,s)=>{const i=e?Ut.createElementNS(If,t):Ut.createElement(t,n?{is:n}:void 0);return t==="select"&&s&&s.multiple!=null&&i.setAttribute("multiple",s.multiple),i},createText:t=>Ut.createTextNode(t),createComment:t=>Ut.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Ut.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,s,i,r){const o=n?n.previousSibling:e.lastChild;if(i&&(i===r||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===r||!(i=i.nextSibling)););else{yl.innerHTML=s?`<svg>${t}</svg>`:t;const l=yl.content;if(s){const a=l.firstChild;for(;a.firstChild;)l.appendChild(a.firstChild);l.removeChild(a)}e.insertBefore(l,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}};function Tf(t,e,n){const s=t._vtc;s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}function Rf(t,e,n){const s=t.style,i=de(n);if(n&&!i){if(e&&!de(e))for(const r in e)n[r]==null&&yr(s,r,"");for(const r in n)yr(s,r,n[r])}else{const r=s.display;i?e!==n&&(s.cssText=n):e&&t.removeAttribute("style"),"_vod"in t&&(s.display=r)}}const vl=/\s*!important$/;function yr(t,e,n){if($(n))n.forEach(s=>yr(t,e,s));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const s=Nf(t,e);vl.test(n)?t.setProperty(kn(s),n.replace(vl,""),"important"):t[s]=n}}const bl=["Webkit","Moz","ms"],Vi={};function Nf(t,e){const n=Vi[e];if(n)return n;let s=lt(e);if(s!=="filter"&&s in t)return Vi[e]=s;s=bi(s);for(let i=0;i<bl.length;i++){const r=bl[i]+s;if(r in t)return Vi[e]=r}return e}const Cl="http://www.w3.org/1999/xlink";function Af(t,e,n,s,i){if(s&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(Cl,e.slice(6,e.length)):t.setAttributeNS(Cl,e,n);else{const r=Mh(e);n==null||r&&!Ba(n)?t.removeAttribute(e):t.setAttribute(e,r?"":n)}}function Pf(t,e,n,s,i,r,o){if(e==="innerHTML"||e==="textContent"){s&&o(s,i,r),t[e]=n??"";return}const l=t.tagName;if(e==="value"&&l!=="PROGRESS"&&!l.includes("-")){t._value=n;const c=l==="OPTION"?t.getAttribute("value"):t.value,u=n??"";c!==u&&(t.value=u),n==null&&t.removeAttribute(e);return}let a=!1;if(n===""||n==null){const c=typeof t[e];c==="boolean"?n=Ba(n):n==null&&c==="string"?(n="",a=!0):c==="number"&&(n=0,a=!0)}try{t[e]=n}catch{}a&&t.removeAttribute(e)}function kf(t,e,n,s){t.addEventListener(e,n,s)}function Of(t,e,n,s){t.removeEventListener(e,n,s)}function Mf(t,e,n,s,i=null){const r=t._vei||(t._vei={}),o=r[e];if(s&&o)o.value=s;else{const[l,a]=Df(e);if(s){const c=r[e]=Bf(s,i);kf(t,l,c,a)}else o&&(Of(t,l,o,a),r[e]=void 0)}}const El=/(?:Once|Passive|Capture)$/;function Df(t){let e;if(El.test(t)){e={};let s;for(;s=t.match(El);)t=t.slice(0,t.length-s[0].length),e[s[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):kn(t.slice(2)),e]}let zi=0;const Lf=Promise.resolve(),Ff=()=>zi||(Lf.then(()=>zi=0),zi=Date.now());function Bf(t,e){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;Qe(Hf(s,n.value),e,5,[s])};return n.value=t,n.attached=Ff(),n}function Hf(t,e){if($(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(s=>i=>!i._stopped&&s&&s(i))}else return e}const wl=/^on[a-z]/,$f=(t,e,n,s,i=!1,r,o,l,a)=>{e==="class"?Tf(t,s,i):e==="style"?Rf(t,n,s):mi(e)?jr(e)||Mf(t,e,n,s,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Wf(t,e,s,i))?Pf(t,e,s,r,o,l,a):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),Af(t,e,s,i))};function Wf(t,e,n,s){return s?!!(e==="innerHTML"||e==="textContent"||e in t&&wl.test(e)&&U(n)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||wl.test(e)&&de(n)?!1:e in t}const Uf=["ctrl","shift","alt","meta"],jf={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>Uf.some(n=>t[`${n}Key`]&&!e.includes(n))},xl=(t,e)=>(n,...s)=>{for(let i=0;i<e.length;i++){const r=jf[e[i]];if(r&&r(n,e))return}return t(n,...s)},Il={beforeMount(t,{value:e},{transition:n}){t._vod=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):Wn(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:s}){!e!=!n&&(s?e?(s.beforeEnter(t),Wn(t,!0),s.enter(t)):s.leave(t,()=>{Wn(t,!1)}):Wn(t,e))},beforeUnmount(t,{value:e}){Wn(t,e)}};function Wn(t,e){t.style.display=e?t._vod:"none"}const Vf=me({patchProp:$f},Sf);let Sl;function zf(){return Sl||(Sl=nf(Vf))}const qf=(...t)=>{const e=zf().createApp(...t),{mount:n}=e;return e.mount=s=>{const i=Kf(s);if(!i)return;const r=e._component;!U(r)&&!r.render&&!r.template&&(r.template=i.innerHTML),i.innerHTML="";const o=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e};function Kf(t){return de(t)?document.querySelector(t):t}const ao=(t,e)=>{const n=t.__vccOpts||t;for(const[s,i]of e)n[s]=i;return n},Gf={name:"Slide",props:{index:{type:Number}},data(){return{parent:this.$parent,styles:{},zIndex:999}},computed:{isCurrent(){return this.index===this.parent.currentIndex},leftIndex(){return this.parent.oneDirectional&&this.getSideIndex(this.parent.leftIndices)>this.parent.currentIndex-1?-1:this.getSideIndex(this.parent.leftIndices)},rightIndex(){return this.parent.oneDirectional&&this.getSideIndex(this.parent.rightIndices)>this.parent.total-this.parent.currentIndex-2?-1:this.getSideIndex(this.parent.rightIndices)},slideStyle(){let t={};if(!this.isCurrent){const e=this.leftIndex,n=this.rightIndex;(n>=0||e>=0)&&(t=n>=0?this.calculatePosition(n,!0,this.zIndex):this.calculatePosition(e,!1,this.zIndex),t.opacity=1,t.visibility="visible"),this.parent.hasHiddenSlides&&(this.matchIndex(this.parent.leftOutIndex)?t=this.calculatePosition(this.parent.leftIndices.length-1,!1,this.zIndex):this.matchIndex(this.parent.rightOutIndex)&&(t=this.calculatePosition(this.parent.rightIndices.length-1,!0,this.zIndex)))}return Object.assign(t,{"border-width":this.parent.border+"px",width:this.parent.slideWidth+"px",height:this.parent.slideHeight+"px",transition:" transform "+this.parent.animationSpeed+"ms,                opacity "+this.parent.animationSpeed+"ms,                visibility "+this.parent.animationSpeed+"ms"})},computedClasses(){return{[`left-${this.leftIndex+1}`]:this.leftIndex>=0,[`right-${this.rightIndex+1}`]:this.rightIndex>=0,current:this.isCurrent}}},methods:{getSideIndex(t){let e=-1;return t.forEach((n,s)=>{this.matchIndex(n)&&(e=s)}),e},matchIndex(t){return t>=0?this.index===t:this.parent.total+t===this.index},calculatePosition(t,e,n){const s=this.parent.disable3d?0:parseInt(this.parent.inverseScaling)+(t+1)*100,i=this.parent.disable3d?0:parseInt(this.parent.perspective),r=this.parent.space==="auto"?parseInt((t+1)*(this.parent.width/1.5),10):parseInt((t+1)*this.parent.space,10),o=e?"translateX("+r+"px) translateZ(-"+s+"px) rotateY(-"+i+"deg)":"translateX(-"+r+"px) translateZ(-"+s+"px) rotateY("+i+"deg)",l=this.parent.space==="auto"?0:parseInt((t+1)*this.parent.space);return{transform:o,top:l,zIndex:n-(Math.abs(t)+1)}},goTo(){if(!this.isCurrent)this.parent.clickable===!0&&this.parent.goFar(this.index);else{const{index:t}=this;this.parent.onMainSlideClick({index:t})}}}};function Yf(t,e,n,s,i,r){return Ee(),je("div",{class:Gt(["carousel-3d-slide",r.computedClasses]),style:Pt(r.slideStyle),onClick:e[0]||(e[0]=o=>r.goTo())},[gc(t.$slots,"default",{index:n.index,isCurrent:r.isCurrent,leftIndex:r.leftIndex,rightIndex:r.rightIndex})],6)}const Qf=ao(Gf,[["render",Yf]]),Xf={props:{autoplay:{type:Boolean,default:!1},autoplayTimeout:{type:Number,default:2e3},autoplayHoverPause:{type:Boolean,default:!0}},data(){return{autoplayInterval:null}},destroyed(){this.process_server||(this.pauseAutoplay(),this.$el.removeEventListener("mouseenter",this.pauseAutoplay),this.$el.removeEventListener("mouseleave",this.startAutoplay))},methods:{pauseAutoplay(){this.autoplayInterval&&(this.autoplayInterval=clearInterval(this.autoplayInterval))},startAutoplay(){this.autoplay&&(this.autoplayInterval=setInterval(()=>{this.dir==="ltr"?this.goPrev():this.goNext()},this.autoplayTimeout))}},mounted(){!this.process_server&&this.autoplayHoverPause&&(this.$el.addEventListener("mouseenter",this.pauseAutoplay),this.$el.addEventListener("mouseleave",this.startAutoplay),this.startAutoplay())}},Jf={name:"Controls",props:{width:{type:[String,Number],default:50},height:{type:[String,Number],default:60},prevHtml:{type:String,default:"&lsaquo;"},nextHtml:{type:String,default:"&rsaquo;"}},data(){return{parent:this.$parent}}},Zf={class:"carousel-3d-controls"},ep=["innerHTML"],tp=["innerHTML"];function np(t,e,n,s,i,r){return Ee(),je("div",Zf,[I("a",{href:"#",class:Gt(["prev",{disabled:!i.parent.isPrevPossible}]),onClick:e[0]||(e[0]=xl(o=>i.parent.goPrev(),["prevent"])),style:Pt(`width: ${n.width}px; height: ${n.height}px; line-height: ${n.height}px;`),"aria-label":"Previous slide"},[I("span",{innerHTML:n.prevHtml},null,8,ep)],6),I("a",{href:"#",class:Gt(["next",{disabled:!i.parent.isNextPossible}]),onClick:e[1]||(e[1]=xl(o=>i.parent.goNext(),["prevent"])),style:Pt(`width: ${n.width}px; height: ${n.height}px; line-height: ${n.height}px;`),"aria-label":"Next slide"},[I("span",{innerHTML:n.nextHtml},null,8,tp)],6)])}const sp=ao(Jf,[["render",np],["__scopeId","data-v-475a7b20"]]),Un=()=>{},ip={name:"Carousel3d",components:{Controls:sp},props:{count:{type:[Number,String],default:0},perspective:{type:[Number,String],default:35},display:{type:[Number,String],default:5},loop:{type:Boolean,default:!0},animationSpeed:{type:[Number,String],default:500},dir:{type:String,default:"rtl"},width:{type:[Number,String],default:360},height:{type:[Number,String],default:270},border:{type:[Number,String],default:1},space:{type:[Number,String],default:"auto"},startIndex:{type:[Number,String],default:0},clickable:{type:Boolean,default:!0},disable3d:{type:Boolean,default:!1},minSwipeDistance:{type:Number,default:10},inverseScaling:{type:[Number,String],default:300},controlsVisible:{type:Boolean,default:!1},controlsPrevHtml:{type:String,default:"&lsaquo;"},controlsNextHtml:{type:String,default:"&rsaquo;"},controlsWidth:{type:[String,Number],default:50},controlsHeight:{type:[String,Number],default:50},onLastSlide:{type:Function,default:Un},onSlideChange:{type:Function,default:Un},bias:{type:String,default:"left"},onMainSlideClick:{type:Function,default:Un},oneDirectional:{type:Boolean,default:!1}},data(){return{viewport:0,currentIndex:0,total:0,dragOffsetX:0,dragStartX:0,dragOffsetY:0,dragStartY:0,mousedown:!1,zIndex:998,process_server:typeof window===void 0}},mixins:[Xf],watch:{count(){this.computeData()}},computed:{isLastSlide(){return this.currentIndex===this.total-1},isFirstSlide(){return this.currentIndex===0},isNextPossible(){return!(!this.loop&&this.isLastSlide)},isPrevPossible(){return!(!this.loop&&this.isFirstSlide)},slideWidth(){const t=this.viewport,e=parseInt(this.width)+parseInt(this.border,10)*2;return t<e&&!this.process_server?t:e},slideHeight(){const t=parseInt(this.width,10)+parseInt(this.border,10)*2,e=parseInt(parseInt(this.height)+this.border*2,10),n=this.calculateAspectRatio(t,e);return this.slideWidth/n},visible(){return this.display>this.total?this.total:this.display},hasHiddenSlides(){return this.total>this.visible},leftIndices(){let t=(this.visible-1)/2;t=this.bias.toLowerCase()==="left"?Math.ceil(t):Math.floor(t);const e=[];for(let n=1;n<=t;n++)e.push(this.dir==="ltr"?(this.currentIndex+n)%this.total:(this.currentIndex-n)%this.total);return e},rightIndices(){let t=(this.visible-1)/2;t=this.bias.toLowerCase()==="right"?Math.ceil(t):Math.floor(t);const e=[];for(let n=1;n<=t;n++)e.push(this.dir==="ltr"?(this.currentIndex-n)%this.total:(this.currentIndex+n)%this.total);return e},leftOutIndex(){let t=(this.visible-1)/2;return t=this.bias.toLowerCase()==="left"?Math.ceil(t):Math.floor(t),t++,this.dir==="ltr"?this.total-this.currentIndex-t<=0?-parseInt(this.total-this.currentIndex-t):this.currentIndex+t:this.currentIndex-t},rightOutIndex(){let t=(this.visible-1)/2;return t=this.bias.toLowerCase()==="right"?Math.ceil(t):Math.floor(t),t++,this.dir==="ltr"?this.currentIndex-t:this.total-this.currentIndex-t<=0?-parseInt(this.total-this.currentIndex-t,10):this.currentIndex+t}},methods:{goNext(){this.isNextPossible&&(this.isLastSlide?this.goSlide(0):this.goSlide(this.currentIndex+1))},goPrev(){this.isPrevPossible&&(this.isFirstSlide?this.goSlide(this.total-1):this.goSlide(this.currentIndex-1))},goSlide(t){this.currentIndex=t<0||t>this.total-1?0:t,this.isLastSlide&&(this.onLastSlide!==Un&&console.warn("onLastSlide deprecated, please use @last-slide"),this.onLastSlide(this.currentIndex),this.$emit("last-slide",this.currentIndex)),this.$emit("before-slide-change",this.currentIndex),setTimeout(()=>this.animationEnd(),this.animationSpeed)},goFar(t){let e=t===this.total-1&&this.isFirstSlide?-1:t-this.currentIndex;this.isLastSlide&&t===0&&(e=1);const n=e<0?-e:e;let s=0,i=0;for(;i<n;)i+=1,setTimeout(()=>e<0?this.goPrev(n):this.goNext(n),n===1?0:s),s+=this.animationSpeed/n},animationEnd(){this.onSlideChange!==Un&&console.warn("onSlideChange deprecated, please use @after-slide-change"),this.onSlideChange(this.currentIndex),this.$emit("after-slide-change",this.currentIndex)},handleMouseup(){this.mousedown=!1,this.dragOffsetX=0,this.dragOffsetY=0},handleMousedown(t){t.touches||t.preventDefault(),this.mousedown=!0,this.dragStartX="ontouchstart"in window?t.touches[0].clientX:t.clientX,this.dragStartY="ontouchstart"in window?t.touches[0].clientY:t.clientY},handleMousemove(t){if(!this.mousedown)return;const e="ontouchstart"in window?t.touches[0].clientX:t.clientX,n="ontouchstart"in window?t.touches[0].clientY:t.clientY,s=this.dragStartX-e,i=this.dragStartY-n;this.dragOffsetX=s,this.dragOffsetY=i,!(Math.abs(this.dragOffsetY)>Math.abs(this.dragOffsetX))&&(this.dragOffsetX>this.minSwipeDistance?(this.handleMouseup(),this.goNext()):this.dragOffsetX<-this.minSwipeDistance&&(this.handleMouseup(),this.goPrev()))},attachMutationObserver(){const t=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;if(t){const e={attributes:!0,childList:!0,characterData:!0};this.mutationObserver=new t(()=>{this.$nextTick(()=>{this.computeData()})}),this.$el&&this.mutationObserver.observe(this.$el,e)}},detachMutationObserver(){this.mutationObserver&&this.mutationObserver.disconnect()},getSlideCount(){const t=this.$slots.default();return t.length>0?t[0].children.length:0},calculateAspectRatio(t,e){return Math.min(t/e)},computeData(t){this.total=this.getSlideCount(),(t||this.currentIndex>=this.total)&&(this.currentIndex=parseInt(this.startIndex)>this.total-1?this.total-1:parseInt(this.startIndex)),this.viewport=this.$el.clientWidth},setSize(){this.$el.style.cssText+="height:"+this.slideHeight+"px;",this.$el.childNodes[0].style.cssText+="width:"+this.slideWidth+"px; height:"+this.slideHeight+"px;"}},mounted(){this.process_server||(this.computeData(!0),this.attachMutationObserver(),window.addEventListener("resize",this.setSize),"ontouchstart"in window?(this.$el.addEventListener("touchstart",this.handleMousedown),this.$el.addEventListener("touchend",this.handleMouseup),this.$el.addEventListener("touchmove",this.handleMousemove)):(this.$el.addEventListener("mousedown",this.handleMousedown),this.$el.addEventListener("mouseup",this.handleMouseup),this.$el.addEventListener("mousemove",this.handleMousemove)))},beforeDestroy(){this.process_server||(this.detachMutationObserver(),"ontouchstart"in window?this.$el.removeEventListener("touchmove",this.handleMousemove):this.$el.removeEventListener("mousemove",this.handleMousemove),window.removeEventListener("resize",this.setSize))}};function rp(t,e,n,s,i,r){const o=Ys("controls");return Ee(),je("div",{class:"carousel-3d-container",style:Pt({height:this.slideHeight+"px"})},[I("div",{class:"carousel-3d-slider",style:Pt({width:this.slideWidth+"px",height:this.slideHeight+"px"})},[gc(t.$slots,"default",{},void 0,!0)],4),n.controlsVisible?(Ee(),xs(o,{key:0,"next-html":n.controlsNextHtml,"prev-html":n.controlsPrevHtml,width:n.controlsWidth,height:n.controlsHeight},null,8,["next-html","prev-html","width","height"])):hf("",!0)],4)}const op=ao(ip,[["render",rp],["__scopeId","data-v-d1f6685d"]]),lp=t=>{t.component("Carousel3d",op),t.component("Slide",Qf)},ap={install:lp};var cp=!1;/*!
  * pinia v2.1.4
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const up=Symbol();var Tl;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Tl||(Tl={}));function hp(){const t=Dh(!0),e=t.run(()=>Qn({}));let n=[],s=[];const i=Zr({install(r){i._a=r,r.provide(up,i),r.config.globalProperties.$pinia=i,s.forEach(o=>n.push(o)),s=[]},use(r){return!this._a&&!cp?s.push(r):n.push(r),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return i}const dp=(t,e)=>{const n=t.__vccOpts||t;for(const[s,i]of e)n[s]=i;return n},fp={};function pp(t,e){const n=Ys("router-view");return Ee(),xs(n)}const _p=dp(fp,[["render",pp]]);/*!
  * vue-router v4.2.2
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const un=typeof window<"u";function gp(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const Z=Object.assign;function qi(t,e){const n={};for(const s in e){const i=e[s];n[s]=Je(i)?i.map(t):t(i)}return n}const es=()=>{},Je=Array.isArray,mp=/\/$/,yp=t=>t.replace(mp,"");function Ki(t,e,n="/"){let s,i={},r="",o="";const l=e.indexOf("#");let a=e.indexOf("?");return l<a&&l>=0&&(a=-1),a>-1&&(s=e.slice(0,a),r=e.slice(a+1,l>-1?l:e.length),i=t(r)),l>-1&&(s=s||e.slice(0,l),o=e.slice(l,e.length)),s=Ep(s??e,n),{fullPath:s+(r&&"?")+r+o,path:s,query:i,hash:o}}function vp(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function Rl(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function bp(t,e,n){const s=e.matched.length-1,i=n.matched.length-1;return s>-1&&s===i&&Sn(e.matched[s],n.matched[i])&&kc(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Sn(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function kc(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!Cp(t[n],e[n]))return!1;return!0}function Cp(t,e){return Je(t)?Nl(t,e):Je(e)?Nl(e,t):t===e}function Nl(t,e){return Je(e)?t.length===e.length&&t.every((n,s)=>n===e[s]):t.length===1&&t[0]===e}function Ep(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),s=t.split("/"),i=s[s.length-1];(i===".."||i===".")&&s.push("");let r=n.length-1,o,l;for(o=0;o<s.length;o++)if(l=s[o],l!==".")if(l==="..")r>1&&r--;else break;return n.slice(0,r).join("/")+"/"+s.slice(o-(o===s.length?1:0)).join("/")}var ds;(function(t){t.pop="pop",t.push="push"})(ds||(ds={}));var ts;(function(t){t.back="back",t.forward="forward",t.unknown=""})(ts||(ts={}));function wp(t){if(!t)if(un){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),yp(t)}const xp=/^[^#]+#/;function Ip(t,e){return t.replace(xp,"#")+e}function Sp(t,e){const n=document.documentElement.getBoundingClientRect(),s=t.getBoundingClientRect();return{behavior:e.behavior,left:s.left-n.left-(e.left||0),top:s.top-n.top-(e.top||0)}}const Ri=()=>({left:window.pageXOffset,top:window.pageYOffset});function Tp(t){let e;if("el"in t){const n=t.el,s=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=Sp(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function Al(t,e){return(history.state?history.state.position-e:-1)+t}const vr=new Map;function Rp(t,e){vr.set(t,e)}function Np(t){const e=vr.get(t);return vr.delete(t),e}let Ap=()=>location.protocol+"//"+location.host;function Oc(t,e){const{pathname:n,search:s,hash:i}=e,r=t.indexOf("#");if(r>-1){let l=i.includes(t.slice(r))?t.slice(r).length:1,a=i.slice(l);return a[0]!=="/"&&(a="/"+a),Rl(a,"")}return Rl(n,t)+s+i}function Pp(t,e,n,s){let i=[],r=[],o=null;const l=({state:d})=>{const g=Oc(t,location),b=n.value,S=e.value;let k=0;if(d){if(n.value=g,e.value=d,o&&o===b){o=null;return}k=S?d.position-S.position:0}else s(g);i.forEach(O=>{O(n.value,b,{delta:k,type:ds.pop,direction:k?k>0?ts.forward:ts.back:ts.unknown})})};function a(){o=n.value}function c(d){i.push(d);const g=()=>{const b=i.indexOf(d);b>-1&&i.splice(b,1)};return r.push(g),g}function u(){const{history:d}=window;d.state&&d.replaceState(Z({},d.state,{scroll:Ri()}),"")}function h(){for(const d of r)d();r=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:a,listen:c,destroy:h}}function Pl(t,e,n,s=!1,i=!1){return{back:t,current:e,forward:n,replaced:s,position:window.history.length,scroll:i?Ri():null}}function kp(t){const{history:e,location:n}=window,s={value:Oc(t,n)},i={value:e.state};i.value||r(s.value,{back:null,current:s.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function r(a,c,u){const h=t.indexOf("#"),d=h>-1?(n.host&&document.querySelector("base")?t:t.slice(h))+a:Ap()+t+a;try{e[u?"replaceState":"pushState"](c,"",d),i.value=c}catch(g){console.error(g),n[u?"replace":"assign"](d)}}function o(a,c){const u=Z({},e.state,Pl(i.value.back,a,i.value.forward,!0),c,{position:i.value.position});r(a,u,!0),s.value=a}function l(a,c){const u=Z({},i.value,e.state,{forward:a,scroll:Ri()});r(u.current,u,!0);const h=Z({},Pl(s.value,a,null),{position:u.position+1},c);r(a,h,!1),s.value=a}return{location:s,state:i,push:l,replace:o}}function Op(t){t=wp(t);const e=kp(t),n=Pp(t,e.state,e.location,e.replace);function s(r,o=!0){o||n.pauseListeners(),history.go(r)}const i=Z({location:"",base:t,go:s,createHref:Ip.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function Mp(t){return typeof t=="string"||t&&typeof t=="object"}function Mc(t){return typeof t=="string"||typeof t=="symbol"}const wt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Dc=Symbol("");var kl;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(kl||(kl={}));function Tn(t,e){return Z(new Error,{type:t,[Dc]:!0},e)}function ut(t,e){return t instanceof Error&&Dc in t&&(e==null||!!(t.type&e))}const Ol="[^/]+?",Dp={sensitive:!1,strict:!1,start:!0,end:!0},Lp=/[.+*?^${}()[\]/\\]/g;function Fp(t,e){const n=Z({},Dp,e),s=[];let i=n.start?"^":"";const r=[];for(const c of t){const u=c.length?[]:[90];n.strict&&!c.length&&(i+="/");for(let h=0;h<c.length;h++){const d=c[h];let g=40+(n.sensitive?.25:0);if(d.type===0)h||(i+="/"),i+=d.value.replace(Lp,"\\$&"),g+=40;else if(d.type===1){const{value:b,repeatable:S,optional:k,regexp:O}=d;r.push({name:b,repeatable:S,optional:k});const D=O||Ol;if(D!==Ol){g+=10;try{new RegExp(`(${D})`)}catch(B){throw new Error(`Invalid custom RegExp for param "${b}" (${D}): `+B.message)}}let K=S?`((?:${D})(?:/(?:${D}))*)`:`(${D})`;h||(K=k&&c.length<2?`(?:/${K})`:"/"+K),k&&(K+="?"),i+=K,g+=20,k&&(g+=-8),S&&(g+=-20),D===".*"&&(g+=-50)}u.push(g)}s.push(u)}if(n.strict&&n.end){const c=s.length-1;s[c][s[c].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const o=new RegExp(i,n.sensitive?"":"i");function l(c){const u=c.match(o),h={};if(!u)return null;for(let d=1;d<u.length;d++){const g=u[d]||"",b=r[d-1];h[b.name]=g&&b.repeatable?g.split("/"):g}return h}function a(c){let u="",h=!1;for(const d of t){(!h||!u.endsWith("/"))&&(u+="/"),h=!1;for(const g of d)if(g.type===0)u+=g.value;else if(g.type===1){const{value:b,repeatable:S,optional:k}=g,O=b in c?c[b]:"";if(Je(O)&&!S)throw new Error(`Provided param "${b}" is an array but it is not repeatable (* or + modifiers)`);const D=Je(O)?O.join("/"):O;if(!D)if(k)d.length<2&&(u.endsWith("/")?u=u.slice(0,-1):h=!0);else throw new Error(`Missing required param "${b}"`);u+=D}}return u||"/"}return{re:o,score:s,keys:r,parse:l,stringify:a}}function Bp(t,e){let n=0;for(;n<t.length&&n<e.length;){const s=e[n]-t[n];if(s)return s;n++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function Hp(t,e){let n=0;const s=t.score,i=e.score;for(;n<s.length&&n<i.length;){const r=Bp(s[n],i[n]);if(r)return r;n++}if(Math.abs(i.length-s.length)===1){if(Ml(s))return 1;if(Ml(i))return-1}return i.length-s.length}function Ml(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const $p={type:0,value:""},Wp=/[a-zA-Z0-9_]/;function Up(t){if(!t)return[[]];if(t==="/")return[[$p]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(g){throw new Error(`ERR (${n})/"${c}": ${g}`)}let n=0,s=n;const i=[];let r;function o(){r&&i.push(r),r=[]}let l=0,a,c="",u="";function h(){c&&(n===0?r.push({type:0,value:c}):n===1||n===2||n===3?(r.length>1&&(a==="*"||a==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:c,regexp:u,repeatable:a==="*"||a==="+",optional:a==="*"||a==="?"})):e("Invalid state to consume buffer"),c="")}function d(){c+=a}for(;l<t.length;){if(a=t[l++],a==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:a==="/"?(c&&h(),o()):a===":"?(h(),n=1):d();break;case 4:d(),n=s;break;case 1:a==="("?n=2:Wp.test(a)?d():(h(),n=0,a!=="*"&&a!=="?"&&a!=="+"&&l--);break;case 2:a===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+a:n=3:u+=a;break;case 3:h(),n=0,a!=="*"&&a!=="?"&&a!=="+"&&l--,u="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${c}"`),h(),o(),i}function jp(t,e,n){const s=Fp(Up(t.path),n),i=Z(s,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function Vp(t,e){const n=[],s=new Map;e=Fl({strict:!1,end:!0,sensitive:!1},e);function i(u){return s.get(u)}function r(u,h,d){const g=!d,b=zp(u);b.aliasOf=d&&d.record;const S=Fl(e,u),k=[b];if("alias"in u){const K=typeof u.alias=="string"?[u.alias]:u.alias;for(const B of K)k.push(Z({},b,{components:d?d.record.components:b.components,path:B,aliasOf:d?d.record:b}))}let O,D;for(const K of k){const{path:B}=K;if(h&&B[0]!=="/"){const ve=h.record.path,Ne=ve[ve.length-1]==="/"?"":"/";K.path=h.record.path+(B&&Ne+B)}if(O=jp(K,h,S),d?d.alias.push(O):(D=D||O,D!==O&&D.alias.push(O),g&&u.name&&!Ll(O)&&o(u.name)),b.children){const ve=b.children;for(let Ne=0;Ne<ve.length;Ne++)r(ve[Ne],O,d&&d.children[Ne])}d=d||O,(O.record.components&&Object.keys(O.record.components).length||O.record.name||O.record.redirect)&&a(O)}return D?()=>{o(D)}:es}function o(u){if(Mc(u)){const h=s.get(u);h&&(s.delete(u),n.splice(n.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=n.indexOf(u);h>-1&&(n.splice(h,1),u.record.name&&s.delete(u.record.name),u.children.forEach(o),u.alias.forEach(o))}}function l(){return n}function a(u){let h=0;for(;h<n.length&&Hp(u,n[h])>=0&&(u.record.path!==n[h].record.path||!Lc(u,n[h]));)h++;n.splice(h,0,u),u.record.name&&!Ll(u)&&s.set(u.record.name,u)}function c(u,h){let d,g={},b,S;if("name"in u&&u.name){if(d=s.get(u.name),!d)throw Tn(1,{location:u});S=d.record.name,g=Z(Dl(h.params,d.keys.filter(D=>!D.optional).map(D=>D.name)),u.params&&Dl(u.params,d.keys.map(D=>D.name))),b=d.stringify(g)}else if("path"in u)b=u.path,d=n.find(D=>D.re.test(b)),d&&(g=d.parse(b),S=d.record.name);else{if(d=h.name?s.get(h.name):n.find(D=>D.re.test(h.path)),!d)throw Tn(1,{location:u,currentLocation:h});S=d.record.name,g=Z({},h.params,u.params),b=d.stringify(g)}const k=[];let O=d;for(;O;)k.unshift(O.record),O=O.parent;return{name:S,path:b,params:g,matched:k,meta:Kp(k)}}return t.forEach(u=>r(u)),{addRoute:r,resolve:c,removeRoute:o,getRoutes:l,getRecordMatcher:i}}function Dl(t,e){const n={};for(const s of e)s in t&&(n[s]=t[s]);return n}function zp(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:qp(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function qp(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const s in t.components)e[s]=typeof n=="boolean"?n:n[s];return e}function Ll(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function Kp(t){return t.reduce((e,n)=>Z(e,n.meta),{})}function Fl(t,e){const n={};for(const s in t)n[s]=s in e?e[s]:t[s];return n}function Lc(t,e){return e.children.some(n=>n===t||Lc(t,n))}const Fc=/#/g,Gp=/&/g,Yp=/\//g,Qp=/=/g,Xp=/\?/g,Bc=/\+/g,Jp=/%5B/g,Zp=/%5D/g,Hc=/%5E/g,e_=/%60/g,$c=/%7B/g,t_=/%7C/g,Wc=/%7D/g,n_=/%20/g;function co(t){return encodeURI(""+t).replace(t_,"|").replace(Jp,"[").replace(Zp,"]")}function s_(t){return co(t).replace($c,"{").replace(Wc,"}").replace(Hc,"^")}function br(t){return co(t).replace(Bc,"%2B").replace(n_,"+").replace(Fc,"%23").replace(Gp,"%26").replace(e_,"`").replace($c,"{").replace(Wc,"}").replace(Hc,"^")}function i_(t){return br(t).replace(Qp,"%3D")}function r_(t){return co(t).replace(Fc,"%23").replace(Xp,"%3F")}function o_(t){return t==null?"":r_(t).replace(Yp,"%2F")}function Zs(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function l_(t){const e={};if(t===""||t==="?")return e;const s=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<s.length;++i){const r=s[i].replace(Bc," "),o=r.indexOf("="),l=Zs(o<0?r:r.slice(0,o)),a=o<0?null:Zs(r.slice(o+1));if(l in e){let c=e[l];Je(c)||(c=e[l]=[c]),c.push(a)}else e[l]=a}return e}function Bl(t){let e="";for(let n in t){const s=t[n];if(n=i_(n),s==null){s!==void 0&&(e+=(e.length?"&":"")+n);continue}(Je(s)?s.map(r=>r&&br(r)):[s&&br(s)]).forEach(r=>{r!==void 0&&(e+=(e.length?"&":"")+n,r!=null&&(e+="="+r))})}return e}function a_(t){const e={};for(const n in t){const s=t[n];s!==void 0&&(e[n]=Je(s)?s.map(i=>i==null?null:""+i):s==null?s:""+s)}return e}const c_=Symbol(""),Hl=Symbol(""),uo=Symbol(""),Uc=Symbol(""),Cr=Symbol("");function jn(){let t=[];function e(s){return t.push(s),()=>{const i=t.indexOf(s);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t,reset:n}}function It(t,e,n,s,i){const r=s&&(s.enterCallbacks[i]=s.enterCallbacks[i]||[]);return()=>new Promise((o,l)=>{const a=h=>{h===!1?l(Tn(4,{from:n,to:e})):h instanceof Error?l(h):Mp(h)?l(Tn(2,{from:e,to:h})):(r&&s.enterCallbacks[i]===r&&typeof h=="function"&&r.push(h),o())},c=t.call(s&&s.instances[i],e,n,a);let u=Promise.resolve(c);t.length<3&&(u=u.then(a)),u.catch(h=>l(h))})}function Gi(t,e,n,s){const i=[];for(const r of t)for(const o in r.components){let l=r.components[o];if(!(e!=="beforeRouteEnter"&&!r.instances[o]))if(u_(l)){const c=(l.__vccOpts||l)[e];c&&i.push(It(c,n,s,r,o))}else{let a=l();i.push(()=>a.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${r.path}"`));const u=gp(c)?c.default:c;r.components[o]=u;const d=(u.__vccOpts||u)[e];return d&&It(d,n,s,r,o)()}))}}return i}function u_(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function $l(t){const e=ft(uo),n=ft(Uc),s=$e(()=>e.resolve(gn(t.to))),i=$e(()=>{const{matched:a}=s.value,{length:c}=a,u=a[c-1],h=n.matched;if(!u||!h.length)return-1;const d=h.findIndex(Sn.bind(null,u));if(d>-1)return d;const g=Wl(a[c-2]);return c>1&&Wl(u)===g&&h[h.length-1].path!==g?h.findIndex(Sn.bind(null,a[c-2])):d}),r=$e(()=>i.value>-1&&p_(n.params,s.value.params)),o=$e(()=>i.value>-1&&i.value===n.matched.length-1&&kc(n.params,s.value.params));function l(a={}){return f_(a)?e[gn(t.replace)?"replace":"push"](gn(t.to)).catch(es):Promise.resolve()}return{route:s,href:$e(()=>s.value.href),isActive:r,isExactActive:o,navigate:l}}const h_=so({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:$l,setup(t,{slots:e}){const n=ws($l(t)),{options:s}=ft(uo),i=$e(()=>({[Ul(t.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[Ul(t.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const r=e.default&&e.default(n);return t.custom?r:Pc("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},r)}}}),d_=h_;function f_(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function p_(t,e){for(const n in e){const s=e[n],i=t[n];if(typeof s=="string"){if(s!==i)return!1}else if(!Je(i)||i.length!==s.length||s.some((r,o)=>r!==i[o]))return!1}return!0}function Wl(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Ul=(t,e,n)=>t??e??n,__=so({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const s=ft(Cr),i=$e(()=>t.route||s.value),r=ft(Hl,0),o=$e(()=>{let c=gn(r);const{matched:u}=i.value;let h;for(;(h=u[c])&&!h.components;)c++;return c}),l=$e(()=>i.value.matched[o.value]);js(Hl,$e(()=>o.value+1)),js(c_,l),js(Cr,i);const a=Qn();return Us(()=>[a.value,l.value,t.name],([c,u,h],[d,g,b])=>{u&&(u.instances[h]=c,g&&g!==u&&c&&c===d&&(u.leaveGuards.size||(u.leaveGuards=g.leaveGuards),u.updateGuards.size||(u.updateGuards=g.updateGuards))),c&&u&&(!g||!Sn(u,g)||!d)&&(u.enterCallbacks[h]||[]).forEach(S=>S(c))},{flush:"post"}),()=>{const c=i.value,u=t.name,h=l.value,d=h&&h.components[u];if(!d)return jl(n.default,{Component:d,route:c});const g=h.props[u],b=g?g===!0?c.params:typeof g=="function"?g(c):g:null,k=Pc(d,Z({},b,e,{onVnodeUnmounted:O=>{O.component.isUnmounted&&(h.instances[u]=null)},ref:a}));return jl(n.default,{Component:k,route:c})||k}}});function jl(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const g_=__;function m_(t){const e=Vp(t.routes,t),n=t.parseQuery||l_,s=t.stringifyQuery||Bl,i=t.history,r=jn(),o=jn(),l=jn(),a=hd(wt);let c=wt;un&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=qi.bind(null,y=>""+y),h=qi.bind(null,o_),d=qi.bind(null,Zs);function g(y,A){let R,M;return Mc(y)?(R=e.getRecordMatcher(y),M=A):M=y,e.addRoute(M,R)}function b(y){const A=e.getRecordMatcher(y);A&&e.removeRoute(A)}function S(){return e.getRoutes().map(y=>y.record)}function k(y){return!!e.getRecordMatcher(y)}function O(y,A){if(A=Z({},A||a.value),typeof y=="string"){const _=Ki(n,y,A.path),m=e.resolve({path:_.path},A),v=i.createHref(_.fullPath);return Z(_,m,{params:d(m.params),hash:Zs(_.hash),redirectedFrom:void 0,href:v})}let R;if("path"in y)R=Z({},y,{path:Ki(n,y.path,A.path).path});else{const _=Z({},y.params);for(const m in _)_[m]==null&&delete _[m];R=Z({},y,{params:h(_)}),A.params=h(A.params)}const M=e.resolve(R,A),J=y.hash||"";M.params=u(d(M.params));const f=vp(s,Z({},y,{hash:s_(J),path:M.path})),p=i.createHref(f);return Z({fullPath:f,hash:J,query:s===Bl?a_(y.query):y.query||{}},M,{redirectedFrom:void 0,href:p})}function D(y){return typeof y=="string"?Ki(n,y,a.value.path):Z({},y)}function K(y,A){if(c!==y)return Tn(8,{from:A,to:y})}function B(y){return Ze(y)}function ve(y){return B(Z(D(y),{replace:!0}))}function Ne(y){const A=y.matched[y.matched.length-1];if(A&&A.redirect){const{redirect:R}=A;let M=typeof R=="function"?R(y):R;return typeof M=="string"&&(M=M.includes("?")||M.includes("#")?M=D(M):{path:M},M.params={}),Z({query:y.query,hash:y.hash,params:"path"in M?{}:y.params},M)}}function Ze(y,A){const R=c=O(y),M=a.value,J=y.state,f=y.force,p=y.replace===!0,_=Ne(R);if(_)return Ze(Z(D(_),{state:typeof _=="object"?Z({},J,_.state):J,force:f,replace:p}),A||R);const m=R;m.redirectedFrom=A;let v;return!f&&bp(s,M,R)&&(v=Tn(16,{to:m,from:M}),nt(M,M,!0,!1)),(v?Promise.resolve(v):et(m,M)).catch(C=>ut(C)?ut(C,2)?C:Ct(C):X(C,m,M)).then(C=>{if(C){if(ut(C,2))return Ze(Z({replace:p},D(C.to),{state:typeof C.to=="object"?Z({},J,C.to.state):J,force:f}),A||m)}else C=Lt(m,M,!0,p,J);return bt(m,M,C),C})}function at(y,A){const R=K(y,A);return R?Promise.reject(R):Promise.resolve()}function nn(y){const A=on.values().next().value;return A&&typeof A.runWithContext=="function"?A.runWithContext(y):y()}function et(y,A){let R;const[M,J,f]=y_(y,A);R=Gi(M.reverse(),"beforeRouteLeave",y,A);for(const _ of M)_.leaveGuards.forEach(m=>{R.push(It(m,y,A))});const p=at.bind(null,y,A);return R.push(p),be(R).then(()=>{R=[];for(const _ of r.list())R.push(It(_,y,A));return R.push(p),be(R)}).then(()=>{R=Gi(J,"beforeRouteUpdate",y,A);for(const _ of J)_.updateGuards.forEach(m=>{R.push(It(m,y,A))});return R.push(p),be(R)}).then(()=>{R=[];for(const _ of y.matched)if(_.beforeEnter&&!A.matched.includes(_))if(Je(_.beforeEnter))for(const m of _.beforeEnter)R.push(It(m,y,A));else R.push(It(_.beforeEnter,y,A));return R.push(p),be(R)}).then(()=>(y.matched.forEach(_=>_.enterCallbacks={}),R=Gi(f,"beforeRouteEnter",y,A),R.push(p),be(R))).then(()=>{R=[];for(const _ of o.list())R.push(It(_,y,A));return R.push(p),be(R)}).catch(_=>ut(_,8)?_:Promise.reject(_))}function bt(y,A,R){for(const M of l.list())nn(()=>M(y,A,R))}function Lt(y,A,R,M,J){const f=K(y,A);if(f)return f;const p=A===wt,_=un?history.state:{};R&&(M||p?i.replace(y.fullPath,Z({scroll:p&&_&&_.scroll},J)):i.push(y.fullPath,J)),a.value=y,nt(y,A,R,p),Ct()}let tt;function Bn(){tt||(tt=i.listen((y,A,R)=>{if(!ks.listening)return;const M=O(y),J=Ne(M);if(J){Ze(Z(J,{replace:!0}),M).catch(es);return}c=M;const f=a.value;un&&Rp(Al(f.fullPath,R.delta),Ri()),et(M,f).catch(p=>ut(p,12)?p:ut(p,2)?(Ze(p.to,M).then(_=>{ut(_,20)&&!R.delta&&R.type===ds.pop&&i.go(-1,!1)}).catch(es),Promise.reject()):(R.delta&&i.go(-R.delta,!1),X(p,M,f))).then(p=>{p=p||Lt(M,f,!1),p&&(R.delta&&!ut(p,8)?i.go(-R.delta,!1):R.type===ds.pop&&ut(p,20)&&i.go(-1,!1)),bt(M,f,p)}).catch(es)}))}let sn=jn(),fe=jn(),te;function X(y,A,R){Ct(y);const M=fe.list();return M.length?M.forEach(J=>J(y,A,R)):console.error(y),Promise.reject(y)}function ct(){return te&&a.value!==wt?Promise.resolve():new Promise((y,A)=>{sn.add([y,A])})}function Ct(y){return te||(te=!y,Bn(),sn.list().forEach(([A,R])=>y?R(y):A()),sn.reset()),y}function nt(y,A,R,M){const{scrollBehavior:J}=t;if(!un||!J)return Promise.resolve();const f=!R&&Np(Al(y.fullPath,0))||(M||!R)&&history.state&&history.state.scroll||null;return ic().then(()=>J(y,A,f)).then(p=>p&&Tp(p)).catch(p=>X(p,y,A))}const Pe=y=>i.go(y);let rn;const on=new Set,ks={currentRoute:a,listening:!0,addRoute:g,removeRoute:b,hasRoute:k,getRoutes:S,resolve:O,options:t,push:B,replace:ve,go:Pe,back:()=>Pe(-1),forward:()=>Pe(1),beforeEach:r.add,beforeResolve:o.add,afterEach:l.add,onError:fe.add,isReady:ct,install(y){const A=this;y.component("RouterLink",d_),y.component("RouterView",g_),y.config.globalProperties.$router=A,Object.defineProperty(y.config.globalProperties,"$route",{enumerable:!0,get:()=>gn(a)}),un&&!rn&&a.value===wt&&(rn=!0,B(i.location).catch(J=>{}));const R={};for(const J in wt)R[J]=$e(()=>a.value[J]);y.provide(uo,A),y.provide(Uc,ws(R)),y.provide(Cr,a);const M=y.unmount;on.add(y),y.unmount=function(){on.delete(y),on.size<1&&(c=wt,tt&&tt(),tt=null,a.value=wt,rn=!1,te=!1),M()}}};function be(y){return y.reduce((A,R)=>A.then(()=>nn(R)),Promise.resolve())}return ks}function y_(t,e){const n=[],s=[],i=[],r=Math.max(e.matched.length,t.matched.length);for(let o=0;o<r;o++){const l=e.matched[o];l&&(t.matched.find(c=>Sn(c,l))?s.push(l):n.push(l));const a=t.matched[o];a&&(e.matched.find(c=>Sn(c,a))||i.push(a))}return[n,s,i]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jc={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w=function(t,e){if(!t)throw Dn(e)},Dn=function(t){return new Error("Firebase Database ("+jc.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vc=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let i=t.charCodeAt(s);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},v_=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const i=t[n++];if(i<128)e[s++]=String.fromCharCode(i);else if(i>191&&i<224){const r=t[n++];e[s++]=String.fromCharCode((i&31)<<6|r&63)}else if(i>239&&i<365){const r=t[n++],o=t[n++],l=t[n++],a=((i&7)<<18|(r&63)<<12|(o&63)<<6|l&63)-65536;e[s++]=String.fromCharCode(55296+(a>>10)),e[s++]=String.fromCharCode(56320+(a&1023))}else{const r=t[n++],o=t[n++];e[s++]=String.fromCharCode((i&15)<<12|(r&63)<<6|o&63)}}return e.join("")},ho={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let i=0;i<t.length;i+=3){const r=t[i],o=i+1<t.length,l=o?t[i+1]:0,a=i+2<t.length,c=a?t[i+2]:0,u=r>>2,h=(r&3)<<4|l>>4;let d=(l&15)<<2|c>>6,g=c&63;a||(g=64,o||(d=64)),s.push(n[u],n[h],n[d],n[g])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Vc(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):v_(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let i=0;i<t.length;){const r=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,r==null||l==null||c==null||h==null)throw new b_;const d=r<<2|l>>4;if(s.push(d),c!==64){const g=l<<4&240|c>>2;if(s.push(g),h!==64){const b=c<<6&192|h;s.push(b)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class b_ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const zc=function(t){const e=Vc(t);return ho.encodeByteArray(e,!0)},ei=function(t){return zc(t).replace(/\./g,"")},Er=function(t){try{return ho.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C_(t){return qc(void 0,t)}function qc(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!E_(n)||(t[n]=qc(t[n],e[n]));return t}function E_(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w_(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_=()=>w_().__FIREBASE_DEFAULTS__,I_=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},S_=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Er(t[1]);return e&&JSON.parse(e)},Kc=()=>{try{return x_()||I_()||S_()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},T_=t=>{var e,n;return(n=(e=Kc())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},R_=t=>{const e=T_(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},Gc=()=>{var t;return(t=Kc())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N_(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",i=t.iat||0,r=t.sub||t.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:i,exp:i+3600,auth_time:i,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},t),l="";return[ei(JSON.stringify(n)),ei(JSON.stringify(o)),l].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A_(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Yc(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(A_())}function P_(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Qc(){return jc.NODE_ADMIN===!0}function k_(){try{return typeof indexedDB=="object"}catch{return!1}}function O_(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(s);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var r;e(((r=i.error)===null||r===void 0?void 0:r.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_="FirebaseError";class Is extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=M_,Object.setPrototypeOf(this,Is.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xc.prototype.create)}}class Xc{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},i=`${this.service}/${e}`,r=this.errors[e],o=r?D_(r,s):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new Is(i,l,s)}}function D_(t,e){return t.replace(L_,(n,s)=>{const i=e[s];return i!=null?String(i):`<${s}?>`})}const L_=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fs(t){return JSON.parse(t)}function ge(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jc=function(t){let e={},n={},s={},i="";try{const r=t.split(".");e=fs(Er(r[0])||""),n=fs(Er(r[1])||""),i=r[2],s=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:s,signature:i}},F_=function(t){const e=Jc(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},B_=function(t){const e=Jc(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Rn(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Vl(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ti(t,e,n){const s={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(s[i]=e.call(n,t[i],i,t));return s}function wr(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const i of n){if(!s.includes(i))return!1;const r=t[i],o=e[i];if(zl(r)&&zl(o)){if(!wr(r,o))return!1}else if(r!==o)return!1}for(const i of s)if(!n.includes(i))return!1;return!0}function zl(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H_(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const s=this.W_;if(typeof e=="string")for(let h=0;h<16;h++)s[h]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let h=0;h<16;h++)s[h]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let h=16;h<80;h++){const d=s[h-3]^s[h-8]^s[h-14]^s[h-16];s[h]=(d<<1|d>>>31)&4294967295}let i=this.chain_[0],r=this.chain_[1],o=this.chain_[2],l=this.chain_[3],a=this.chain_[4],c,u;for(let h=0;h<80;h++){h<40?h<20?(c=l^r&(o^l),u=1518500249):(c=r^o^l,u=1859775393):h<60?(c=r&o|l&(r|o),u=2400959708):(c=r^o^l,u=3395469782);const d=(i<<5|i>>>27)+c+a+u+s[h]&4294967295;a=l,l=o,o=(r<<30|r>>>2)&4294967295,r=i,i=d}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+r&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+a&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const s=n-this.blockSize;let i=0;const r=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=s;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(r[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(r),o=0;break}}else for(;i<n;)if(r[o]=e[i],++o,++i,o===this.blockSize){this.compress_(r),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let s=0;for(let i=0;i<5;i++)for(let r=24;r>=0;r-=8)e[s]=this.chain_[i]>>r&255,++s;return e}}function Zc(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let i=t.charCodeAt(s);if(i>=55296&&i<=56319){const r=i-55296;s++,w(s<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(s)-56320;i=65536+(r<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Ni=function(t){let e=0;for(let n=0;n<t.length;n++){const s=t.charCodeAt(n);s<128?e++:s<2048?e+=2:s>=55296&&s<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ai(t){return t&&t._delegate?t._delegate:t}class ps{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ht="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new fo;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&s.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(V_(e))try{this.getOrInitializeService({instanceIdentifier:Ht})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:i});s.resolve(r)}catch{}}}}clearInstance(e=Ht){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ht){return this.instances.has(e)}getOptions(e=Ht){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[r,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(r);s===l&&o.resolve(i)}return i}onInit(e,n){var s;const i=this.normalizeInstanceIdentifier(n),r=(s=this.onInitCallbacks.get(i))!==null&&s!==void 0?s:new Set;r.add(e),this.onInitCallbacks.set(i,r);const o=this.instances.get(i);return o&&e(o,i),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const i of s)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:j_(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ht){return this.component?this.component.multipleInstances?e:Ht:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function j_(t){return t===Ht?void 0:t}function V_(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new U_(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ie;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ie||(ie={}));const q_={debug:ie.DEBUG,verbose:ie.VERBOSE,info:ie.INFO,warn:ie.WARN,error:ie.ERROR,silent:ie.SILENT},K_=ie.INFO,G_={[ie.DEBUG]:"log",[ie.VERBOSE]:"log",[ie.INFO]:"info",[ie.WARN]:"warn",[ie.ERROR]:"error"},Y_=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),i=G_[e];if(i)console[i](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class eu{constructor(e){this.name=e,this._logLevel=K_,this._logHandler=Y_,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ie))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?q_[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ie.DEBUG,...e),this._logHandler(this,ie.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ie.VERBOSE,...e),this._logHandler(this,ie.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ie.INFO,...e),this._logHandler(this,ie.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ie.WARN,...e),this._logHandler(this,ie.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ie.ERROR,...e),this._logHandler(this,ie.ERROR,...e)}}const Q_=(t,e)=>e.some(n=>t instanceof n);let ql,Kl;function X_(){return ql||(ql=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function J_(){return Kl||(Kl=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const tu=new WeakMap,xr=new WeakMap,nu=new WeakMap,Yi=new WeakMap,po=new WeakMap;function Z_(t){const e=new Promise((n,s)=>{const i=()=>{t.removeEventListener("success",r),t.removeEventListener("error",o)},r=()=>{n(Rt(t.result)),i()},o=()=>{s(t.error),i()};t.addEventListener("success",r),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&tu.set(n,t)}).catch(()=>{}),po.set(e,t),e}function eg(t){if(xr.has(t))return;const e=new Promise((n,s)=>{const i=()=>{t.removeEventListener("complete",r),t.removeEventListener("error",o),t.removeEventListener("abort",o)},r=()=>{n(),i()},o=()=>{s(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",r),t.addEventListener("error",o),t.addEventListener("abort",o)});xr.set(t,e)}let Ir={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return xr.get(t);if(e==="objectStoreNames")return t.objectStoreNames||nu.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Rt(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function tg(t){Ir=t(Ir)}function ng(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(Qi(this),e,...n);return nu.set(s,e.sort?e.sort():[e]),Rt(s)}:J_().includes(t)?function(...e){return t.apply(Qi(this),e),Rt(tu.get(this))}:function(...e){return Rt(t.apply(Qi(this),e))}}function sg(t){return typeof t=="function"?ng(t):(t instanceof IDBTransaction&&eg(t),Q_(t,X_())?new Proxy(t,Ir):t)}function Rt(t){if(t instanceof IDBRequest)return Z_(t);if(Yi.has(t))return Yi.get(t);const e=sg(t);return e!==t&&(Yi.set(t,e),po.set(e,t)),e}const Qi=t=>po.get(t);function ig(t,e,{blocked:n,upgrade:s,blocking:i,terminated:r}={}){const o=indexedDB.open(t,e),l=Rt(o);return s&&o.addEventListener("upgradeneeded",a=>{s(Rt(o.result),a.oldVersion,a.newVersion,Rt(o.transaction),a)}),n&&o.addEventListener("blocked",a=>n(a.oldVersion,a.newVersion,a)),l.then(a=>{r&&a.addEventListener("close",()=>r()),i&&a.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),l}const rg=["get","getKey","getAll","getAllKeys","count"],og=["put","add","delete","clear"],Xi=new Map;function Gl(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Xi.get(e))return Xi.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,i=og.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(i||rg.includes(n)))return;const r=async function(o,...l){const a=this.transaction(o,i?"readwrite":"readonly");let c=a.store;return s&&(c=c.index(l.shift())),(await Promise.all([c[n](...l),i&&a.done]))[0]};return Xi.set(e,r),r}tg(t=>({...t,get:(e,n,s)=>Gl(e,n)||t.get(e,n,s),has:(e,n)=>!!Gl(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ag(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function ag(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Sr="@firebase/app",Yl="0.9.12";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yt=new eu("@firebase/app"),cg="@firebase/app-compat",ug="@firebase/analytics-compat",hg="@firebase/analytics",dg="@firebase/app-check-compat",fg="@firebase/app-check",pg="@firebase/auth",_g="@firebase/auth-compat",gg="@firebase/database",mg="@firebase/database-compat",yg="@firebase/functions",vg="@firebase/functions-compat",bg="@firebase/installations",Cg="@firebase/installations-compat",Eg="@firebase/messaging",wg="@firebase/messaging-compat",xg="@firebase/performance",Ig="@firebase/performance-compat",Sg="@firebase/remote-config",Tg="@firebase/remote-config-compat",Rg="@firebase/storage",Ng="@firebase/storage-compat",Ag="@firebase/firestore",Pg="@firebase/firestore-compat",kg="firebase",Og="9.22.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tr="[DEFAULT]",Mg={[Sr]:"fire-core",[cg]:"fire-core-compat",[hg]:"fire-analytics",[ug]:"fire-analytics-compat",[fg]:"fire-app-check",[dg]:"fire-app-check-compat",[pg]:"fire-auth",[_g]:"fire-auth-compat",[gg]:"fire-rtdb",[mg]:"fire-rtdb-compat",[yg]:"fire-fn",[vg]:"fire-fn-compat",[bg]:"fire-iid",[Cg]:"fire-iid-compat",[Eg]:"fire-fcm",[wg]:"fire-fcm-compat",[xg]:"fire-perf",[Ig]:"fire-perf-compat",[Sg]:"fire-rc",[Tg]:"fire-rc-compat",[Rg]:"fire-gcs",[Ng]:"fire-gcs-compat",[Ag]:"fire-fst",[Pg]:"fire-fst-compat","fire-js":"fire-js",[kg]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ni=new Map,Rr=new Map;function Dg(t,e){try{t.container.addComponent(e)}catch(n){Yt.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function si(t){const e=t.name;if(Rr.has(e))return Yt.debug(`There were multiple attempts to register component ${e}.`),!1;Rr.set(e,t);for(const n of ni.values())Dg(n,t);return!0}function Lg(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fg={["no-app"]:"No Firebase App '{$appName}' has been created - call initializeApp() first",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Nt=new Xc("app","Firebase",Fg);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ps("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Nt.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hg=Og;function su(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Tr,automaticDataCollectionEnabled:!1},e),i=s.name;if(typeof i!="string"||!i)throw Nt.create("bad-app-name",{appName:String(i)});if(n||(n=Gc()),!n)throw Nt.create("no-options");const r=ni.get(i);if(r){if(wr(n,r.options)&&wr(s,r.config))return r;throw Nt.create("duplicate-app",{appName:i})}const o=new z_(i);for(const a of Rr.values())o.addComponent(a);const l=new Bg(n,s,o);return ni.set(i,l),l}function $g(t=Tr){const e=ni.get(t);if(!e&&t===Tr&&Gc())return su();if(!e)throw Nt.create("no-app",{appName:t});return e}function yn(t,e,n){var s;let i=(s=Mg[t])!==null&&s!==void 0?s:t;n&&(i+=`-${n}`);const r=i.match(/\s|\//),o=e.match(/\s|\//);if(r||o){const l=[`Unable to register library "${i}" with version "${e}":`];r&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Yt.warn(l.join(" "));return}si(new ps(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wg="firebase-heartbeat-database",Ug=1,_s="firebase-heartbeat-store";let Ji=null;function iu(){return Ji||(Ji=ig(Wg,Ug,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(_s)}}}).catch(t=>{throw Nt.create("idb-open",{originalErrorMessage:t.message})})),Ji}async function jg(t){try{return await(await iu()).transaction(_s).objectStore(_s).get(ru(t))}catch(e){if(e instanceof Is)Yt.warn(e.message);else{const n=Nt.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Yt.warn(n.message)}}}async function Ql(t,e){try{const s=(await iu()).transaction(_s,"readwrite");await s.objectStore(_s).put(e,ru(t)),await s.done}catch(n){if(n instanceof Is)Yt.warn(n.message);else{const s=Nt.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Yt.warn(s.message)}}}function ru(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vg=1024,zg=30*24*60*60*1e3;class qg{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Gg(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Xl();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(i=>i.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const r=new Date(i.date).valueOf();return Date.now()-r<=zg}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Xl(),{heartbeatsToSend:n,unsentEntries:s}=Kg(this._heartbeatsCache.heartbeats),i=ei(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Xl(){return new Date().toISOString().substring(0,10)}function Kg(t,e=Vg){const n=[];let s=t.slice();for(const i of t){const r=n.find(o=>o.agent===i.agent);if(r){if(r.dates.push(i.date),Jl(n)>e){r.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Jl(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class Gg{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return k_()?O_().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await jg(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Ql(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Ql(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Jl(t){return ei(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yg(t){si(new ps("platform-logger",e=>new lg(e),"PRIVATE")),si(new ps("heartbeat",e=>new qg(e),"PRIVATE")),yn(Sr,Yl,t),yn(Sr,Yl,"esm2017"),yn("fire-js","")}Yg("");const Zl="@firebase/database",ea="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ou="";function Qg(t){ou=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),ge(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:fs(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return yt(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lu=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Xg(e)}}catch{}return new Jg},Vt=lu("localStorage"),Nr=lu("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vn=new eu("@firebase/database"),Zg=function(){let t=1;return function(){return t++}}(),au=function(t){const e=W_(t),n=new $_;n.update(e);const s=n.digest();return ho.encodeByteArray(s)},Ss=function(...t){let e="";for(let n=0;n<t.length;n++){const s=t[n];Array.isArray(s)||s&&typeof s=="object"&&typeof s.length=="number"?e+=Ss.apply(null,s):typeof s=="object"?e+=ge(s):e+=s,e+=" "}return e};let Kt=null,ta=!0;const em=function(t,e){w(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(vn.logLevel=ie.VERBOSE,Kt=vn.log.bind(vn),e&&Nr.set("logging_enabled",!0)):typeof t=="function"?Kt=t:(Kt=null,Nr.remove("logging_enabled"))},we=function(...t){if(ta===!0&&(ta=!1,Kt===null&&Nr.get("logging_enabled")===!0&&em(!0)),Kt){const e=Ss.apply(null,t);Kt(e)}},Ts=function(t){return function(...e){we(t,...e)}},Ar=function(...t){const e="FIREBASE INTERNAL ERROR: "+Ss(...t);vn.error(e)},gt=function(...t){const e=`FIREBASE FATAL ERROR: ${Ss(...t)}`;throw vn.error(e),new Error(e)},He=function(...t){const e="FIREBASE WARNING: "+Ss(...t);vn.warn(e)},tm=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&He("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},cu=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},nm=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Nn="[MIN_NAME]",Qt="[MAX_NAME]",Ln=function(t,e){if(t===e)return 0;if(t===Nn||e===Qt)return-1;if(e===Nn||t===Qt)return 1;{const n=na(t),s=na(e);return n!==null?s!==null?n-s===0?t.length-e.length:n-s:-1:s!==null?1:t<e?-1:1}},sm=function(t,e){return t===e?0:t<e?-1:1},Vn=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+ge(e))},_o=function(t){if(typeof t!="object"||t===null)return ge(t);const e=[];for(const s in t)e.push(s);e.sort();let n="{";for(let s=0;s<e.length;s++)s!==0&&(n+=","),n+=ge(e[s]),n+=":",n+=_o(t[e[s]]);return n+="}",n},uu=function(t,e){const n=t.length;if(n<=e)return[t];const s=[];for(let i=0;i<n;i+=e)i+e>n?s.push(t.substring(i,n)):s.push(t.substring(i,i+e));return s};function Fe(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const hu=function(t){w(!cu(t),"Invalid JSON number");const e=11,n=52,s=(1<<e-1)-1;let i,r,o,l,a;t===0?(r=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-s)?(l=Math.min(Math.floor(Math.log(t)/Math.LN2),s),r=l+s,o=Math.round(t*Math.pow(2,n-l)-Math.pow(2,n))):(r=0,o=Math.round(t/Math.pow(2,1-s-n))));const c=[];for(a=n;a;a-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(a=e;a;a-=1)c.push(r%2?1:0),r=Math.floor(r/2);c.push(i?1:0),c.reverse();const u=c.join("");let h="";for(a=0;a<64;a+=8){let d=parseInt(u.substr(a,8),2).toString(16);d.length===1&&(d="0"+d),h=h+d}return h.toLowerCase()},im=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},rm=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function om(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const s=new Error(t+" at "+e._path.toString()+": "+n);return s.code=t.toUpperCase(),s}const lm=new RegExp("^-?(0*)\\d{1,10}$"),am=-2147483648,cm=2147483647,na=function(t){if(lm.test(t)){const e=Number(t);if(e>=am&&e<=cm)return e}return null},Rs=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw He("Exception was thrown by user callback.",n),e},Math.floor(0))}},um=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ns=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(s=>this.appCheck=s)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,s)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,s):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(s=>s.addTokenListener(e))}notifyForInvalidToken(){He(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(e,n,s){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=s,this.auth_=null,this.auth_=s.getImmediate({optional:!0}),this.auth_||s.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(we("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,s)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,s):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',He(e)}}class bn{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}bn.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const go="5",du="v",fu="s",pu="r",_u="f",gu=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,mu="ls",yu="p",Pr="ac",vu="websocket",bu="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(e,n,s,i,r=!1,o="",l=!1,a=!1){this.secure=n,this.namespace=s,this.webSocketOnly=i,this.nodeAdmin=r,this.persistenceKey=o,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Vt.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Vt.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function fm(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function Eu(t,e,n){w(typeof e=="string","typeof type must == string"),w(typeof n=="object","typeof params must == object");let s;if(e===vu)s=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===bu)s=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);fm(t)&&(n.ns=t.namespace);const i=[];return Fe(n,(r,o)=>{i.push(r+"="+o)}),s+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(){this.counters_={}}incrementCounter(e,n=1){yt(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return C_(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zi={},er={};function mo(t){const e=t.toString();return Zi[e]||(Zi[e]=new pm),Zi[e]}function _m(t,e){const n=t.toString();return er[n]||(er[n]=e()),er[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const s=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<s.length;++i)s[i]&&Rs(()=>{this.onMessage_(s[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa="start",mm="close",ym="pLPCommand",vm="pRTLPCB",wu="id",xu="pw",Iu="ser",bm="cb",Cm="seg",Em="ts",wm="d",xm="dframe",Su=1870,Tu=30,Im=Su-Tu,Sm=25e3,Tm=3e4;class hn{constructor(e,n,s,i,r,o,l){this.connId=e,this.repoInfo=n,this.applicationId=s,this.appCheckToken=i,this.authToken=r,this.transportSessionId=o,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ts(e),this.stats_=mo(n),this.urlFn=a=>(this.appCheckToken&&(a[Pr]=this.appCheckToken),Eu(n,bu,a))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new gm(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Tm)),nm(()=>{if(this.isClosed_)return;this.scriptTagHolder=new yo((...r)=>{const[o,l,a,c,u]=r;if(this.incrementIncomingBytes_(r),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===sa)this.id=l,this.password=a;else if(o===mm)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...r)=>{const[o,l]=r;this.incrementIncomingBytes_(r),this.myPacketOrderer.handleResponse(o,l)},()=>{this.onClosed_()},this.urlFn);const s={};s[sa]="t",s[Iu]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(s[bm]=this.scriptTagHolder.uniqueCallbackIdentifier),s[du]=go,this.transportSessionId&&(s[fu]=this.transportSessionId),this.lastSessionId&&(s[mu]=this.lastSessionId),this.applicationId&&(s[yu]=this.applicationId),this.appCheckToken&&(s[Pr]=this.appCheckToken),typeof location<"u"&&location.hostname&&gu.test(location.hostname)&&(s[pu]=_u);const i=this.urlFn(s);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){hn.forceAllow_=!0}static forceDisallow(){hn.forceDisallow_=!0}static isAvailable(){return hn.forceAllow_?!0:!hn.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!im()&&!rm()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=ge(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const s=zc(n),i=uu(s,Im);for(let r=0;r<i.length;r++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[r]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const s={};s[xm]="t",s[wu]=e,s[xu]=n,this.myDisconnFrame.src=this.urlFn(s),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=ge(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class yo{constructor(e,n,s,i){this.onDisconnect=s,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Zg(),window[ym+this.uniqueCallbackIdentifier]=e,window[vm+this.uniqueCallbackIdentifier]=n,this.myIFrame=yo.createIFrame_();let r="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(r='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+r+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(l){we("frame writing exception"),l.stack&&we(l.stack),we(l)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||we("No IE domain setting required")}catch{const s=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+s+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[wu]=this.myID,e[xu]=this.myPW,e[Iu]=this.currentSerial;let n=this.urlFn(e),s="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Tu+s.length<=Su;){const o=this.pendingSegs.shift();s=s+"&"+Cm+i+"="+o.seg+"&"+Em+i+"="+o.ts+"&"+wm+i+"="+o.d,i++}return n=n+s,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,s){this.pendingSegs.push({seg:e,ts:n,d:s}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const s=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(s,Math.floor(Sm)),r=()=>{clearTimeout(i),s()};this.addTag(e,r)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const s=this.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=e,s.onload=s.onreadystatechange=function(){const i=s.readyState;(!i||i==="loaded"||i==="complete")&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),n())},s.onerror=()=>{we("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(s)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rm=16384,Nm=45e3;let ii=null;typeof MozWebSocket<"u"?ii=MozWebSocket:typeof WebSocket<"u"&&(ii=WebSocket);class ze{constructor(e,n,s,i,r,o,l){this.connId=e,this.applicationId=s,this.appCheckToken=i,this.authToken=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ts(this.connId),this.stats_=mo(n),this.connURL=ze.connectionURL_(n,o,l,i,s),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,s,i,r){const o={};return o[du]=go,typeof location<"u"&&location.hostname&&gu.test(location.hostname)&&(o[pu]=_u),n&&(o[fu]=n),s&&(o[mu]=s),i&&(o[Pr]=i),r&&(o[yu]=r),Eu(e,vu,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Vt.set("previous_websocket_failure",!0);try{let s;Qc(),this.mySock=new ii(this.connURL,[],s)}catch(s){this.log_("Error instantiating WebSocket.");const i=s.message||s.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=s=>{this.handleIncomingFrame(s)},this.mySock.onerror=s=>{this.log_("WebSocket error.  Closing connection.");const i=s.message||s.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){ze.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,s=navigator.userAgent.match(n);s&&s.length>1&&parseFloat(s[1])<4.4&&(e=!0)}return!e&&ii!==null&&!ze.forceDisallow_}static previouslyFailed(){return Vt.isInMemoryStorage||Vt.get("previous_websocket_failure")===!0}markConnectionHealthy(){Vt.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const s=fs(n);this.onMessage(s)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(w(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const s=this.extractFrameCount_(n);s!==null&&this.appendFrame_(s)}}send(e){this.resetKeepAlive();const n=ge(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const s=uu(n,Rm);s.length>1&&this.sendString_(String(s.length));for(let i=0;i<s.length;i++)this.sendString_(s[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Nm))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}ze.responsesRequiredToBeHealthy=2;ze.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[hn,ze]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=ze&&ze.isAvailable();let s=n&&!ze.previouslyFailed();if(e.webSocketOnly&&(n||He("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[ze];else{const i=this.transports_=[];for(const r of gs.ALL_TRANSPORTS)r&&r.isAvailable()&&i.push(r);gs.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}gs.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Am=6e4,Pm=5e3,km=10*1024,Om=100*1024,tr="t",ia="d",Mm="s",ra="r",Dm="e",oa="o",la="a",aa="n",ca="p",Lm="h";class Fm{constructor(e,n,s,i,r,o,l,a,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=s,this.appCheckToken_=i,this.authToken_=r,this.onMessage_=o,this.onReady_=l,this.onDisconnect_=a,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ts("c:"+this.id+":"),this.transportManager_=new gs(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,s)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=ns(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Om?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>km?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(tr in e){const n=e[tr];n===la?this.upgradeIfSecondaryHealthy_():n===ra?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===oa&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Vn("t",e),s=Vn("d",e);if(n==="c")this.onSecondaryControl_(s);else if(n==="d")this.pendingDataMessages.push(s);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:ca,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:la,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:aa,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Vn("t",e),s=Vn("d",e);n==="c"?this.onControl_(s):n==="d"&&this.onDataMessage_(s)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Vn(tr,e);if(ia in e){const s=e[ia];if(n===Lm){const i=Object.assign({},s);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===aa){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===Mm?this.onConnectionShutdown_(s):n===ra?this.onReset_(s):n===Dm?Ar("Server Error: "+s):n===oa?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Ar("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,s=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),go!==s&&He("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,s),ns(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Am))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ns(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Pm))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:ca,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Vt.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{put(e,n,s,i){}merge(e,n,s,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,s){}onDisconnectMerge(e,n,s){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(e){this.allowedEvents_=e,this.listeners_={},w(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const s=[...this.listeners_[e]];for(let i=0;i<s.length;i++)s[i].callback.apply(s[i].context,n)}}on(e,n,s){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:s});const i=this.getInitialEvent(e);i&&n.apply(s,i)}off(e,n,s){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let r=0;r<i.length;r++)if(i[r].callback===n&&(!s||s===i[r].context)){i.splice(r,1);return}}validateEventType_(e){w(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri extends Nu{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Yc()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new ri}getInitialEvent(e){return w(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua=32,ha=768;class ne{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let s=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[s]=this.pieces_[i],s++);this.pieces_.length=s,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Y(){return new ne("")}function V(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Mt(t){return t.pieces_.length-t.pieceNum_}function re(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new ne(t.pieces_,e)}function Au(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Bm(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Pu(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function ku(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new ne(e,0)}function he(t,e){const n=[];for(let s=t.pieceNum_;s<t.pieces_.length;s++)n.push(t.pieces_[s]);if(e instanceof ne)for(let s=e.pieceNum_;s<e.pieces_.length;s++)n.push(e.pieces_[s]);else{const s=e.split("/");for(let i=0;i<s.length;i++)s[i].length>0&&n.push(s[i])}return new ne(n,0)}function z(t){return t.pieceNum_>=t.pieces_.length}function Me(t,e){const n=V(t),s=V(e);if(n===null)return e;if(n===s)return Me(re(t),re(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function vo(t,e){if(Mt(t)!==Mt(e))return!1;for(let n=t.pieceNum_,s=e.pieceNum_;n<=t.pieces_.length;n++,s++)if(t.pieces_[n]!==e.pieces_[s])return!1;return!0}function Ke(t,e){let n=t.pieceNum_,s=e.pieceNum_;if(Mt(t)>Mt(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[s])return!1;++n,++s}return!0}class Hm{constructor(e,n){this.errorPrefix_=n,this.parts_=Pu(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let s=0;s<this.parts_.length;s++)this.byteLength_+=Ni(this.parts_[s]);Ou(this)}}function $m(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Ni(e),Ou(t)}function Wm(t){const e=t.parts_.pop();t.byteLength_-=Ni(e),t.parts_.length>0&&(t.byteLength_-=1)}function Ou(t){if(t.byteLength_>ha)throw new Error(t.errorPrefix_+"has a key path longer than "+ha+" bytes ("+t.byteLength_+").");if(t.parts_.length>ua)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+ua+") or object contains a cycle "+$t(t))}function $t(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo extends Nu{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const s=!document[e];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}static getInstance(){return new bo}getInitialEvent(e){return w(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zn=1e3,Um=60*5*1e3,da=30*1e3,jm=1.3,Vm=3e4,zm="server_kill",fa=3;class pt extends Ru{constructor(e,n,s,i,r,o,l,a){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=s,this.onConnectStatus_=i,this.onServerInfoUpdate_=r,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.authOverride_=a,this.id=pt.nextPersistentConnectionId_++,this.log_=Ts("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=zn,this.maxReconnectDelay_=Um,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a&&!Qc())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");bo.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&ri.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,s){const i=++this.requestNumber_,r={r:i,a:e,b:n};this.log_(ge(r)),w(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(r),s&&(this.requestCBHash_[i]=s)}get(e){this.initConnection_();const n=new fo,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const l=o.d;o.s==="ok"?n.resolve(l):n.reject(l)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),n.promise}listen(e,n,s,i){this.initConnection_();const r=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+r),this.listens.has(o)||this.listens.set(o,new Map),w(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),w(!this.listens.get(o).has(r),"listen() called twice for same path/queryId.");const l={onComplete:i,hashFn:n,query:e,tag:s};this.listens.get(o).set(r,l),this.connected_&&this.sendListen_(l)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,s=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(s)})}sendListen_(e){const n=e.query,s=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+s+" for "+i);const r={p:s},o="q";e.tag&&(r.q=n._queryObject,r.t=e.tag),r.h=e.hashFn(),this.sendRequest(o,r,l=>{const a=l.d,c=l.s;pt.warnOnListenWarnings_(a,n),(this.listens.get(s)&&this.listens.get(s).get(i))===e&&(this.log_("listen response",l),c!=="ok"&&this.removeListen_(s,i),e.onComplete&&e.onComplete(c,a))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&yt(e,"w")){const s=Rn(e,"w");if(Array.isArray(s)&&~s.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',r=n._path.toString();He(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${r} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||B_(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=da)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=F_(e)?"auth":"gauth",s={cred:e};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(n,s,i=>{const r=i.s,o=i.d||"error";this.authToken_===e&&(r==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(r,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,s=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,s)})}unlisten(e,n){const s=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+s+" "+i),w(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(s,i)&&this.connected_&&this.sendUnlisten_(s,i,e._queryObject,n)}sendUnlisten_(e,n,s,i){this.log_("Unlisten on "+e+" for "+n);const r={p:e},o="n";i&&(r.q=s,r.t=i),this.sendRequest(o,r)}onDisconnectPut(e,n,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:s})}onDisconnectMerge(e,n,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:s})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,s,i){const r={p:n,d:s};this.log_("onDisconnect "+e,r),this.sendRequest(e,r,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,s,i){this.putInternal("p",e,n,s,i)}merge(e,n,s,i){this.putInternal("m",e,n,s,i)}putInternal(e,n,s,i,r){this.initConnection_();const o={p:n,d:s};r!==void 0&&(o.h=r),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,s=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,s,r=>{this.log_(n+" response",r),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(r.s,r.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,s=>{if(s.s!=="ok"){const r=s.d;this.log_("reportStats","Error sending stats: "+r)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+ge(e));const n=e.r,s=this.requestCBHash_[n];s&&(delete this.requestCBHash_[n],s(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Ar("Unrecognized action received from server: "+ge(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){w(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=zn,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=zn,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Vm&&(this.reconnectDelay_=zn),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*jm)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),s=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+pt.nextConnectionId_++,r=this.lastSessionId;let o=!1,l=null;const a=function(){l?l.close():(o=!0,s())},c=function(h){w(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(h)};this.realtime_={close:a,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[h,d]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);o?we("getToken() completed but was canceled"):(we("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=d&&d.token,l=new Fm(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,s,g=>{He(g+" ("+this.repoInfo_.toString()+")"),this.interrupt(zm)},r))}catch(h){this.log_("Failed to get token: "+h),o||(this.repoInfo_.nodeAdmin&&He(h),a())}}}interrupt(e){we("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){we("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Vl(this.interruptReasons_)&&(this.reconnectDelay_=zn,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let s;n?s=n.map(r=>_o(r)).join("$"):s="default";const i=this.removeListen_(e,s);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const s=new ne(e).toString();let i;if(this.listens.has(s)){const r=this.listens.get(s);i=r.get(n),r.delete(n),r.size===0&&this.listens.delete(s)}else i=void 0;return i}onAuthRevoked_(e,n){we("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=fa&&(this.reconnectDelay_=da,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){we("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=fa&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+ou.replace(/\./g,"-")]=1,Yc()?e["framework.cordova"]=1:P_()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=ri.getInstance().currentlyOnline();return Vl(this.interruptReasons_)&&e}}pt.nextPersistentConnectionId_=0;pt.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new j(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const s=new j(Nn,e),i=new j(Nn,n);return this.compare(s,i)!==0}minPost(){return j.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hs;class Mu extends Pi{static get __EMPTY_NODE(){return Hs}static set __EMPTY_NODE(e){Hs=e}compare(e,n){return Ln(e.name,n.name)}isDefinedOn(e){throw Dn("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return j.MIN}maxPost(){return new j(Qt,Hs)}makePost(e,n){return w(typeof e=="string","KeyIndex indexValue must always be a string."),new j(e,Hs)}toString(){return".key"}}const Cn=new Mu;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e,n,s,i,r=null){this.isReverse_=i,this.resultGenerator_=r,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?s(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class _e{constructor(e,n,s,i,r){this.key=e,this.value=n,this.color=s??_e.RED,this.left=i??De.EMPTY_NODE,this.right=r??De.EMPTY_NODE}copy(e,n,s,i,r){return new _e(e??this.key,n??this.value,s??this.color,i??this.left,r??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let i=this;const r=s(e,i.key);return r<0?i=i.copy(null,null,null,i.left.insert(e,n,s),null):r===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,s)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return De.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let s,i;if(s=this,n(e,s.key)<0)!s.left.isEmpty()&&!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed_()&&(s=s.rotateRight_()),!s.right.isEmpty()&&!s.right.isRed_()&&!s.right.left.isRed_()&&(s=s.moveRedRight_()),n(e,s.key)===0){if(s.right.isEmpty())return De.EMPTY_NODE;i=s.right.min_(),s=s.copy(i.key,i.value,null,null,s.right.removeMin_())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,_e.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,_e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}_e.RED=!0;_e.BLACK=!1;class qm{copy(e,n,s,i,r){return this}insert(e,n,s){return new _e(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class De{constructor(e,n=De.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new De(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,_e.BLACK,null,null))}remove(e){return new De(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,_e.BLACK,null,null))}get(e){let n,s=this.root_;for(;!s.isEmpty();){if(n=this.comparator_(e,s.key),n===0)return s.value;n<0?s=s.left:n>0&&(s=s.right)}return null}getPredecessorKey(e){let n,s=this.root_,i=null;for(;!s.isEmpty();)if(n=this.comparator_(e,s.key),n===0){if(s.left.isEmpty())return i?i.key:null;for(s=s.left;!s.right.isEmpty();)s=s.right;return s.key}else n<0?s=s.left:n>0&&(i=s,s=s.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new $s(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new $s(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new $s(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new $s(this.root_,null,this.comparator_,!0,e)}}De.EMPTY_NODE=new qm;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Km(t,e){return Ln(t.name,e.name)}function Co(t,e){return Ln(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kr;function Gm(t){kr=t}const Du=function(t){return typeof t=="number"?"number:"+hu(t):"string:"+t},Lu=function(t){if(t.isLeafNode()){const e=t.val();w(typeof e=="string"||typeof e=="number"||typeof e=="object"&&yt(e,".sv"),"Priority must be a string or number.")}else w(t===kr||t.isEmpty(),"priority of unexpected type.");w(t===kr||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pa;class pe{constructor(e,n=pe.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,w(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Lu(this.priorityNode_)}static set __childrenNodeConstructor(e){pa=e}static get __childrenNodeConstructor(){return pa}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new pe(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:pe.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return z(e)?this:V(e)===".priority"?this.priorityNode_:pe.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:pe.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const s=V(e);return s===null?n:n.isEmpty()&&s!==".priority"?this:(w(s!==".priority"||Mt(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(s,pe.__childrenNodeConstructor.EMPTY_NODE.updateChild(re(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Du(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=hu(this.value_):e+=this.value_,this.lazyHash_=au(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===pe.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof pe.__childrenNodeConstructor?-1:(w(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,s=typeof this.value_,i=pe.VALUE_TYPE_ORDER.indexOf(n),r=pe.VALUE_TYPE_ORDER.indexOf(s);return w(i>=0,"Unknown leaf type: "+n),w(r>=0,"Unknown leaf type: "+s),i===r?s==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:r-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}pe.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fu,Bu;function Ym(t){Fu=t}function Qm(t){Bu=t}class Xm extends Pi{compare(e,n){const s=e.node.getPriority(),i=n.node.getPriority(),r=s.compareTo(i);return r===0?Ln(e.name,n.name):r}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return j.MIN}maxPost(){return new j(Qt,new pe("[PRIORITY-POST]",Bu))}makePost(e,n){const s=Fu(e);return new j(n,new pe("[PRIORITY-POST]",s))}toString(){return".priority"}}const ce=new Xm;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jm=Math.log(2);class Zm{constructor(e){const n=r=>parseInt(Math.log(r)/Jm,10),s=r=>parseInt(Array(r+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=s(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const oi=function(t,e,n,s){t.sort(e);const i=function(a,c){const u=c-a;let h,d;if(u===0)return null;if(u===1)return h=t[a],d=n?n(h):h,new _e(d,h.node,_e.BLACK,null,null);{const g=parseInt(u/2,10)+a,b=i(a,g),S=i(g+1,c);return h=t[g],d=n?n(h):h,new _e(d,h.node,_e.BLACK,b,S)}},r=function(a){let c=null,u=null,h=t.length;const d=function(b,S){const k=h-b,O=h;h-=b;const D=i(k+1,O),K=t[k],B=n?n(K):K;g(new _e(B,K.node,S,null,D))},g=function(b){c?(c.left=b,c=b):(u=b,c=b)};for(let b=0;b<a.count;++b){const S=a.nextBitIsOne(),k=Math.pow(2,a.count-(b+1));S?d(k,_e.BLACK):(d(k,_e.BLACK),d(k,_e.RED))}return u},o=new Zm(t.length),l=r(o);return new De(s||e,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nr;const cn={};class dt{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return w(cn&&ce,"ChildrenNode.ts has not been loaded"),nr=nr||new dt({".priority":cn},{".priority":ce}),nr}get(e){const n=Rn(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof De?n:null}hasIndex(e){return yt(this.indexSet_,e.toString())}addIndex(e,n){w(e!==Cn,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const s=[];let i=!1;const r=n.getIterator(j.Wrap);let o=r.getNext();for(;o;)i=i||e.isDefinedOn(o.node),s.push(o),o=r.getNext();let l;i?l=oi(s,e.getCompare()):l=cn;const a=e.toString(),c=Object.assign({},this.indexSet_);c[a]=e;const u=Object.assign({},this.indexes_);return u[a]=l,new dt(u,c)}addToIndexes(e,n){const s=ti(this.indexes_,(i,r)=>{const o=Rn(this.indexSet_,r);if(w(o,"Missing index implementation for "+r),i===cn)if(o.isDefinedOn(e.node)){const l=[],a=n.getIterator(j.Wrap);let c=a.getNext();for(;c;)c.name!==e.name&&l.push(c),c=a.getNext();return l.push(e),oi(l,o.getCompare())}else return cn;else{const l=n.get(e.name);let a=i;return l&&(a=a.remove(new j(e.name,l))),a.insert(e,e.node)}});return new dt(s,this.indexSet_)}removeFromIndexes(e,n){const s=ti(this.indexes_,i=>{if(i===cn)return i;{const r=n.get(e.name);return r?i.remove(new j(e.name,r)):i}});return new dt(s,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qn;class H{constructor(e,n,s){this.children_=e,this.priorityNode_=n,this.indexMap_=s,this.lazyHash_=null,this.priorityNode_&&Lu(this.priorityNode_),this.children_.isEmpty()&&w(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return qn||(qn=new H(new De(Co),null,dt.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||qn}updatePriority(e){return this.children_.isEmpty()?this:new H(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?qn:n}}getChild(e){const n=V(e);return n===null?this:this.getImmediateChild(n).getChild(re(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(w(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const s=new j(e,n);let i,r;n.isEmpty()?(i=this.children_.remove(e),r=this.indexMap_.removeFromIndexes(s,this.children_)):(i=this.children_.insert(e,n),r=this.indexMap_.addToIndexes(s,this.children_));const o=i.isEmpty()?qn:this.priorityNode_;return new H(i,o,r)}}updateChild(e,n){const s=V(e);if(s===null)return n;{w(V(e)!==".priority"||Mt(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(s).updateChild(re(e),n);return this.updateImmediateChild(s,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let s=0,i=0,r=!0;if(this.forEachChild(ce,(o,l)=>{n[o]=l.val(e),s++,r&&H.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):r=!1}),!e&&r&&i<2*s){const o=[];for(const l in n)o[l]=n[l];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+Du(this.getPriority().val())+":"),this.forEachChild(ce,(n,s)=>{const i=s.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":au(e)}return this.lazyHash_}getPredecessorChildName(e,n,s){const i=this.resolveIndex_(s);if(i){const r=i.getPredecessorKey(new j(e,n));return r?r.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const s=n.minKey();return s&&s.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new j(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const s=n.maxKey();return s&&s.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new j(n,this.children_.get(n)):null}forEachChild(e,n){const s=this.resolveIndex_(e);return s?s.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const s=this.resolveIndex_(n);if(s)return s.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,j.Wrap);let r=i.peek();for(;r!=null&&n.compare(r,e)<0;)i.getNext(),r=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const s=this.resolveIndex_(n);if(s)return s.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,j.Wrap);let r=i.peek();for(;r!=null&&n.compare(r,e)>0;)i.getNext(),r=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Ns?-1:0}withIndex(e){if(e===Cn||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new H(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Cn||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const s=this.getIterator(ce),i=n.getIterator(ce);let r=s.getNext(),o=i.getNext();for(;r&&o;){if(r.name!==o.name||!r.node.equals(o.node))return!1;r=s.getNext(),o=i.getNext()}return r===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Cn?null:this.indexMap_.get(e.toString())}}H.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class ey extends H{constructor(){super(new De(Co),H.EMPTY_NODE,dt.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return H.EMPTY_NODE}isEmpty(){return!1}}const Ns=new ey;Object.defineProperties(j,{MIN:{value:new j(Nn,H.EMPTY_NODE)},MAX:{value:new j(Qt,Ns)}});Mu.__EMPTY_NODE=H.EMPTY_NODE;pe.__childrenNodeConstructor=H;Gm(Ns);Qm(Ns);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ty=!0;function xe(t,e=null){if(t===null)return H.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),w(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new pe(n,xe(e))}if(!(t instanceof Array)&&ty){const n=[];let s=!1;if(Fe(t,(o,l)=>{if(o.substring(0,1)!=="."){const a=xe(l);a.isEmpty()||(s=s||!a.getPriority().isEmpty(),n.push(new j(o,a)))}}),n.length===0)return H.EMPTY_NODE;const r=oi(n,Km,o=>o.name,Co);if(s){const o=oi(n,ce.getCompare());return new H(r,xe(e),new dt({".priority":o},{".priority":ce}))}else return new H(r,xe(e),dt.Default)}else{let n=H.EMPTY_NODE;return Fe(t,(s,i)=>{if(yt(t,s)&&s.substring(0,1)!=="."){const r=xe(i);(r.isLeafNode()||!r.isEmpty())&&(n=n.updateImmediateChild(s,r))}}),n.updatePriority(xe(e))}}Ym(xe);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny extends Pi{constructor(e){super(),this.indexPath_=e,w(!z(e)&&V(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const s=this.extractChild(e.node),i=this.extractChild(n.node),r=s.compareTo(i);return r===0?Ln(e.name,n.name):r}makePost(e,n){const s=xe(e),i=H.EMPTY_NODE.updateChild(this.indexPath_,s);return new j(n,i)}maxPost(){const e=H.EMPTY_NODE.updateChild(this.indexPath_,Ns);return new j(Qt,e)}toString(){return Pu(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy extends Pi{compare(e,n){const s=e.node.compareTo(n.node);return s===0?Ln(e.name,n.name):s}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return j.MIN}maxPost(){return j.MAX}makePost(e,n){const s=xe(e);return new j(n,s)}toString(){return".value"}}const iy=new sy;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hu(t){return{type:"value",snapshotNode:t}}function An(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function ms(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function ys(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function ry(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e){this.index_=e}updateChild(e,n,s,i,r,o){w(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const l=e.getImmediateChild(n);return l.getChild(i).equals(s.getChild(i))&&l.isEmpty()===s.isEmpty()||(o!=null&&(s.isEmpty()?e.hasChild(n)?o.trackChildChange(ms(n,l)):w(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?o.trackChildChange(An(n,s)):o.trackChildChange(ys(n,s,l))),e.isLeafNode()&&s.isEmpty())?e:e.updateImmediateChild(n,s).withIndex(this.index_)}updateFullNode(e,n,s){return s!=null&&(e.isLeafNode()||e.forEachChild(ce,(i,r)=>{n.hasChild(i)||s.trackChildChange(ms(i,r))}),n.isLeafNode()||n.forEachChild(ce,(i,r)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(r)||s.trackChildChange(ys(i,r,o))}else s.trackChildChange(An(i,r))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?H.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e){this.indexedFilter_=new Eo(e.getIndex()),this.index_=e.getIndex(),this.startPost_=vs.getStartPost_(e),this.endPost_=vs.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,s=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&s}updateChild(e,n,s,i,r,o){return this.matches(new j(n,s))||(s=H.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,s,i,r,o)}updateFullNode(e,n,s){n.isLeafNode()&&(n=H.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(H.EMPTY_NODE);const r=this;return n.forEachChild(ce,(o,l)=>{r.matches(new j(o,l))||(i=i.updateImmediateChild(o,H.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,s)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const s=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?s<=0:s<0},this.withinEndPost=n=>{const s=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?s<=0:s<0},this.rangedFilter_=new vs(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,s,i,r,o){return this.rangedFilter_.matches(new j(n,s))||(s=H.EMPTY_NODE),e.getImmediateChild(n).equals(s)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,s,i,r,o):this.fullLimitUpdateChild_(e,n,s,r,o)}updateFullNode(e,n,s){let i;if(n.isLeafNode()||n.isEmpty())i=H.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=H.EMPTY_NODE.withIndex(this.index_);let r;this.reverse_?r=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):r=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;r.hasNext()&&o<this.limit_;){const l=r.getNext();if(this.withinDirectionalStart(l))if(this.withinDirectionalEnd(l))i=i.updateImmediateChild(l.name,l.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(H.EMPTY_NODE);let r;this.reverse_?r=i.getReverseIterator(this.index_):r=i.getIterator(this.index_);let o=0;for(;r.hasNext();){const l=r.getNext();o<this.limit_&&this.withinDirectionalStart(l)&&this.withinDirectionalEnd(l)?o++:i=i.updateImmediateChild(l.name,H.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,s)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,s,i,r){let o;if(this.reverse_){const h=this.index_.getCompare();o=(d,g)=>h(g,d)}else o=this.index_.getCompare();const l=e;w(l.numChildren()===this.limit_,"");const a=new j(n,s),c=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),u=this.rangedFilter_.matches(a);if(l.hasChild(n)){const h=l.getImmediateChild(n);let d=i.getChildAfterChild(this.index_,c,this.reverse_);for(;d!=null&&(d.name===n||l.hasChild(d.name));)d=i.getChildAfterChild(this.index_,d,this.reverse_);const g=d==null?1:o(d,a);if(u&&!s.isEmpty()&&g>=0)return r!=null&&r.trackChildChange(ys(n,s,h)),l.updateImmediateChild(n,s);{r!=null&&r.trackChildChange(ms(n,h));const S=l.updateImmediateChild(n,H.EMPTY_NODE);return d!=null&&this.rangedFilter_.matches(d)?(r!=null&&r.trackChildChange(An(d.name,d.node)),S.updateImmediateChild(d.name,d.node)):S}}else return s.isEmpty()?e:u&&o(c,a)>=0?(r!=null&&(r.trackChildChange(ms(c.name,c.node)),r.trackChildChange(An(n,s))),l.updateImmediateChild(n,s).updateImmediateChild(c.name,H.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ce}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return w(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return w(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Nn}hasEnd(){return this.endSet_}getIndexEndValue(){return w(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return w(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Qt}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return w(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ce}copy(){const e=new wo;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function ly(t){return t.loadsAllData()?new Eo(t.getIndex()):t.hasLimit()?new oy(t):new vs(t)}function _a(t){const e={};if(t.isDefault())return e;let n;if(t.index_===ce?n="$priority":t.index_===iy?n="$value":t.index_===Cn?n="$key":(w(t.index_ instanceof ny,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=ge(n),t.startSet_){const s=t.startAfterSet_?"startAfter":"startAt";e[s]=ge(t.indexStartValue_),t.startNameSet_&&(e[s]+=","+ge(t.indexStartName_))}if(t.endSet_){const s=t.endBeforeSet_?"endBefore":"endAt";e[s]=ge(t.indexEndValue_),t.endNameSet_&&(e[s]+=","+ge(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function ga(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==ce&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li extends Ru{constructor(e,n,s,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=s,this.appCheckTokenProvider_=i,this.log_=Ts("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(w(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,s,i){const r=e._path.toString();this.log_("Listen called for "+r+" "+e._queryIdentifier);const o=li.getListenId_(e,s),l={};this.listens_[o]=l;const a=_a(e._queryParams);this.restRequest_(r+".json",a,(c,u)=>{let h=u;if(c===404&&(h=null,c=null),c===null&&this.onDataUpdate_(r,h,!1,s),Rn(this.listens_,o)===l){let d;c?c===401?d="permission_denied":d="rest_error:"+c:d="ok",i(d,null)}})}unlisten(e,n){const s=li.getListenId_(e,n);delete this.listens_[s]}get(e){const n=_a(e._queryParams),s=e._path.toString(),i=new fo;return this.restRequest_(s+".json",n,(r,o)=>{let l=o;r===404&&(l=null,r=null),r===null?(this.onDataUpdate_(s,l,!1,null),i.resolve(l)):i.reject(new Error(l))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},s){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,r])=>{i&&i.accessToken&&(n.auth=i.accessToken),r&&r.token&&(n.ac=r.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+H_(n);this.log_("Sending REST request for "+o);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(s&&l.readyState===4){this.log_("REST Response for "+o+" received. status:",l.status,"response:",l.responseText);let a=null;if(l.status>=200&&l.status<300){try{a=fs(l.responseText)}catch{He("Failed to parse JSON response for "+o+": "+l.responseText)}s(null,a)}else l.status!==401&&l.status!==404&&He("Got unsuccessful REST response for "+o+" Status: "+l.status),s(l.status);s=null}},l.open("GET",o,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{constructor(){this.rootNode_=H.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ai(){return{value:null,children:new Map}}function $u(t,e,n){if(z(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const s=V(e);t.children.has(s)||t.children.set(s,ai());const i=t.children.get(s);e=re(e),$u(i,e,n)}}function Or(t,e,n){t.value!==null?n(e,t.value):cy(t,(s,i)=>{const r=new ne(e.toString()+"/"+s);Or(i,r,n)})}function cy(t,e){t.children.forEach((n,s)=>{e(s,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Fe(this.last_,(s,i)=>{n[s]=n[s]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma=10*1e3,hy=30*1e3,dy=5*60*1e3;class fy{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new uy(e);const s=ma+(hy-ma)*Math.random();ns(this.reportStats_.bind(this),Math.floor(s))}reportStats_(){const e=this.statsListener_.get(),n={};let s=!1;Fe(e,(i,r)=>{r>0&&yt(this.statsToReport_,i)&&(n[i]=r,s=!0)}),s&&this.server_.reportStats(n),ns(this.reportStats_.bind(this),Math.floor(Math.random()*2*dy))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ge;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Ge||(Ge={}));function Wu(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function xo(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Io(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(e,n,s){this.path=e,this.affectedTree=n,this.revert=s,this.type=Ge.ACK_USER_WRITE,this.source=Wu()}operationForChild(e){if(z(this.path)){if(this.affectedTree.value!=null)return w(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new ne(e));return new ci(Y(),n,this.revert)}}else return w(V(this.path)===e,"operationForChild called for unrelated child."),new ci(re(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e,n){this.source=e,this.path=n,this.type=Ge.LISTEN_COMPLETE}operationForChild(e){return z(this.path)?new bs(this.source,Y()):new bs(this.source,re(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e,n,s){this.source=e,this.path=n,this.snap=s,this.type=Ge.OVERWRITE}operationForChild(e){return z(this.path)?new Xt(this.source,Y(),this.snap.getImmediateChild(e)):new Xt(this.source,re(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e,n,s){this.source=e,this.path=n,this.children=s,this.type=Ge.MERGE}operationForChild(e){if(z(this.path)){const n=this.children.subtree(new ne(e));return n.isEmpty()?null:n.value?new Xt(this.source,Y(),n.value):new Cs(this.source,Y(),n)}else return w(V(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Cs(this.source,re(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e,n,s){this.node_=e,this.fullyInitialized_=n,this.filtered_=s}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(z(e))return this.isFullyInitialized()&&!this.filtered_;const n=V(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function _y(t,e,n,s){const i=[],r=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&r.push(ry(o.childName,o.snapshotNode))}),Kn(t,i,"child_removed",e,s,n),Kn(t,i,"child_added",e,s,n),Kn(t,i,"child_moved",r,s,n),Kn(t,i,"child_changed",e,s,n),Kn(t,i,"value",e,s,n),i}function Kn(t,e,n,s,i,r){const o=s.filter(l=>l.type===n);o.sort((l,a)=>my(t,l,a)),o.forEach(l=>{const a=gy(t,l,r);i.forEach(c=>{c.respondsTo(l.type)&&e.push(c.createEvent(a,t.query_))})})}function gy(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function my(t,e,n){if(e.childName==null||n.childName==null)throw Dn("Should only compare child_ events.");const s=new j(e.childName,e.snapshotNode),i=new j(n.childName,n.snapshotNode);return t.index_.compare(s,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ki(t,e){return{eventCache:t,serverCache:e}}function ss(t,e,n,s){return ki(new Jt(e,n,s),t.serverCache)}function Uu(t,e,n,s){return ki(t.eventCache,new Jt(e,n,s))}function Mr(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Zt(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sr;const yy=()=>(sr||(sr=new De(sm)),sr);class oe{constructor(e,n=yy()){this.value=e,this.children=n}static fromObject(e){let n=new oe(null);return Fe(e,(s,i)=>{n=n.set(new ne(s),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Y(),value:this.value};if(z(e))return null;{const s=V(e),i=this.children.get(s);if(i!==null){const r=i.findRootMostMatchingPathAndValue(re(e),n);return r!=null?{path:he(new ne(s),r.path),value:r.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(z(e))return this;{const n=V(e),s=this.children.get(n);return s!==null?s.subtree(re(e)):new oe(null)}}set(e,n){if(z(e))return new oe(n,this.children);{const s=V(e),r=(this.children.get(s)||new oe(null)).set(re(e),n),o=this.children.insert(s,r);return new oe(this.value,o)}}remove(e){if(z(e))return this.children.isEmpty()?new oe(null):new oe(null,this.children);{const n=V(e),s=this.children.get(n);if(s){const i=s.remove(re(e));let r;return i.isEmpty()?r=this.children.remove(n):r=this.children.insert(n,i),this.value===null&&r.isEmpty()?new oe(null):new oe(this.value,r)}else return this}}get(e){if(z(e))return this.value;{const n=V(e),s=this.children.get(n);return s?s.get(re(e)):null}}setTree(e,n){if(z(e))return n;{const s=V(e),r=(this.children.get(s)||new oe(null)).setTree(re(e),n);let o;return r.isEmpty()?o=this.children.remove(s):o=this.children.insert(s,r),new oe(this.value,o)}}fold(e){return this.fold_(Y(),e)}fold_(e,n){const s={};return this.children.inorderTraversal((i,r)=>{s[i]=r.fold_(he(e,i),n)}),n(e,this.value,s)}findOnPath(e,n){return this.findOnPath_(e,Y(),n)}findOnPath_(e,n,s){const i=this.value?s(n,this.value):!1;if(i)return i;if(z(e))return null;{const r=V(e),o=this.children.get(r);return o?o.findOnPath_(re(e),he(n,r),s):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Y(),n)}foreachOnPath_(e,n,s){if(z(e))return this;{this.value&&s(n,this.value);const i=V(e),r=this.children.get(i);return r?r.foreachOnPath_(re(e),he(n,i),s):new oe(null)}}foreach(e){this.foreach_(Y(),e)}foreach_(e,n){this.children.inorderTraversal((s,i)=>{i.foreach_(he(e,s),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,s)=>{s.value&&e(n,s.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e){this.writeTree_=e}static empty(){return new Xe(new oe(null))}}function is(t,e,n){if(z(e))return new Xe(new oe(n));{const s=t.writeTree_.findRootMostValueAndPath(e);if(s!=null){const i=s.path;let r=s.value;const o=Me(i,e);return r=r.updateChild(o,n),new Xe(t.writeTree_.set(i,r))}else{const i=new oe(n),r=t.writeTree_.setTree(e,i);return new Xe(r)}}}function ya(t,e,n){let s=t;return Fe(n,(i,r)=>{s=is(s,he(e,i),r)}),s}function va(t,e){if(z(e))return Xe.empty();{const n=t.writeTree_.setTree(e,new oe(null));return new Xe(n)}}function Dr(t,e){return en(t,e)!=null}function en(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Me(n.path,e)):null}function ba(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(ce,(s,i)=>{e.push(new j(s,i))}):t.writeTree_.children.inorderTraversal((s,i)=>{i.value!=null&&e.push(new j(s,i.value))}),e}function At(t,e){if(z(e))return t;{const n=en(t,e);return n!=null?new Xe(new oe(n)):new Xe(t.writeTree_.subtree(e))}}function Lr(t){return t.writeTree_.isEmpty()}function Pn(t,e){return ju(Y(),t.writeTree_,e)}function ju(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let s=null;return e.children.inorderTraversal((i,r)=>{i===".priority"?(w(r.value!==null,"Priority writes must always be leaf nodes"),s=r.value):n=ju(he(t,i),r,n)}),!n.getChild(t).isEmpty()&&s!==null&&(n=n.updateChild(he(t,".priority"),s)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function So(t,e){return Ku(e,t)}function vy(t,e,n,s,i){w(s>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:s,visible:i}),i&&(t.visibleWrites=is(t.visibleWrites,e,n)),t.lastWriteId=s}function by(t,e){for(let n=0;n<t.allWrites.length;n++){const s=t.allWrites[n];if(s.writeId===e)return s}return null}function Cy(t,e){const n=t.allWrites.findIndex(l=>l.writeId===e);w(n>=0,"removeWrite called with nonexistent writeId.");const s=t.allWrites[n];t.allWrites.splice(n,1);let i=s.visible,r=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const l=t.allWrites[o];l.visible&&(o>=n&&Ey(l,s.path)?i=!1:Ke(s.path,l.path)&&(r=!0)),o--}if(i){if(r)return wy(t),!0;if(s.snap)t.visibleWrites=va(t.visibleWrites,s.path);else{const l=s.children;Fe(l,a=>{t.visibleWrites=va(t.visibleWrites,he(s.path,a))})}return!0}else return!1}function Ey(t,e){if(t.snap)return Ke(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Ke(he(t.path,n),e))return!0;return!1}function wy(t){t.visibleWrites=Vu(t.allWrites,xy,Y()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function xy(t){return t.visible}function Vu(t,e,n){let s=Xe.empty();for(let i=0;i<t.length;++i){const r=t[i];if(e(r)){const o=r.path;let l;if(r.snap)Ke(n,o)?(l=Me(n,o),s=is(s,l,r.snap)):Ke(o,n)&&(l=Me(o,n),s=is(s,Y(),r.snap.getChild(l)));else if(r.children){if(Ke(n,o))l=Me(n,o),s=ya(s,l,r.children);else if(Ke(o,n))if(l=Me(o,n),z(l))s=ya(s,Y(),r.children);else{const a=Rn(r.children,V(l));if(a){const c=a.getChild(re(l));s=is(s,Y(),c)}}}else throw Dn("WriteRecord should have .snap or .children")}}return s}function zu(t,e,n,s,i){if(!s&&!i){const r=en(t.visibleWrites,e);if(r!=null)return r;{const o=At(t.visibleWrites,e);if(Lr(o))return n;if(n==null&&!Dr(o,Y()))return null;{const l=n||H.EMPTY_NODE;return Pn(o,l)}}}else{const r=At(t.visibleWrites,e);if(!i&&Lr(r))return n;if(!i&&n==null&&!Dr(r,Y()))return null;{const o=function(c){return(c.visible||i)&&(!s||!~s.indexOf(c.writeId))&&(Ke(c.path,e)||Ke(e,c.path))},l=Vu(t.allWrites,o,e),a=n||H.EMPTY_NODE;return Pn(l,a)}}}function Iy(t,e,n){let s=H.EMPTY_NODE;const i=en(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(ce,(r,o)=>{s=s.updateImmediateChild(r,o)}),s;if(n){const r=At(t.visibleWrites,e);return n.forEachChild(ce,(o,l)=>{const a=Pn(At(r,new ne(o)),l);s=s.updateImmediateChild(o,a)}),ba(r).forEach(o=>{s=s.updateImmediateChild(o.name,o.node)}),s}else{const r=At(t.visibleWrites,e);return ba(r).forEach(o=>{s=s.updateImmediateChild(o.name,o.node)}),s}}function Sy(t,e,n,s,i){w(s||i,"Either existingEventSnap or existingServerSnap must exist");const r=he(e,n);if(Dr(t.visibleWrites,r))return null;{const o=At(t.visibleWrites,r);return Lr(o)?i.getChild(n):Pn(o,i.getChild(n))}}function Ty(t,e,n,s){const i=he(e,n),r=en(t.visibleWrites,i);if(r!=null)return r;if(s.isCompleteForChild(n)){const o=At(t.visibleWrites,i);return Pn(o,s.getNode().getImmediateChild(n))}else return null}function Ry(t,e){return en(t.visibleWrites,e)}function Ny(t,e,n,s,i,r,o){let l;const a=At(t.visibleWrites,e),c=en(a,Y());if(c!=null)l=c;else if(n!=null)l=Pn(a,n);else return[];if(l=l.withIndex(o),!l.isEmpty()&&!l.isLeafNode()){const u=[],h=o.getCompare(),d=r?l.getReverseIteratorFrom(s,o):l.getIteratorFrom(s,o);let g=d.getNext();for(;g&&u.length<i;)h(g,s)!==0&&u.push(g),g=d.getNext();return u}else return[]}function Ay(){return{visibleWrites:Xe.empty(),allWrites:[],lastWriteId:-1}}function ui(t,e,n,s){return zu(t.writeTree,t.treePath,e,n,s)}function To(t,e){return Iy(t.writeTree,t.treePath,e)}function Ca(t,e,n,s){return Sy(t.writeTree,t.treePath,e,n,s)}function hi(t,e){return Ry(t.writeTree,he(t.treePath,e))}function Py(t,e,n,s,i,r){return Ny(t.writeTree,t.treePath,e,n,s,i,r)}function Ro(t,e,n){return Ty(t.writeTree,t.treePath,e,n)}function qu(t,e){return Ku(he(t.treePath,e),t.writeTree)}function Ku(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,s=e.childName;w(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),w(s!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(s);if(i){const r=i.type;if(n==="child_added"&&r==="child_removed")this.changeMap.set(s,ys(s,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&r==="child_added")this.changeMap.delete(s);else if(n==="child_removed"&&r==="child_changed")this.changeMap.set(s,ms(s,i.oldSnap));else if(n==="child_changed"&&r==="child_added")this.changeMap.set(s,An(s,e.snapshotNode));else if(n==="child_changed"&&r==="child_changed")this.changeMap.set(s,ys(s,e.snapshotNode,i.oldSnap));else throw Dn("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(s,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy{getCompleteChild(e){return null}getChildAfterChild(e,n,s){return null}}const Gu=new Oy;class No{constructor(e,n,s=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=s}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const s=this.optCompleteServerCache_!=null?new Jt(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Ro(this.writes_,e,s)}}getChildAfterChild(e,n,s){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Zt(this.viewCache_),r=Py(this.writes_,i,n,1,s,e);return r.length===0?null:r[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function My(t){return{filter:t}}function Dy(t,e){w(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),w(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function Ly(t,e,n,s,i){const r=new ky;let o,l;if(n.type===Ge.OVERWRITE){const c=n;c.source.fromUser?o=Fr(t,e,c.path,c.snap,s,i,r):(w(c.source.fromServer,"Unknown source."),l=c.source.tagged||e.serverCache.isFiltered()&&!z(c.path),o=di(t,e,c.path,c.snap,s,i,l,r))}else if(n.type===Ge.MERGE){const c=n;c.source.fromUser?o=By(t,e,c.path,c.children,s,i,r):(w(c.source.fromServer,"Unknown source."),l=c.source.tagged||e.serverCache.isFiltered(),o=Br(t,e,c.path,c.children,s,i,l,r))}else if(n.type===Ge.ACK_USER_WRITE){const c=n;c.revert?o=Wy(t,e,c.path,s,i,r):o=Hy(t,e,c.path,c.affectedTree,s,i,r)}else if(n.type===Ge.LISTEN_COMPLETE)o=$y(t,e,n.path,s,r);else throw Dn("Unknown operation type: "+n.type);const a=r.getChanges();return Fy(e,o,a),{viewCache:o,changes:a}}function Fy(t,e,n){const s=e.eventCache;if(s.isFullyInitialized()){const i=s.getNode().isLeafNode()||s.getNode().isEmpty(),r=Mr(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!s.getNode().equals(r)||!s.getNode().getPriority().equals(r.getPriority()))&&n.push(Hu(Mr(e)))}}function Yu(t,e,n,s,i,r){const o=e.eventCache;if(hi(s,n)!=null)return e;{let l,a;if(z(n))if(w(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=Zt(e),u=c instanceof H?c:H.EMPTY_NODE,h=To(s,u);l=t.filter.updateFullNode(e.eventCache.getNode(),h,r)}else{const c=ui(s,Zt(e));l=t.filter.updateFullNode(e.eventCache.getNode(),c,r)}else{const c=V(n);if(c===".priority"){w(Mt(n)===1,"Can't have a priority with additional path components");const u=o.getNode();a=e.serverCache.getNode();const h=Ca(s,n,u,a);h!=null?l=t.filter.updatePriority(u,h):l=o.getNode()}else{const u=re(n);let h;if(o.isCompleteForChild(c)){a=e.serverCache.getNode();const d=Ca(s,n,o.getNode(),a);d!=null?h=o.getNode().getImmediateChild(c).updateChild(u,d):h=o.getNode().getImmediateChild(c)}else h=Ro(s,c,e.serverCache);h!=null?l=t.filter.updateChild(o.getNode(),c,h,u,i,r):l=o.getNode()}}return ss(e,l,o.isFullyInitialized()||z(n),t.filter.filtersNodes())}}function di(t,e,n,s,i,r,o,l){const a=e.serverCache;let c;const u=o?t.filter:t.filter.getIndexedFilter();if(z(n))c=u.updateFullNode(a.getNode(),s,null);else if(u.filtersNodes()&&!a.isFiltered()){const g=a.getNode().updateChild(n,s);c=u.updateFullNode(a.getNode(),g,null)}else{const g=V(n);if(!a.isCompleteForPath(n)&&Mt(n)>1)return e;const b=re(n),k=a.getNode().getImmediateChild(g).updateChild(b,s);g===".priority"?c=u.updatePriority(a.getNode(),k):c=u.updateChild(a.getNode(),g,k,b,Gu,null)}const h=Uu(e,c,a.isFullyInitialized()||z(n),u.filtersNodes()),d=new No(i,h,r);return Yu(t,h,n,i,d,l)}function Fr(t,e,n,s,i,r,o){const l=e.eventCache;let a,c;const u=new No(i,e,r);if(z(n))c=t.filter.updateFullNode(e.eventCache.getNode(),s,o),a=ss(e,c,!0,t.filter.filtersNodes());else{const h=V(n);if(h===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),s),a=ss(e,c,l.isFullyInitialized(),l.isFiltered());else{const d=re(n),g=l.getNode().getImmediateChild(h);let b;if(z(d))b=s;else{const S=u.getCompleteChild(h);S!=null?Au(d)===".priority"&&S.getChild(ku(d)).isEmpty()?b=S:b=S.updateChild(d,s):b=H.EMPTY_NODE}if(g.equals(b))a=e;else{const S=t.filter.updateChild(l.getNode(),h,b,d,u,o);a=ss(e,S,l.isFullyInitialized(),t.filter.filtersNodes())}}}return a}function Ea(t,e){return t.eventCache.isCompleteForChild(e)}function By(t,e,n,s,i,r,o){let l=e;return s.foreach((a,c)=>{const u=he(n,a);Ea(e,V(u))&&(l=Fr(t,l,u,c,i,r,o))}),s.foreach((a,c)=>{const u=he(n,a);Ea(e,V(u))||(l=Fr(t,l,u,c,i,r,o))}),l}function wa(t,e,n){return n.foreach((s,i)=>{e=e.updateChild(s,i)}),e}function Br(t,e,n,s,i,r,o,l){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let a=e,c;z(n)?c=s:c=new oe(null).setTree(n,s);const u=e.serverCache.getNode();return c.children.inorderTraversal((h,d)=>{if(u.hasChild(h)){const g=e.serverCache.getNode().getImmediateChild(h),b=wa(t,g,d);a=di(t,a,new ne(h),b,i,r,o,l)}}),c.children.inorderTraversal((h,d)=>{const g=!e.serverCache.isCompleteForChild(h)&&d.value===null;if(!u.hasChild(h)&&!g){const b=e.serverCache.getNode().getImmediateChild(h),S=wa(t,b,d);a=di(t,a,new ne(h),S,i,r,o,l)}}),a}function Hy(t,e,n,s,i,r,o){if(hi(i,n)!=null)return e;const l=e.serverCache.isFiltered(),a=e.serverCache;if(s.value!=null){if(z(n)&&a.isFullyInitialized()||a.isCompleteForPath(n))return di(t,e,n,a.getNode().getChild(n),i,r,l,o);if(z(n)){let c=new oe(null);return a.getNode().forEachChild(Cn,(u,h)=>{c=c.set(new ne(u),h)}),Br(t,e,n,c,i,r,l,o)}else return e}else{let c=new oe(null);return s.foreach((u,h)=>{const d=he(n,u);a.isCompleteForPath(d)&&(c=c.set(u,a.getNode().getChild(d)))}),Br(t,e,n,c,i,r,l,o)}}function $y(t,e,n,s,i){const r=e.serverCache,o=Uu(e,r.getNode(),r.isFullyInitialized()||z(n),r.isFiltered());return Yu(t,o,n,s,Gu,i)}function Wy(t,e,n,s,i,r){let o;if(hi(s,n)!=null)return e;{const l=new No(s,e,i),a=e.eventCache.getNode();let c;if(z(n)||V(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=ui(s,Zt(e));else{const h=e.serverCache.getNode();w(h instanceof H,"serverChildren would be complete if leaf node"),u=To(s,h)}u=u,c=t.filter.updateFullNode(a,u,r)}else{const u=V(n);let h=Ro(s,u,e.serverCache);h==null&&e.serverCache.isCompleteForChild(u)&&(h=a.getImmediateChild(u)),h!=null?c=t.filter.updateChild(a,u,h,re(n),l,r):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(a,u,H.EMPTY_NODE,re(n),l,r):c=a,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=ui(s,Zt(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,r)))}return o=e.serverCache.isFullyInitialized()||hi(s,Y())!=null,ss(e,c,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const s=this.query_._queryParams,i=new Eo(s.getIndex()),r=ly(s);this.processor_=My(r);const o=n.serverCache,l=n.eventCache,a=i.updateFullNode(H.EMPTY_NODE,o.getNode(),null),c=r.updateFullNode(H.EMPTY_NODE,l.getNode(),null),u=new Jt(a,o.isFullyInitialized(),i.filtersNodes()),h=new Jt(c,l.isFullyInitialized(),r.filtersNodes());this.viewCache_=ki(h,u),this.eventGenerator_=new py(this.query_)}get query(){return this.query_}}function jy(t){return t.viewCache_.serverCache.getNode()}function Vy(t,e){const n=Zt(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!z(e)&&!n.getImmediateChild(V(e)).isEmpty())?n.getChild(e):null}function xa(t){return t.eventRegistrations_.length===0}function zy(t,e){t.eventRegistrations_.push(e)}function Ia(t,e,n){const s=[];if(n){w(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(r=>{const o=r.createCancelEvent(n,i);o&&s.push(o)})}if(e){let i=[];for(let r=0;r<t.eventRegistrations_.length;++r){const o=t.eventRegistrations_[r];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(r+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return s}function Sa(t,e,n,s){e.type===Ge.MERGE&&e.source.queryId!==null&&(w(Zt(t.viewCache_),"We should always have a full cache before handling merges"),w(Mr(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,r=Ly(t.processor_,i,e,n,s);return Dy(t.processor_,r.viewCache),w(r.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=r.viewCache,Qu(t,r.changes,r.viewCache.eventCache.getNode(),null)}function qy(t,e){const n=t.viewCache_.eventCache,s=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(ce,(r,o)=>{s.push(An(r,o))}),n.isFullyInitialized()&&s.push(Hu(n.getNode())),Qu(t,s,n.getNode(),e)}function Qu(t,e,n,s){const i=s?[s]:t.eventRegistrations_;return _y(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fi;class Ky{constructor(){this.views=new Map}}function Gy(t){w(!fi,"__referenceConstructor has already been defined"),fi=t}function Yy(){return w(fi,"Reference.ts has not been loaded"),fi}function Qy(t){return t.views.size===0}function Ao(t,e,n,s){const i=e.source.queryId;if(i!==null){const r=t.views.get(i);return w(r!=null,"SyncTree gave us an op for an invalid query."),Sa(r,e,n,s)}else{let r=[];for(const o of t.views.values())r=r.concat(Sa(o,e,n,s));return r}}function Xy(t,e,n,s,i){const r=e._queryIdentifier,o=t.views.get(r);if(!o){let l=ui(n,i?s:null),a=!1;l?a=!0:s instanceof H?(l=To(n,s),a=!1):(l=H.EMPTY_NODE,a=!1);const c=ki(new Jt(l,a,!1),new Jt(s,i,!1));return new Uy(e,c)}return o}function Jy(t,e,n,s,i,r){const o=Xy(t,e,s,i,r);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),zy(o,n),qy(o,n)}function Zy(t,e,n,s){const i=e._queryIdentifier,r=[];let o=[];const l=Dt(t);if(i==="default")for(const[a,c]of t.views.entries())o=o.concat(Ia(c,n,s)),xa(c)&&(t.views.delete(a),c.query._queryParams.loadsAllData()||r.push(c.query));else{const a=t.views.get(i);a&&(o=o.concat(Ia(a,n,s)),xa(a)&&(t.views.delete(i),a.query._queryParams.loadsAllData()||r.push(a.query)))}return l&&!Dt(t)&&r.push(new(Yy())(e._repo,e._path)),{removed:r,events:o}}function Xu(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function En(t,e){let n=null;for(const s of t.views.values())n=n||Vy(s,e);return n}function Ju(t,e){if(e._queryParams.loadsAllData())return Oi(t);{const s=e._queryIdentifier;return t.views.get(s)}}function Zu(t,e){return Ju(t,e)!=null}function Dt(t){return Oi(t)!=null}function Oi(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pi;function ev(t){w(!pi,"__referenceConstructor has already been defined"),pi=t}function tv(){return w(pi,"Reference.ts has not been loaded"),pi}let nv=1;class Ta{constructor(e){this.listenProvider_=e,this.syncPointTree_=new oe(null),this.pendingWriteTree_=Ay(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function sv(t,e,n,s,i){return vy(t.pendingWriteTree_,e,n,s,i),i?As(t,new Xt(Wu(),e,n)):[]}function dn(t,e,n=!1){const s=by(t.pendingWriteTree_,e);if(Cy(t.pendingWriteTree_,e)){let r=new oe(null);return s.snap!=null?r=r.set(Y(),!0):Fe(s.children,o=>{r=r.set(new ne(o),!0)}),As(t,new ci(s.path,r,n))}else return[]}function Mi(t,e,n){return As(t,new Xt(xo(),e,n))}function iv(t,e,n){const s=oe.fromObject(n);return As(t,new Cs(xo(),e,s))}function rv(t,e){return As(t,new bs(xo(),e))}function ov(t,e,n){const s=Po(t,n);if(s){const i=ko(s),r=i.path,o=i.queryId,l=Me(r,e),a=new bs(Io(o),l);return Oo(t,r,a)}else return[]}function Hr(t,e,n,s,i=!1){const r=e._path,o=t.syncPointTree_.get(r);let l=[];if(o&&(e._queryIdentifier==="default"||Zu(o,e))){const a=Zy(o,e,n,s);Qy(o)&&(t.syncPointTree_=t.syncPointTree_.remove(r));const c=a.removed;if(l=a.events,!i){const u=c.findIndex(d=>d._queryParams.loadsAllData())!==-1,h=t.syncPointTree_.findOnPath(r,(d,g)=>Dt(g));if(u&&!h){const d=t.syncPointTree_.subtree(r);if(!d.isEmpty()){const g=cv(d);for(let b=0;b<g.length;++b){const S=g[b],k=S.query,O=sh(t,S);t.listenProvider_.startListening(rs(k),_i(t,k),O.hashFn,O.onComplete)}}}!h&&c.length>0&&!s&&(u?t.listenProvider_.stopListening(rs(e),null):c.forEach(d=>{const g=t.queryToTagMap.get(Di(d));t.listenProvider_.stopListening(rs(d),g)}))}uv(t,c)}return l}function lv(t,e,n,s){const i=Po(t,s);if(i!=null){const r=ko(i),o=r.path,l=r.queryId,a=Me(o,e),c=new Xt(Io(l),a,n);return Oo(t,o,c)}else return[]}function av(t,e,n,s){const i=Po(t,s);if(i){const r=ko(i),o=r.path,l=r.queryId,a=Me(o,e),c=oe.fromObject(n),u=new Cs(Io(l),a,c);return Oo(t,o,u)}else return[]}function Ra(t,e,n,s=!1){const i=e._path;let r=null,o=!1;t.syncPointTree_.foreachOnPath(i,(d,g)=>{const b=Me(d,i);r=r||En(g,b),o=o||Dt(g)});let l=t.syncPointTree_.get(i);l?(o=o||Dt(l),r=r||En(l,Y())):(l=new Ky,t.syncPointTree_=t.syncPointTree_.set(i,l));let a;r!=null?a=!0:(a=!1,r=H.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((g,b)=>{const S=En(b,Y());S&&(r=r.updateImmediateChild(g,S))}));const c=Zu(l,e);if(!c&&!e._queryParams.loadsAllData()){const d=Di(e);w(!t.queryToTagMap.has(d),"View does not exist, but we have a tag");const g=hv();t.queryToTagMap.set(d,g),t.tagToQueryMap.set(g,d)}const u=So(t.pendingWriteTree_,i);let h=Jy(l,e,n,u,r,a);if(!c&&!o&&!s){const d=Ju(l,e);h=h.concat(dv(t,e,d))}return h}function eh(t,e,n){const i=t.pendingWriteTree_,r=t.syncPointTree_.findOnPath(e,(o,l)=>{const a=Me(o,e),c=En(l,a);if(c)return c});return zu(i,e,r,n,!0)}function As(t,e){return th(e,t.syncPointTree_,null,So(t.pendingWriteTree_,Y()))}function th(t,e,n,s){if(z(t.path))return nh(t,e,n,s);{const i=e.get(Y());n==null&&i!=null&&(n=En(i,Y()));let r=[];const o=V(t.path),l=t.operationForChild(o),a=e.children.get(o);if(a&&l){const c=n?n.getImmediateChild(o):null,u=qu(s,o);r=r.concat(th(l,a,c,u))}return i&&(r=r.concat(Ao(i,t,s,n))),r}}function nh(t,e,n,s){const i=e.get(Y());n==null&&i!=null&&(n=En(i,Y()));let r=[];return e.children.inorderTraversal((o,l)=>{const a=n?n.getImmediateChild(o):null,c=qu(s,o),u=t.operationForChild(o);u&&(r=r.concat(nh(u,l,a,c)))}),i&&(r=r.concat(Ao(i,t,s,n))),r}function sh(t,e){const n=e.query,s=_i(t,n);return{hashFn:()=>(jy(e)||H.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return s?ov(t,n._path,s):rv(t,n._path);{const r=om(i,n);return Hr(t,n,null,r)}}}}function _i(t,e){const n=Di(e);return t.queryToTagMap.get(n)}function Di(t){return t._path.toString()+"$"+t._queryIdentifier}function Po(t,e){return t.tagToQueryMap.get(e)}function ko(t){const e=t.indexOf("$");return w(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new ne(t.substr(0,e))}}function Oo(t,e,n){const s=t.syncPointTree_.get(e);w(s,"Missing sync point for query tag that we're tracking");const i=So(t.pendingWriteTree_,e);return Ao(s,n,i,null)}function cv(t){return t.fold((e,n,s)=>{if(n&&Dt(n))return[Oi(n)];{let i=[];return n&&(i=Xu(n)),Fe(s,(r,o)=>{i=i.concat(o)}),i}})}function rs(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(tv())(t._repo,t._path):t}function uv(t,e){for(let n=0;n<e.length;++n){const s=e[n];if(!s._queryParams.loadsAllData()){const i=Di(s),r=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(r)}}}function hv(){return nv++}function dv(t,e,n){const s=e._path,i=_i(t,e),r=sh(t,n),o=t.listenProvider_.startListening(rs(e),i,r.hashFn,r.onComplete),l=t.syncPointTree_.subtree(s);if(i)w(!Dt(l.value),"If we're adding a query, it shouldn't be shadowed");else{const a=l.fold((c,u,h)=>{if(!z(c)&&u&&Dt(u))return[Oi(u).query];{let d=[];return u&&(d=d.concat(Xu(u).map(g=>g.query))),Fe(h,(g,b)=>{d=d.concat(b)}),d}});for(let c=0;c<a.length;++c){const u=a[c];t.listenProvider_.stopListening(rs(u),_i(t,u))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Mo(n)}node(){return this.node_}}class Do{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=he(this.path_,e);return new Do(this.syncTree_,n)}node(){return eh(this.syncTree_,this.path_)}}const fv=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Na=function(t,e,n){if(!t||typeof t!="object")return t;if(w(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return pv(t[".sv"],e,n);if(typeof t[".sv"]=="object")return _v(t[".sv"],e);w(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},pv=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:w(!1,"Unexpected server value: "+t)}},_v=function(t,e,n){t.hasOwnProperty("increment")||w(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const s=t.increment;typeof s!="number"&&w(!1,"Unexpected increment value: "+s);const i=e.node();if(w(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return s;const o=i.getValue();return typeof o!="number"?s:o+s},gv=function(t,e,n,s){return Lo(e,new Do(n,t),s)},mv=function(t,e,n){return Lo(t,new Mo(e),n)};function Lo(t,e,n){const s=t.getPriority().val(),i=Na(s,e.getImmediateChild(".priority"),n);let r;if(t.isLeafNode()){const o=t,l=Na(o.getValue(),e,n);return l!==o.getValue()||i!==o.getPriority().val()?new pe(l,xe(i)):t}else{const o=t;return r=o,i!==o.getPriority().val()&&(r=r.updatePriority(new pe(i))),o.forEachChild(ce,(l,a)=>{const c=Lo(a,e.getImmediateChild(l),n);c!==a&&(r=r.updateImmediateChild(l,c))}),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e="",n=null,s={children:{},childCount:0}){this.name=e,this.parent=n,this.node=s}}function Bo(t,e){let n=e instanceof ne?e:new ne(e),s=t,i=V(n);for(;i!==null;){const r=Rn(s.node.children,i)||{children:{},childCount:0};s=new Fo(i,s,r),n=re(n),i=V(n)}return s}function Fn(t){return t.node.value}function ih(t,e){t.node.value=e,$r(t)}function rh(t){return t.node.childCount>0}function yv(t){return Fn(t)===void 0&&!rh(t)}function Li(t,e){Fe(t.node.children,(n,s)=>{e(new Fo(n,t,s))})}function oh(t,e,n,s){n&&!s&&e(t),Li(t,i=>{oh(i,e,!0,s)}),n&&s&&e(t)}function vv(t,e,n){let s=n?t:t.parent;for(;s!==null;){if(e(s))return!0;s=s.parent}return!1}function Ps(t){return new ne(t.parent===null?t.name:Ps(t.parent)+"/"+t.name)}function $r(t){t.parent!==null&&bv(t.parent,t.name,t)}function bv(t,e,n){const s=yv(n),i=yt(t.node.children,e);s&&i?(delete t.node.children[e],t.node.childCount--,$r(t)):!s&&!i&&(t.node.children[e]=n.node,t.node.childCount++,$r(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cv=/[\[\].#$\/\u0000-\u001F\u007F]/,Ev=/[\[\].#$\u0000-\u001F\u007F]/,ir=10*1024*1024,lh=function(t){return typeof t=="string"&&t.length!==0&&!Cv.test(t)},ah=function(t){return typeof t=="string"&&t.length!==0&&!Ev.test(t)},wv=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),ah(t)},ch=function(t,e,n){const s=n instanceof ne?new Hm(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+$t(s));if(typeof e=="function")throw new Error(t+"contains a function "+$t(s)+" with contents = "+e.toString());if(cu(e))throw new Error(t+"contains "+e.toString()+" "+$t(s));if(typeof e=="string"&&e.length>ir/3&&Ni(e)>ir)throw new Error(t+"contains a string greater than "+ir+" utf8 bytes "+$t(s)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,r=!1;if(Fe(e,(o,l)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(r=!0,!lh(o)))throw new Error(t+" contains an invalid key ("+o+") "+$t(s)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);$m(s,o),ch(t,l,s),Wm(s)}),i&&r)throw new Error(t+' contains ".value" child '+$t(s)+" in addition to actual children.")}},uh=function(t,e,n,s){if(!(s&&n===void 0)&&!ah(n))throw new Error(Zc(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},xv=function(t,e,n,s){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),uh(t,e,n,s)},Iv=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!lh(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!wv(n))throw new Error(Zc(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function hh(t,e){let n=null;for(let s=0;s<e.length;s++){const i=e[s],r=i.getPath();n!==null&&!vo(r,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:r}),n.events.push(i)}n&&t.eventLists_.push(n)}function dh(t,e,n){hh(t,n),fh(t,s=>vo(s,e))}function tn(t,e,n){hh(t,n),fh(t,s=>Ke(s,e)||Ke(e,s))}function fh(t,e){t.recursionDepth_++;let n=!0;for(let s=0;s<t.eventLists_.length;s++){const i=t.eventLists_[s];if(i){const r=i.path;e(r)?(Tv(t.eventLists_[s]),t.eventLists_[s]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function Tv(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const s=n.getEventRunner();Kt&&we("event: "+n.toString()),Rs(s)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv="repo_interrupt",Nv=25;class Av{constructor(e,n,s,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=s,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Sv,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ai(),this.transactionQueueTree_=new Fo,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Pv(t,e,n){if(t.stats_=mo(t.repoInfo_),t.forceRestClient_||um())t.server_=new li(t.repoInfo_,(s,i,r,o)=>{Aa(t,s,i,r,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Pa(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ge(n)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}t.persistentConnection_=new pt(t.repoInfo_,e,(s,i,r,o)=>{Aa(t,s,i,r,o)},s=>{Pa(t,s)},s=>{Ov(t,s)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(s=>{t.server_.refreshAuthToken(s)}),t.appCheckProvider_.addTokenChangeListener(s=>{t.server_.refreshAppCheckToken(s.token)}),t.statsReporter_=_m(t.repoInfo_,()=>new fy(t.stats_,t.server_)),t.infoData_=new ay,t.infoSyncTree_=new Ta({startListening:(s,i,r,o)=>{let l=[];const a=t.infoData_.getNode(s._path);return a.isEmpty()||(l=Mi(t.infoSyncTree_,s._path,a),setTimeout(()=>{o("ok")},0)),l},stopListening:()=>{}}),Ho(t,"connected",!1),t.serverSyncTree_=new Ta({startListening:(s,i,r,o)=>(t.server_.listen(s,r,i,(l,a)=>{const c=o(l,a);tn(t.eventQueue_,s._path,c)}),[]),stopListening:(s,i)=>{t.server_.unlisten(s,i)}})}function kv(t){const n=t.infoData_.getNode(new ne(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function ph(t){return fv({timestamp:kv(t)})}function Aa(t,e,n,s,i){t.dataUpdateCount++;const r=new ne(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(s){const a=ti(n,c=>xe(c));o=av(t.serverSyncTree_,r,a,i)}else{const a=xe(n);o=lv(t.serverSyncTree_,r,a,i)}else if(s){const a=ti(n,c=>xe(c));o=iv(t.serverSyncTree_,r,a)}else{const a=xe(n);o=Mi(t.serverSyncTree_,r,a)}let l=r;o.length>0&&(l=Wo(t,r)),tn(t.eventQueue_,l,o)}function Pa(t,e){Ho(t,"connected",e),e===!1&&Dv(t)}function Ov(t,e){Fe(e,(n,s)=>{Ho(t,n,s)})}function Ho(t,e,n){const s=new ne("/.info/"+e),i=xe(n);t.infoData_.updateSnapshot(s,i);const r=Mi(t.infoSyncTree_,s,i);tn(t.eventQueue_,s,r)}function Mv(t){return t.nextWriteId_++}function Dv(t){_h(t,"onDisconnectEvents");const e=ph(t),n=ai();Or(t.onDisconnect_,Y(),(i,r)=>{const o=gv(i,r,t.serverSyncTree_,e);$u(n,i,o)});let s=[];Or(n,Y(),(i,r)=>{s=s.concat(Mi(t.serverSyncTree_,i,r));const o=$v(t,i);Wo(t,o)}),t.onDisconnect_=ai(),tn(t.eventQueue_,Y(),s)}function Lv(t,e,n){let s;V(e._path)===".info"?s=Ra(t.infoSyncTree_,e,n):s=Ra(t.serverSyncTree_,e,n),dh(t.eventQueue_,e._path,s)}function ka(t,e,n){let s;V(e._path)===".info"?s=Hr(t.infoSyncTree_,e,n):s=Hr(t.serverSyncTree_,e,n),dh(t.eventQueue_,e._path,s)}function Fv(t){t.persistentConnection_&&t.persistentConnection_.interrupt(Rv)}function _h(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),we(n,...e)}function gh(t,e,n){return eh(t.serverSyncTree_,e,n)||H.EMPTY_NODE}function $o(t,e=t.transactionQueueTree_){if(e||Fi(t,e),Fn(e)){const n=yh(t,e);w(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&Bv(t,Ps(e),n)}else rh(e)&&Li(e,n=>{$o(t,n)})}function Bv(t,e,n){const s=n.map(c=>c.currentWriteId),i=gh(t,e,s);let r=i;const o=i.hash();for(let c=0;c<n.length;c++){const u=n[c];w(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const h=Me(e,u.path);r=r.updateChild(h,u.currentOutputSnapshotRaw)}const l=r.val(!0),a=e;t.server_.put(a.toString(),l,c=>{_h(t,"transaction put response",{path:a.toString(),status:c});let u=[];if(c==="ok"){const h=[];for(let d=0;d<n.length;d++)n[d].status=2,u=u.concat(dn(t.serverSyncTree_,n[d].currentWriteId)),n[d].onComplete&&h.push(()=>n[d].onComplete(null,!0,n[d].currentOutputSnapshotResolved)),n[d].unwatcher();Fi(t,Bo(t.transactionQueueTree_,e)),$o(t,t.transactionQueueTree_),tn(t.eventQueue_,e,u);for(let d=0;d<h.length;d++)Rs(h[d])}else{if(c==="datastale")for(let h=0;h<n.length;h++)n[h].status===3?n[h].status=4:n[h].status=0;else{He("transaction at "+a.toString()+" failed: "+c);for(let h=0;h<n.length;h++)n[h].status=4,n[h].abortReason=c}Wo(t,e)}},o)}function Wo(t,e){const n=mh(t,e),s=Ps(n),i=yh(t,n);return Hv(t,i,s),s}function Hv(t,e,n){if(e.length===0)return;const s=[];let i=[];const o=e.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<e.length;l++){const a=e[l],c=Me(n,a.path);let u=!1,h;if(w(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),a.status===4)u=!0,h=a.abortReason,i=i.concat(dn(t.serverSyncTree_,a.currentWriteId,!0));else if(a.status===0)if(a.retryCount>=Nv)u=!0,h="maxretry",i=i.concat(dn(t.serverSyncTree_,a.currentWriteId,!0));else{const d=gh(t,a.path,o);a.currentInputSnapshot=d;const g=e[l].update(d.val());if(g!==void 0){ch("transaction failed: Data returned ",g,a.path);let b=xe(g);typeof g=="object"&&g!=null&&yt(g,".priority")||(b=b.updatePriority(d.getPriority()));const k=a.currentWriteId,O=ph(t),D=mv(b,d,O);a.currentOutputSnapshotRaw=b,a.currentOutputSnapshotResolved=D,a.currentWriteId=Mv(t),o.splice(o.indexOf(k),1),i=i.concat(sv(t.serverSyncTree_,a.path,D,a.currentWriteId,a.applyLocally)),i=i.concat(dn(t.serverSyncTree_,k,!0))}else u=!0,h="nodata",i=i.concat(dn(t.serverSyncTree_,a.currentWriteId,!0))}tn(t.eventQueue_,n,i),i=[],u&&(e[l].status=2,function(d){setTimeout(d,Math.floor(0))}(e[l].unwatcher),e[l].onComplete&&(h==="nodata"?s.push(()=>e[l].onComplete(null,!1,e[l].currentInputSnapshot)):s.push(()=>e[l].onComplete(new Error(h),!1,null))))}Fi(t,t.transactionQueueTree_);for(let l=0;l<s.length;l++)Rs(s[l]);$o(t,t.transactionQueueTree_)}function mh(t,e){let n,s=t.transactionQueueTree_;for(n=V(e);n!==null&&Fn(s)===void 0;)s=Bo(s,n),e=re(e),n=V(e);return s}function yh(t,e){const n=[];return vh(t,e,n),n.sort((s,i)=>s.order-i.order),n}function vh(t,e,n){const s=Fn(e);if(s)for(let i=0;i<s.length;i++)n.push(s[i]);Li(e,i=>{vh(t,i,n)})}function Fi(t,e){const n=Fn(e);if(n){let s=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[s]=n[i],s++);n.length=s,ih(e,n.length>0?n:void 0)}Li(e,s=>{Fi(t,s)})}function $v(t,e){const n=Ps(mh(t,e)),s=Bo(t.transactionQueueTree_,e);return vv(s,i=>{rr(t,i)}),rr(t,s),oh(s,i=>{rr(t,i)}),n}function rr(t,e){const n=Fn(e);if(n){const s=[];let i=[],r=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(w(r===o-1,"All SENT items should be at beginning of queue."),r=o,n[o].status=3,n[o].abortReason="set"):(w(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(dn(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&s.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));r===-1?ih(e,void 0):n.length=r+1,tn(t.eventQueue_,Ps(e),i);for(let o=0;o<s.length;o++)Rs(s[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wv(t){let e="";const n=t.split("/");for(let s=0;s<n.length;s++)if(n[s].length>0){let i=n[s];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function Uv(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const s=n.split("=");s.length===2?e[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):He(`Invalid query segment '${n}' in query '${t}'`)}return e}const Oa=function(t,e){const n=jv(t),s=n.namespace;n.domain==="firebase.com"&&gt(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!s||s==="undefined")&&n.domain!=="localhost"&&gt("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||tm();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Cu(n.host,n.secure,s,i,e,"",s!==n.subdomain),path:new ne(n.pathString)}},jv=function(t){let e="",n="",s="",i="",r="",o=!0,l="https",a=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(l=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let h=t.indexOf("?");h===-1&&(h=t.length),e=t.substring(0,Math.min(u,h)),u<h&&(i=Wv(t.substring(u,h)));const d=Uv(t.substring(Math.min(t.length,h)));c=e.indexOf(":"),c>=0?(o=l==="https"||l==="wss",a=parseInt(e.substring(c+1),10)):c=e.length;const g=e.slice(0,c);if(g.toLowerCase()==="localhost")n="localhost";else if(g.split(".").length<=2)n=g;else{const b=e.indexOf(".");s=e.substring(0,b).toLowerCase(),n=e.substring(b+1),r=s}"ns"in d&&(r=d.ns)}return{host:e,port:a,domain:n,subdomain:s,secure:o,scheme:l,pathString:i,namespace:r}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e,n,s,i){this.eventType=e,this.eventRegistration=n,this.snapshot=s,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+ge(this.snapshot.exportVal())}}class Ch{constructor(e,n,s){this.eventRegistration=e,this.error=n,this.path=s}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return w(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e,n,s,i){this._repo=e,this._path=n,this._queryParams=s,this._orderByCalled=i}get key(){return z(this._path)?null:Au(this._path)}get ref(){return new vt(this._repo,this._path)}get _queryIdentifier(){const e=ga(this._queryParams),n=_o(e);return n==="{}"?"default":n}get _queryObject(){return ga(this._queryParams)}isEqual(e){if(e=Ai(e),!(e instanceof Uo))return!1;const n=this._repo===e._repo,s=vo(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&s&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+Bm(this._path)}}class vt extends Uo{constructor(e,n){super(e,n,new wo,!1)}get parent(){const e=ku(this._path);return e===null?null:new vt(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Es{constructor(e,n,s){this._node=e,this.ref=n,this._index=s}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new ne(e),s=gi(this.ref,e);return new Es(this._node.getChild(n),s,ce)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(s,i)=>e(new Es(i,gi(this.ref,s),ce)))}hasChild(e){const n=new ne(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function zv(t,e){return t=Ai(t),t._checkNotDeleted("ref"),e!==void 0?gi(t._root,e):t._root}function gi(t,e){return t=Ai(t),V(t._path)===null?xv("child","path",e,!1):uh("child","path",e,!1),new vt(t._repo,he(t._path,e))}class jo{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const s=n._queryParams.getIndex();return new bh("value",this,new Es(e.snapshotNode,new vt(n._repo,n._path),s))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new Ch(this,e,n):null}matches(e){return e instanceof jo?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class Vo{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new Ch(this,e,n):null}createEvent(e,n){w(e.childName!=null,"Child events should have a childName.");const s=gi(new vt(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new bh(e.type,this,new Es(e.snapshotNode,s,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof Vo?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function qv(t,e,n,s,i){let r;if(typeof s=="object"&&(r=void 0,i=s),typeof s=="function"&&(r=s),i&&i.onlyOnce){const a=n,c=(u,h)=>{ka(t._repo,t,l),a(u,h)};c.userCallback=n.userCallback,c.context=n.context,n=c}const o=new Vv(n,r||void 0),l=e==="value"?new jo(o):new Vo(e,o);return Lv(t._repo,t,l),()=>ka(t._repo,t,l)}function Kv(t,e,n,s){return qv(t,"value",e,n,s)}Gy(vt);ev(vt);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gv="FIREBASE_DATABASE_EMULATOR_HOST",Wr={};let Yv=!1;function Qv(t,e,n,s){t.repoInfo_=new Cu(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),s&&(t.authTokenProvider_=s)}function Xv(t,e,n,s,i){let r=s||t.options.databaseURL;r===void 0&&(t.options.projectId||gt("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),we("Using default host for project ",t.options.projectId),r=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=Oa(r,i),l=o.repoInfo,a,c;typeof process<"u"&&process.env&&(c=process.env[Gv]),c?(a=!0,r=`http://${c}?ns=${l.namespace}`,o=Oa(r,i),l=o.repoInfo):a=!o.repoInfo.secure;const u=i&&a?new bn(bn.OWNER):new dm(t.name,t.options,e);Iv("Invalid Firebase Database URL",o),z(o.path)||gt("Database URL must point to the root of a Firebase Database (not including a child path).");const h=Zv(l,t,u,new hm(t.name,n));return new eb(h,t)}function Jv(t,e){const n=Wr[e];(!n||n[t.key]!==t)&&gt(`Database ${e}(${t.repoInfo_}) has already been deleted.`),Fv(t),delete n[t.key]}function Zv(t,e,n,s){let i=Wr[e.name];i||(i={},Wr[e.name]=i);let r=i[t.toURLString()];return r&&gt("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),r=new Av(t,Yv,n,s),i[t.toURLString()]=r,r}let eb=class{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Pv(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new vt(this._repo,Y())),this._rootInternal}_delete(){return this._rootInternal!==null&&(Jv(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&gt("Cannot call "+e+" on a deleted database.")}};function tb(t=$g(),e){const n=Lg(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const s=R_("database");s&&nb(n,...s)}return n}function nb(t,e,n,s={}){t=Ai(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&gt("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let r;if(i.repoInfo_.nodeAdmin)s.mockUserToken&&gt('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),r=new bn(bn.OWNER);else if(s.mockUserToken){const o=typeof s.mockUserToken=="string"?s.mockUserToken:N_(s.mockUserToken,t.app.options.projectId);r=new bn(o)}Qv(i,e,n,r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sb(t){Qg(Hg),si(new ps("database",(e,{instanceIdentifier:n})=>{const s=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),r=e.getProvider("app-check-internal");return Xv(s,i,r,n)},"PUBLIC").setMultipleInstances(!0)),yn(Zl,ea,t),yn(Zl,ea,"esm2017")}pt.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};pt.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};sb();var ib="firebase",rb="9.22.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yn(ib,rb,"app");su({apiKey:"AIzaSyBFze76GCC9-MfNll_4_twwA04R_mWKKYk",authDomain:"test-d010f.firebaseapp.com",projectId:"test-d010f",storageBucket:"test-d010f.appspot.com",messagingSenderId:"234176974670",appId:"1:234176974670:web:99f528ecb120570d9bd81f",measurementId:"G-2LH03JLTVM"});const ob=tb(),lb={class:"container mx-auto"},ab={class:"relative bg-white shadow"},cb={class:"container px-6 py-4 mx-auto md:flex md:justify-between md:items-center"},ub={class:"flex items-center justify-between"},hb={href:"#"},db=["src"],fb={class:"flex lg:hidden"},pb={xmlns:"http://www.w3.org/2000/svg",class:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},_b=I("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4 8h16M4 16h16"},null,-1),gb=[_b],mb={xmlns:"http://www.w3.org/2000/svg",class:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},yb=I("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"},null,-1),vb=[yb],bb=I("div",{class:"flex flex-col md:flex-row md:mx-6"},[I("a",{class:"my-2 text-gray-700 transition-colors duration-300 transform hover:text-blue-500 md:mx-4 md:my-0",href:"#aboutus"}," About us "),I("a",{class:"my-2 text-gray-700 transition-colors duration-300 transform hover:text-blue-500 md:mx-4 md:my-0",href:"#prodect"}," our prodect "),I("a",{class:"my-2 text-gray-700 transition-colors duration-300 transform hover:text-blue-500 md:mx-4 md:my-0",href:"#recipes"}," recipes ")],-1),Cb=[bb],Eb={class:"relative grid h-[40rem] w-full flex-col items-end justify-center overflow-hidden bg-white bg-clip-border text-center text-gray-700"},wb=["src"],xb={class:"relative p-6 py-14 px-6 md:px-12"},Ib=["textContent"],Sb=["textContent"],Tb={id:"aboutus",style:{padding:"45px"},class:"bg-[#00d687] relative grid w-full flex-col overflow-hidden bg-clip-border text-center text-gray-700"},Rb=["textContent"],Nb=["textContent"],Ab={class:"carousel w-full"},Pb=["src"],kb=["textContent"],Ob=["textContent"],Mb={id:"prodect",style:{margin:"45px 0","box-shadow":"none",padding:"20px"},class:"relative grid w-full flex-col overflow-hidden bg-clip-border text-center text-gray-700 grid grid-cols-3 gap-4"},Db={class:"relative mx-4 mt-4 h-80 overflow-hidden rounded-xl bg-white bg-clip-border text-gray-700 shadow-lg"},Lb=["src"],Fb=Rc('<div class="p-6 text-center"><h4 class="mb-2 block font-sans text-2xl font-semibold leading-snug tracking-normal text-blue-gray-900 antialiased"> Natalie Paisley </h4><p class="block bg-gradient-to-tr from-pink-600 to-pink-400 bg-clip-text font-sans text-base font-medium leading-relaxed text-transparent antialiased"> CEO / Co-Founder </p></div><div class="flex justify-center gap-7 p-6 pt-2"><a class="px-6 py-2 font-medium tracking-wide text-white capitalize transition-colors duration-300 transform bg-blue-600 rounded-lg hover:bg-blue-500 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-80"> order now </a></div>',2),Bb={id:"form",class:"bg-[#00d687] relative w-full flex-col overflow-hidden text-center text-gray-700"},Hb=["textContent"],$b=["textContent"],Wb=Rc('<section class="max-w-4xl p-6 mx-auto bg-white rounded-md shadow-md"><h2 class="text-lg font-semibold text-gray-700 capitalize">order now</h2><div class="grid grid-cols-1 gap-6 mt-4 sm:grid-cols-2"><div><label class="text-gray-700" for="name">name</label><input id="name" type="text" class="block w-full px-4 py-2 mt-2 text-gray-700 bg-white border border-gray-200 rounded-md focus:border-blue-400 focus:ring-blue-300 focus:ring-opacity-40 focus:outline-none focus:ring"></div><div><label class="text-gray-700" for="email">email</label><input id="email" type="email" class="block w-full px-4 py-2 mt-2 text-gray-700 bg-white border border-gray-200 rounded-md focus:border-blue-400 focus:ring-blue-300 focus:ring-opacity-40 focus:outline-none focus:ring"></div><div><label class="text-gray-700" for="address">address</label><input id="address" type="password" class="block w-full px-4 py-2 mt-2 text-gray-700 bg-white border border-gray-200 rounded-md focus:border-blue-400 focus:ring-blue-300 focus:ring-opacity-40 focus:outline-none focus:ring"></div><div><label class="text-gray-700" for="phone">phone</label><input id="phone" type="password" class="block w-full px-4 py-2 mt-2 text-gray-700 bg-white border border-gray-200 rounded-md focus:border-blue-400 focus:ring-blue-300 focus:ring-opacity-40 focus:outline-none focus:ring"></div></div><div class="grid grid-cols-12 gap-0 mt-4 sm:grid-cols-1"><a class="px-6 py-2 my-8 font-medium tracking-wide text-white capitalize transition-colors duration-300 transform bg-blue-600 rounded-lg hover:bg-blue-500 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-80"> order now </a></div></section><nav class="bg-amber-300"><div class="container flex items-center justify-center p-6 mx-auto text-gray-600 capitalize"><div class="text-lime-800 transition-colors duration-300 transform mx-1.5 sm:mx-6 text-7xl uppercase">try our recipes</div></div></nav><nav class="bg-lime-800"><div>|</div></nav>',3),Ub={id:"recipes",style:{margin:"45px 0","box-shadow":"none",padding:"20px"},class:"relative grid w-full flex-col overflow-hidden bg-clip-border text-center text-gray-700 grid grid-cols-3 gap-4"},jb={class:"relative mx-4 mt-4 h-80 overflow-hidden rounded-xl bg-white bg-clip-border text-gray-700 shadow-lg"},Vb=["src"],zb={class:"p-6 text-center"},qb=["textContent"],Kb=["textContent"],Gb=I("div",{class:"flex justify-center gap-7 p-6 pt-2"},[I("a",{class:"px-6 py-2 font-medium tracking-wide text-white capitalize transition-colors duration-300 transform bg-blue-600 rounded-lg hover:bg-blue-500 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-80"}," order now ")],-1),Yb={id:"footer",class:"bg-[#001707] text-gray-400"},Qb={class:"px-4 pt-16 mx-auto sm:max-w-xl md:max-w-full lg:max-w-screen-xl md:px-24 lg:px-8"},Xb={class:"grid gap-10 row-gap-6 mb-8 sm:grid-cols-2 lg:grid-cols-4"},Jb={class:"sm:col-span-2"},Zb={href:"/","aria-label":"Go home",title:"Company",class:"inline-flex items-center"},e0=["src"],t0=["textContent"],n0={class:"mt-6 lg:max-w-sm"},s0=["textContent"],i0={class:"space-y-2 text-sm"},r0=I("p",{class:"text-base font-bold tracking-wide text-gray-400"},"Contacts",-1),o0={class:"flex"},l0=I("p",{class:"mr-1 text-gray-500"},"Phone:",-1),a0=["href","textContent"],c0={class:"flex"},u0=I("p",{class:"mr-1 text-gray-500"},"Email:",-1),h0=["href","textContent"],d0={class:"flex"},f0=I("p",{class:"mr-1 text-gray-500"},"Address:",-1),p0=["href","textContent"],_0=I("span",{class:"text-base font-bold tracking-wide text-gray-400"},"Social",-1),g0={class:"flex items-center mt-1 space-x-3 text-2xl"},m0=["href"],y0=I("i",{class:"fab fa-facebook"},null,-1),v0=[y0],b0=["href"],C0=I("i",{class:"fab fa-instagram"},null,-1),E0=[C0],w0=["href"],x0=I("i",{class:"fab fa-twitter"},null,-1),I0=[x0],S0=["href"],T0=I("i",{class:"fab fa-whatsapp"},null,-1),R0=[T0],N0={class:"flex flex-col-reverse justify-between pt-5 pb-10 border-t lg:flex-row"},A0=["textContent"],P0=so({__name:"HomeView",setup(t){const e=Qn({aboutus:{description:"will make your life tasty will make your life tasty will make your life tasty will make your life tasty will make your life tasty will make your life tasty will make your life tasty will make your life tasty will make your life tasty will make your life tasty will make your life tasty will make your life tasty will make your life tasty will make your life tasty will make your life tasty will make your life tasty will make your life tasty will make your life tasty will make your life tasty will make your life tasty will make your life tasty will make your life tasty will make your life tasty will make your life tasty will make your life tasty will make your life tasty will make your life tasty will make your life tasty will make your life",slides:[{color:"indigo",description:"description1",src:"https://placehold.co/600x600"},{color:"warning",description:"description2",src:"https://placehold.co/600x600"},{color:"pink darken-2",description:"description3",src:"https://placehold.co/600x600"},{color:"red lighten-1",description:"description4",src:"https://placehold.co/600x600"},{color:"red",description:"description5",src:"https://placehold.co/600x600"}],subheading:"know your item and go to the next step",title:"About us"},app_infos:{Copyright:"© Copyright 2020 Lorem Inc test. All rights reserved.",address:"https://www.google.com/maps",background:"https://placehold.co/1200x600",description:"test description test description test description test description test description test description test description test description test description test description test description test description test description test description test description test description test description test description test description test description",email:"email@email.com",facebook:"facebook.com",instagram:"instagram.com",logo:"https://placehold.co/400x150",name:"green",phone:0x6510a9404cbe,slogan:"will make your life tasty",twitter:"twitter.com"},order:{description:"will make your life tasty",title:"give us uo order"},prodect:[{description:"description",src:"https://placehold.co/600x600",title:"squirrel"},{description:"description",src:"https://placehold.co/600x600",title:"sky"},{description:"description",src:"https://placehold.co/600x600",title:"bird"},{description:"description",src:"https://placehold.co/600x600",title:"planet"},{description:"https://cdn.vuetifyjs",src:"https://placehold.co/600x600",title:"planet"},{description:"https://cdn.vuetifyjs",src:"https://placehold.co/600x600",title:"planet"}],recipes:[{description:"test description test description test description test description test description test description test description test description test description test description test description test description test description test description test description test description test description test description test description test description",src:"https://placehold.co/600x600",title:"planet0"},{description:"test description test description test description test description test description test description test description test description test description test description test description test description test description test description test description test description test description test description test description test description",src:"https://placehold.co/600x600",title:"planet1"},{description:"test description test description test description test description test description test description test description test description test description test description test description test description test description test description test description test description test description test description test description test description",src:"https://placehold.co/600x600",title:"planet2"}]});Kv(zv(ob,"home"),s=>{e.value=s.val(),console.log(e.value)}),Qn("will make your life tasty ".repeat(100));const n=Qn(!1);return(s,i)=>{const r=Ys("slide"),o=Ys("carousel-3d");return Ee(),je("div",lb,[I("nav",ab,[I("div",cb,[I("div",ub,[I("a",hb,[I("img",{class:"w-auto h-6 sm:h-7",src:e.value.app_infos.logo,alt:"logo"},null,8,db)]),I("div",fb,[I("button",{onClick:i[0]||(i[0]=l=>n.value=!n.value),type:"button",class:"text-gray-500 hover:text-gray-600 focus:outline-none focus:text-gray-600","aria-label":"toggle menu"},[il((Ee(),je("svg",pb,gb,512)),[[Il,!n.value]]),il((Ee(),je("svg",mb,vb,512)),[[Il,n.value]])])])]),I("div",{class:Gt([[n.value?"translate-x-0 opacity-100 ":"opacity-0 -translate-x-full"],"absolute inset-x-0 z-20 w-full px-6 py-4 transition-all duration-300 ease-in-out bg-white md:mt-0 md:p-0 md:top-0 md:relative md:bg-transparent md:w-auto md:opacity-100 md:translate-x-0 md:flex md:items-center"])},Cb,2)])]),I("div",Eb,[I("img",{class:"absolute inset-0 m-0 w-full overflow-hidden rounded-none bg-transparent bg-cover bg-clip-border bg-center text-gray-700 shadow-none",src:e.value.app_infos.background,alt:"logo"},null,8,wb),I("div",xb,[I("h4",{class:"mb-4 block font-sans text-9xl font-bold leading-snug tracking-normal text-gray-400 antialiased uppercase",textContent:Ce(e.value.app_infos.name)},null,8,Ib),I("h2",{class:"mb-6 block font-sans text-4xl font-medium leading-[1.5] tracking-normal text-white uppercase",textContent:Ce(e.value.app_infos.slogan)},null,8,Sb)])]),I("div",Tb,[I("div",null,[I("h4",{class:"mb-4 block font-sans text-7xl font-bold leading-snug tracking-normal antialiased uppercase",textContent:Ce(e.value.aboutus.title)},null,8,Rb),I("h2",{class:"mb-6 block font-sans text-lg font-medium leading-[1.5] tracking-normal text-white uppercase",textContent:Ce(e.value.aboutus.description)},null,8,Nb)]),I("div",Ab,[Re(o,{autoplay:!0,"autoplay-timeout":5e3,"controls-visible":!0,clickable:!1},{default:dr(()=>[(Ee(!0),je(Oe,null,Ui(e.value.aboutus.slides,(l,a)=>(Ee(),xs(r,{index:a,key:a},{default:dr(()=>[I("img",{src:l.src},null,8,Pb),I("div",{textContent:Ce(l.description),style:{position:"absolute","background-color":"rgba(0, 0, 0, 0.5)",color:"#fff",bottom:"0",padding:"15px","font-size":"12px","min-width":"100%","box-sizing":"border-box"}},null,8,kb)]),_:2},1032,["index"]))),128))]),_:1}),I("h2",{class:"mb-6 block font-sans text-lg font-medium leading-[1.5] tracking-normal uppercase",textContent:Ce(e.value.aboutus.subheading)},null,8,Ob)])]),I("div",Mb,[(Ee(!0),je(Oe,null,Ui(e.value.prodect,(l,a)=>(Ee(),je("div",{key:a,class:"text-center relative flex w-96 flex-col rounded-xl bg-white bg-clip-border text-gray-700 shadow-md"},[I("div",Db,[I("img",{src:l.src,alt:"profile-picture"},null,8,Lb)]),Fb]))),128))]),I("div",Bb,[I("div",null,[I("h4",{class:"mb-4 block font-sans text-7xl font-bold leading-snug tracking-normal antialiased uppercase",textContent:Ce(e.value.order.title)},null,8,Hb),I("h2",{class:"mb-6 block font-sans text-lg font-medium leading-[1.5] tracking-normal text-white uppercase",textContent:Ce(e.value.order.description)},null,8,$b)]),Wb]),I("div",Ub,[(Ee(!0),je(Oe,null,Ui(e.value.recipes,(l,a)=>(Ee(),je("div",{key:a,class:"text-center relative flex w-96 flex-col rounded-xl bg-white bg-clip-border text-gray-700 shadow-md"},[I("div",jb,[I("img",{src:l.src,alt:"profile-picture"},null,8,Vb)]),I("div",zb,[I("h4",{class:"mb-2 block font-sans text-2xl font-semibold leading-snug tracking-normal text-blue-gray-900 antialiased",textContent:Ce(l.title)},null,8,qb),I("p",{class:"block bg-gradient-to-tr from-pink-600 to-pink-400 bg-clip-text font-sans text-base font-medium leading-relaxed text-transparent antialiased",textContent:Ce(l.description)},null,8,Kb)]),Gb]))),128))]),I("div",Yb,[I("div",Qb,[I("div",Xb,[I("div",Jb,[I("a",Zb,[I("img",{class:"w-auto h-6 sm:h-7",src:e.value.app_infos.logo,alt:"logo"},null,8,e0),I("span",{class:"ml-2 text-xl font-bold tracking-wide text-gray-500 uppercase",textContent:Ce(e.value.app_infos.name)},null,8,t0)]),I("div",n0,[I("p",{class:"text-sm text-gray-500",textContent:Ce(e.value.app_infos.description)},null,8,s0)])]),I("div",i0,[r0,I("div",o0,[l0,I("a",{href:"tel:"+e.value.app_infos.phone,"aria-label":"Our phone",title:"Our phone",class:"transition-colors duration-300 text-deep-purple-accent-400 hover:text-deep-purple-800",textContent:Ce(e.value.app_infos.phone)},null,8,a0)]),I("div",c0,[u0,I("a",{href:"mailto:"+e.value.app_infos.email,"aria-label":"Our email",title:"Our email",class:"transition-colors duration-300 text-deep-purple-accent-400 hover:text-deep-purple-800",textContent:Ce(e.value.app_infos.email)},null,8,h0)]),I("div",d0,[f0,I("a",{href:e.value.app_infos.address,target:"_blank",rel:"noopener noreferrer","aria-label":"Our address",title:"Our address",class:"transition-colors duration-300 text-deep-purple-accent-400 hover:text-deep-purple-800",textContent:Ce(e.value.app_infos.address)},null,8,p0)])]),I("div",null,[_0,I("div",g0,[I("a",{href:e.value.app_infos.facebook,class:"text-gray-500 transition-colors duration-300 hover:text-deep-purple-accent-400"},v0,8,m0),I("a",{href:e.value.app_infos.instagram,class:"text-gray-500 transition-colors duration-300 hover:text-deep-purple-accent-400"},E0,8,b0),I("a",{href:e.value.app_infos.twitter,class:"text-gray-500 transition-colors duration-300 hover:text-deep-purple-accent-400"},I0,8,w0),I("a",{href:"tel:"+e.value.app_infos.phone,class:"text-gray-500 transition-colors duration-300 hover:text-deep-purple-accent-400"},R0,8,S0)])])]),I("div",N0,[I("p",{class:"text-sm text-gray-600",textContent:Ce(e.value.app_infos.Copyright)},null,8,A0)])])])])}}}),k0=m_({history:Op("/mohmedShop"),routes:[{path:"/",name:"home",component:P0}]}),Bi=qf(_p);Bi.use(ap);Bi.use(hp());Bi.use(k0);Bi.mount("#app");
